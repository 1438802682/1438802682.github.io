<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Linux学习笔记合集 | CtrlCherry</title><meta name="keywords" content="合集,Linux"><meta name="author" content="CtrlX"><meta name="copyright" content="CtrlX"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Linux操作系统 重点：linux的安装 linux的常用指令 linux的网络配置 shell编程 难点：linux的磁盘分区  linux的shell编程  linux日志  linux基础篇linux的基本概述linux的由来​	linux是一个开源、免费的操作系统，其稳定性、安全性、处理多并发已经得到业界的认可，目前很多企业级的项目都会部署到Linux&#x2F;unix系统上。常见的操">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux学习笔记合集">
<meta property="og:url" content="http://ctrlx.life/post/ea10355e.html">
<meta property="og:site_name" content="CtrlCherry">
<meta property="og:description" content="Linux操作系统 重点：linux的安装 linux的常用指令 linux的网络配置 shell编程 难点：linux的磁盘分区  linux的shell编程  linux日志  linux基础篇linux的基本概述linux的由来​	linux是一个开源、免费的操作系统，其稳定性、安全性、处理多并发已经得到业界的认可，目前很多企业级的项目都会部署到Linux&#x2F;unix系统上。常见的操">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/hexoBlogCtrlCherry/jy8.53nku5qlm5o0.webp">
<meta property="article:published_time" content="2022-10-08T02:41:42.000Z">
<meta property="article:modified_time" content="2022-11-11T07:28:26.000Z">
<meta property="article:author" content="CtrlX">
<meta property="article:tag" content="合集">
<meta property="article:tag" content="Linux">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/hexoBlogCtrlCherry/jy8.53nku5qlm5o0.webp"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://ctrlx.life/post/ea10355e"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="manifest" href="/pwa/manifest.json"/><link rel="apple-touch-icon" sizes="180x180" href="/pwa/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/pwa/32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/pwa/16.png"/><link rel="mask-icon" href="/pwa/safari-pinned-tab.svg" color="#5bbad5"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Linux学习笔记合集',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-11-11 15:28:26'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const now = new Date()
          const hour = now.getHours()
          const isNight = hour <= 6 || hour >= 18
          if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
          else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><!-- hexo injector head_end start --><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-swiper/swiper/swiper.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-swiper/swiper/swiperstyle.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-card-history/baiduhistory/css/main.css"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-clock/lib/clock.min.css" /><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.2.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/favicon.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">106</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">18</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">20</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/tags/%E5%90%88%E9%9B%86/"><i class="fa-fw fa-solid fa-floppy-disk"></i><span> compilation</span></a></li><li><a class="site-page child" href="/picture/"><i class="fa-fw fas fa-images"></i><span> Picture</span></a></li><li><a class="site-page child" href="/game/"><i class="fa-fw fa-solid fa-ghost"></i><span> Game</span></a></li><li><a class="site-page child" href="/books/"><i class="fa-fw fa-solid fa-book-journal-whills"></i><span> Book</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://cdn.staticaly.com/gh/1438802682/image-hosting@master/hexoBlogCtrlCherry/jy8.53nku5qlm5o0.webp')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">CtrlCherry</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/tags/%E5%90%88%E9%9B%86/"><i class="fa-fw fa-solid fa-floppy-disk"></i><span> compilation</span></a></li><li><a class="site-page child" href="/picture/"><i class="fa-fw fas fa-images"></i><span> Picture</span></a></li><li><a class="site-page child" href="/game/"><i class="fa-fw fa-solid fa-ghost"></i><span> Game</span></a></li><li><a class="site-page child" href="/books/"><i class="fa-fw fa-solid fa-book-journal-whills"></i><span> Book</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Linux学习笔记合集</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-10-08T02:41:42.000Z" title="发表于 2022-10-08 10:41:42">2022-10-08</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-11-11T07:28:26.000Z" title="更新于 2022-11-11 15:28:26">2022-11-11</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Linux/">Linux</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">35.4k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>135分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Linux学习笔记合集"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="Linux操作系统"><a href="#Linux操作系统" class="headerlink" title="Linux操作系统"></a>Linux操作系统</h1><blockquote>
<p>重点：linux的安装 linux的常用指令 linux的网络配置 shell编程</p>
<p>难点：linux的磁盘分区  linux的shell编程  linux日志</p>
</blockquote>
<h2 id="linux基础篇"><a href="#linux基础篇" class="headerlink" title="linux基础篇"></a>linux基础篇</h2><h3 id="linux的基本概述"><a href="#linux的基本概述" class="headerlink" title="linux的基本概述"></a>linux的基本概述</h3><h4 id="linux的由来"><a href="#linux的由来" class="headerlink" title="linux的由来"></a>linux的由来</h4><p>​	linux是一个开源、免费的操作系统，其稳定性、安全性、处理多并发已经得到业界的认可，目前很多企业级的项目都会部署到Linux&#x2F;unix系统上。常见的操作系统有windows、macOS、IOS、Andriod、linux等。</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220817112420.en3e3ht1x68.webp" alt="20220817112420"></p>
<p>​	1991年，李纳斯·托瓦兹Linus Torvalds，一个芬兰赫尔辛基大学的学生，出于个人爱好而编写的，当时他觉得教学用的迷你版UNIX操作系统Minix太难用了，于是决定自己开发一个操作系统。第一个版本于1991年9月发布，当时仅有10000行代码。由于Linux具有结构清晰、功能简捷等特点，许多大专院校的学生和科研机构的研究人员纷纷把它作为学习和研究的对象。</p>
<p>​	关于Linux Logo的由来是一个很有意思的话题，它是一只企鹅，为什么选择企鹅？</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220817211038.3glg1jy34ls0.webp" alt="20220817211038"></p>
<p>​	对此,有种说法是：企鹅是南极洲的标志性动物，根据国际公约，南极洲为全人类共同所有，不属于世界上的任何国家，任何国家都无权将南极洲纳入其版图。Linux选择企鹅图案作为Logo，其含义是：开放源代码的Linux为全人类共同所有，任何公司无权将其私有。</p>
<p>​	Linux有很多的发行版本，好比windows有windows xp，win7,win10。虽然这个比喻不是很恰当，但是对于初学者来说可以暂时这样理解。在全球范围内有上百款Liunx发行版，常见的主流发行版如下图所示：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220817211540.7ffmo7wdwow0.webp" alt="20220817211540"></p>
<h4 id="linux与unix的关系"><a href="#linux与unix的关系" class="headerlink" title="linux与unix的关系"></a>linux与unix的关系</h4><h5 id="unix"><a href="#unix" class="headerlink" title="unix"></a>unix</h5><p>​	UNIX 操作系统由肯•汤普森（Ken Thompson）和丹尼斯•里奇（Dennis Ritchie）发明。它的部分技术来源可追溯到从 1965 年开始的 Multics 工程计划，该计划由贝尔实验室、美国麻省理工学院和通用电气公司联合发起，目标是开发一种交互式的、具有多道程序处理能力的分时操作系统，以取代当时广泛使用的批处理操作系统。</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">说明：分时操作系统使一台计算机可以同时为多个用户服务，连接计算机的终端用户交互式发出命令，操作系统采用时间片轮转的方式处理用户的服务请求并在终端上显示结果（操作系统将CPU的时间划分成若干个片段，称为时间片）。操作系统以时间片为单位，轮流为每个终端用户服务，每次服务一个时间片。</span><br></pre></td></tr></table></figure>

<p>​	可惜，由于 Multics 工程计划所追求的目标太庞大、太复杂，以至于它的开发人员都不知道要做成什么样子，最终以失败收场。</p>
<p>​	以肯•汤普森为首的贝尔实验室研究人员吸取了 Multics 工程计划失败的经验教训，于 1969 年实现了一种分时操作系统的雏形，1970 年该系统正式取名为 UNIX。</p>
<p>​	想一下英文中的前缀 Multi 和 Uni，就明白了 UNIX 的隐意。Multi 是大的意思，大而且繁；而 Uni 是小的意思，小而且巧。这是 UNIX 开发者的设计初衷，这个理念一直影响至今。</p>
<p>​	自 1970 年后，UNIX 系统在贝尔实验室内部的程序员之间逐渐流行起来。1971-1972 年，肯•汤普森的同事丹尼斯•里奇发明了传说中的C语言，这是一种适合编写系统软件的高级语言，它的诞生是 UNIX 系统发展过程中的一个重要里程碑，它宣告了在操作系统的开发中，<a target="_blank" rel="noopener" href="http://c.biancheng.net/asm/">汇编语言</a>不再是主宰。</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220817214018.466a46uca6g0.webp" alt="20220817214018"></p>
<p>​	到了 1973 年，UNIX 系统的绝大部分源代码都用C语言进行了重写，这为提高 UNIX 系统的可移植性打下了基础（之前操作系统多采用汇编语言，对硬件依赖性强），也为提高系统软件的开发效率创造了条件。可以说，UNIX 系统与C语言是一对孪生兄弟，具有密不可分的关系。</p>
<p>​	随后出现了各种版本的 UNIX 系统，目前常见的有 Sun Solaris、FreeBSD、IBM AIX、HP-UX 等。</p>
<h5 id="linux"><a href="#linux" class="headerlink" title="linux"></a>linux</h5><p>​	Linux 内核最初是由李纳斯•托瓦兹（Linus Torvalds）在赫尔辛基大学读书时出于个人爱好而编写的，当时他觉得教学用的迷你版 UNIX 操作系统 Minix 太难用了，于是决定自己开发一个操作系统。第 1 版本于1991 年 9 月发布，当时仅有 10000 行代码。</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220817214124.638hw9hjh6s0.webp" alt="20220817214124"></p>
<p>​	李纳斯•托瓦兹没有保留 Linux 源代码的版权，公开了代码，并邀请他人一起完善 Linux。与 Windows 及其他有专利权的操作系统不同，Linux 开放源代码，任何人都可以免费使用它。</p>
<p>​	据估计，现在只有 2% 的 Linux 核心代码是由李纳斯•托瓦兹自己编写的，虽然他仍然拥有 Linux 内核（操作系统的核心部分），并且保留了选择新代码和需要合并的新方法的最终裁定权。现在大家所使用的 Linux，我更倾向于说是由李纳斯•托瓦兹和后来陆续加入的众多 Linux 好者共同开发完成的。</p>
<p>​	李纳斯•托瓦兹无疑是这个世界上最伟大的程序员之一，何况，他还搞出了全世界最大的程序员交友社区 <a target="_blank" rel="noopener" href="https://github.com/">GitHub</a> (开源代码库及版本控制系统）。</p>
<h5 id="unix与linux的区别"><a href="#unix与linux的区别" class="headerlink" title="unix与linux的区别"></a>unix与linux的区别</h5><p>​	二者的关系，不是大哥和小弟，”UNIX 是 Linux 的父亲”这个说法更怡当。之所以要介绍它们的关系，是因为要告诉读者，在学习的时候，其实 Linux 与 UNIX 有很多的共通之处，简单地说，如果你已经熟练掌握了 Linux，那么再上手使用 UNIX 会非常容易。</p>
<p>​	二者也有两个大的区别：</p>
<ol>
<li>UNIX 系统大多是与硬件配套的，也就是说，大多数 UNIX 系统如 AIX、HP-UX 等是无法安装在 x86 服务器和个人计算机上的，而 Linux 则可以运行在多种硬件平台上；</li>
<li>UNIX 是商业软件，而 Linux 是开源软件，是免费、公开源代码的。</li>
</ol>
<p>  Linux 受至旷大计算机爱好者的喜爱，主要原因也有两个：</p>
<ol>
<li>它属于开源软件，用户不用支付可费用就可以获得它和它的源代码，并且可以根据自己的需要对它进行必要的修改，无偿使用，无约束地继续传播；</li>
<li>它具有 UNIX 的全部功能，任何使用 UNIX 操作系统或想要学习 UNIX 操作系统的人都可以从 Linux 中获益。</li>
</ol>
<p><strong>总结unix与linux的区别：</strong></p>
<p>​	Linux 是一个类似 Unix 的操作系统，Unix 要早于 Linux，Linux 的初衷就是要替代 UNIX，并在功能和用户体验上进行优化，所以 Linux 模仿了 UNIX（但并没有抄袭 UNIX 的源码），使得 Linux 在外观和交互上与 UNIX 非常类似。</p>
<h3 id="linux的安装"><a href="#linux的安装" class="headerlink" title="linux的安装"></a>linux的安装</h3><p>​	我们安装linux操作系统有两种方法，一种是在裸机上直接安装(你需要格式化你本机的windows操作系统)，还有一种是在虚拟机上安装。我们推荐使用第二种方式来安装。</p>
<p>   所以我们需要先安装虚拟机，然后通过虚拟机来模拟出linux操作系统。虚拟机的产品有很多，在本套课程中，我们推荐大家使用vmware虚拟机。</p>
<h4 id="下载并安装vmware"><a href="#下载并安装vmware" class="headerlink" title="下载并安装vmware"></a>下载并安装vmware</h4><h5 id="下载vmware"><a href="#下载vmware" class="headerlink" title="下载vmware"></a>下载vmware</h5><ol>
<li>登录VMware官网下载<a target="_blank" rel="noopener" href="https://www.vmware.com/cn.html">https://www.vmware.com/cn.html</a></li>
</ol>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220817221610.2v3bkujzdgm0.webp" alt="20220817221610"></p>
<ol start="2">
<li>点击资源</li>
</ol>
<img src="E:/CtrlX/Desktop/笔记/01大学/正课课件/Linux课程笔记/笔记/linux课程/images/20220817221749.png">

<ol start="3">
<li>点击产品下载</li>
</ol>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220817221848.1t0i7hhl93nk.webp" alt="20220817221848"></p>
<ol start="4">
<li>选择产品A-Z</li>
</ol>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220817222155.1ydldf4e21uo.webp" alt="20220817222155"></p>
<ol start="5">
<li>下划到最后找到 VMware Workstation Pro</li>
</ol>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220817222333.2f0cpvgqdu4g.webp" alt="20220817222333"></p>
<ol start="6">
<li>点击下载产品</li>
</ol>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220817222449.3icydl1h29y0.webp" alt="20220817222449"></p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220817222558.28pampplxuzo.webp" alt="20220817222558"></p>
<p>为了简化大家的使用方式，在这里，老师把下载好的资源以存入百度云网盘,大家可以自行下载。</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">链接：https://pan.baidu.com/s/1J8k0osOhfImJKO3W7L-KuQ </span><br><span class="line">提取码：mnwg </span><br></pre></td></tr></table></figure>

<h5 id="安装vmware"><a href="#安装vmware" class="headerlink" title="安装vmware"></a>安装vmware</h5><p>具体安装步骤，大家可以操作如下博客进行安装：</p>
<p><a target="_blank" rel="noopener" href="https://blog.51cto.com/u_14289664/5133223">https://blog.51cto.com/u_14289664/5133223</a></p>
<p>安装到最后，输入秘钥。</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ZF3R0-FHED2-M80TY-8QYGC-NPKYF</span><br><span class="line">YF390-0HF8P-M81RQ-2DXQE-M2UT6</span><br><span class="line">ZF71R-DMX85-08DQY-8YMNC-PPHV8</span><br></pre></td></tr></table></figure>

<h5 id="某些电脑出现安装虚拟机失败的情况"><a href="#某些电脑出现安装虚拟机失败的情况" class="headerlink" title="某些电脑出现安装虚拟机失败的情况"></a>某些电脑出现安装虚拟机失败的情况</h5><p>在VMWare软件中，安装&#x2F;启动虚拟机时，如果出以类似以下的错误提示：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220817223559.fzjdwaj3qig.webp" alt="20220817223559"></p>
<p>出现该提示是由于电脑不支持虚拟化技术或是相关功能没有开启导致的。</p>
<p>解决方法有两种：</p>
<ol>
<li>重启电脑，进入BIOS，开启VT虚拟化相关选项，不同品牌的电脑BIOS参数不同，认真看，多尝试。类似如下：</li>
</ol>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220817223717.21p4n64ojn5s.webp" alt="20220817223717"></p>
<ol start="2">
<li><p>修改C:\ProgramData\VMware\VMware Workstation\config.ini文件，注意，您的VMWare安装目录不一定是C:\ProgramData\VMware\VMware Workstation，根据自己的实际情况来。</p>
<p>在config.ini中添加以下内容：</p>
<p>monitor.allowLegacyCPU &#x3D; “true”</p>
</li>
</ol>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220817223836.421w8wf05hk0.webp" alt="20220817223836"></p>
<p>重新打开VMWare软件，问题解决。</p>
<h4 id="安装centos7"><a href="#安装centos7" class="headerlink" title="安装centos7"></a>安装centos7</h4><h5 id="下载centos7镜像"><a href="#下载centos7镜像" class="headerlink" title="下载centos7镜像"></a>下载centos7镜像</h5><p>​	前面我们安装了vmware，现在我们要在虚拟机vmware里面安装centos7。接下来我们需要下载centos7镜像。</p>
<p>​	CentOS 7.6 DVD版：<a target="_blank" rel="noopener" href="https://mirrors.aliyun.com/centos-vault/7.6.1810/isos/x86_64/">https://mirrors.aliyun.com/centos-vault/7.6.1810/isos/x86_64/</a></p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220818091250.5docmw5az5c0.webp" alt="20220818091250"></p>
<p>但是在课程中我们给大家提供好了centos7的镜像，大家可以自行下载即可。</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">链接：https://pan.baidu.com/s/1q6BnzNmV9DATMkzyTTN_RQ </span><br><span class="line">提取码：0d3f </span><br></pre></td></tr></table></figure>

<h5 id="安装centos7-1"><a href="#安装centos7-1" class="headerlink" title="安装centos7"></a>安装centos7</h5><ul>
<li>打开vmware，创建新的虚拟机</li>
</ul>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220818094905.1478ngu28nr4.webp" alt="20220818094905"></p>
<ul>
<li>创建虚拟机向导</li>
</ul>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220818102811.67l92cit9aw0.webp" alt="20220818102811"></p>
<p>点击进入下一步。</p>
<ul>
<li>选择稍后安装操作系统</li>
</ul>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220818102939.6sercprp3lg0.webp" alt="20220818102939"></p>
<ul>
<li>选择客户机操作系统</li>
</ul>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220818103214.3b3xd760z9u0.webp" alt="20220818103214"></p>
<p>点击下一步。</p>
<ul>
<li>命名虚拟机</li>
</ul>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220818103601.3r86b3flgvm0.webp" alt="20220818103601"></p>
<p>点击下一步。</p>
<ul>
<li>配置处理器数量</li>
</ul>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220818104855.558hofv0kbs0.webp" alt="20220818104855"></p>
<p>点击下一步。</p>
<ul>
<li>配置虚拟机的内存</li>
</ul>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220818105008.w4koo1u1y5s.webp" alt="20220818105008"></p>
<ul>
<li>配置虚拟机网络</li>
</ul>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220818105117.7j7etifynqo0.webp" alt="20220818105117"></p>
<p>点击进入下一步选择默认选项。</p>
<ul>
<li>选择磁盘选项</li>
</ul>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220818105300.73yrq7tifcw0.webp" alt="20220818105300"></p>
<p>点击进入下一步。</p>
<ul>
<li>分配磁盘容量</li>
</ul>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220818105401.4c2yodust5k0.webp" alt="20220818105401"></p>
<p><strong>注意：磁盘容量20G，并不是真正的占用物理机的磁盘容量。而是随着后期linux系统中服务的安装，文件的增多，最大可以分配20G的磁盘空间给我们使用，当然如果空间不够用，我们还可以扩容。</strong></p>
<p>点击进入下一步选择默认选项。</p>
<ul>
<li>配置硬件</li>
</ul>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220818105848.2mbg6208ffq0.webp" alt="20220818105848"></p>
<ul>
<li>完成虚拟机配置向导</li>
</ul>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220818105944.580mn5d2y240.webp" alt="20220818105944"></p>
<p>到这一步，我们并没有安装完成linux。我们需要进行进一步的配置。</p>
<ul>
<li>点击开启虚拟机</li>
</ul>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220818113638.2l4f4rpyhgu0.webp" alt="20220818113638"></p>
<ul>
<li>install centos7</li>
</ul>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220818114007.4x9v1mh6hpk0.webp" alt="20220818114007"></p>
<ul>
<li>选择语言，默认是English，也可以选择中文</li>
</ul>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220818141036.3l4zsoltmxu0.webp" alt="20220818141036"></p>
<ul>
<li>选择时区 选择上海</li>
</ul>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220818141207.5bxc0wqi2vg0.webp" alt="20220818141207"></p>
<ul>
<li>安装类型选择图形化桌面版(默认是迷你安装)</li>
</ul>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220818141433.2vprrs3exm00.webp" alt="20220818141433">	</p>
<ul>
<li>配置磁盘分区</li>
</ul>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220818141648.2uhnqsio38g0.webp" alt="20220818141648"></p>
<p>点击INSTALLATION DESTINATION进行磁盘分区。</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220818141857.14ahmkr4b3wg.webp" alt="20220818141857"></p>
<p>linux操作系统，我们一般设置3个分区。分别是boot分区，swap分区(交换分区：如果内存不够用，交换分区可以临时充当内存)还有根分区。以总容量20G为例，一般分区大小设置如下：</p>
<p>boot分区 1G</p>
<p>swap分区 2G</p>
<p>根分区 17G</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220818143129.4vb9hpyktw60.webp" alt="20220818143129"></p>
<p>具体配置如下：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220818143459.3ftvixpry240.webp" alt="20220818143459"></p>
<p>配置结果如下：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220818143608.3sl7kjul3e00.webp" alt="20220818143608"></p>
<p>点击确定。</p>
<ul>
<li>接收配置</li>
</ul>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220818143814.60m9m46gyxo0.webp" alt="20220818143814"></p>
<ul>
<li>配置网络</li>
</ul>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220818143940.6aamrzssfv40.webp" alt="20220818143940"></p>
<p>点击进入NETWORK &amp; HOST NAME</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220818144139.1z4o5zoikqww.webp" alt="20220818144139"></p>
<ul>
<li>开始安装</li>
</ul>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220818144342.4q4h6s98pfk0.webp" alt="20220818144342"></p>
<ul>
<li>设置root用户名密码 自定义用户名密码</li>
</ul>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220818144548.61u309yhdio0.webp" alt="20220818144548"></p>
<p>安装完成，点击reboot重启系统即可。</p>
<h3 id="linux的基本常识"><a href="#linux的基本常识" class="headerlink" title="linux的基本常识"></a>linux的基本常识</h3><h4 id="linux网络连接三种方式"><a href="#linux网络连接三种方式" class="headerlink" title="linux网络连接三种方式"></a>linux网络连接三种方式</h4><ul>
<li>桥接模式</li>
</ul>
<p>下面，我们用一幅图来说明什么是桥接模式：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220825201911.6is9jexze1s0.webp" alt="20220825201911"></p>
<p>解释：</p>
<p>在桥接模式下，虚拟机里面的网络地址必须和外部的网络地址保持在同一网段(也就是前三组数字必须是一样的)。这样linux操作系统才可以和外部的机器进行通信。但是如果用户人数太多，<strong>容易造成IP冲突。</strong></p>
<ul>
<li>NAT模式（常用）</li>
</ul>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220825202752.tx43x8ap080.webp" alt="20220825202752"></p>
<p>解释：</p>
<p>在NAT模式下，虚拟机里面的网络可以不再和主机里面的网络保持在同一网段。但是主机里面会存在虚拟网卡(192.168.100.99)，这个虚拟网卡的ip地址必须和linux里面的IP地址(192.168.100.88)在同一网段。这样linux就可以通过虚拟网卡和主机之间进行通信了。同时也可以通过主机的真实地址(192.168.0.50)和外部网络进行通信。<strong>这样的好处是可以避免造成IP冲突。</strong></p>
<ul>
<li>主机模式</li>
</ul>
<p>这个很简单，就是linux系统的ip地址和主机的ip地址必须保持一致。</p>
<h4 id="虚拟机的克隆"><a href="#虚拟机的克隆" class="headerlink" title="虚拟机的克隆"></a>虚拟机的克隆</h4><p>如果你已经安装了一台linux操作系统，你还想要更多的linux操作系统，这里我们就没有必要再重新安装linux操作系统了，因为会非常的耗时、麻烦。你只需要在原来linux操作系统上克隆就可以实现。</p>
<p><strong>注意：克隆的时候，需要先关闭linux操作系统。</strong></p>
<p>下面我们介绍两种克隆虚拟机的方式：</p>
<p>方式1：直接拷贝一份安装好的虚拟机文件。</p>
<p>我们可以在已经安装的linux操作系统所在的目录上，直接复制 粘贴即可。</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220825204534.5w7cgmjff640.webp" alt="20220825204534"></p>
<p>上面的目录就是我们安装linux操作系统的目录，我们直接复制，然后粘贴到指定的磁盘目录并重名即可。然后我们通过虚拟机打开：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220825204733.4x0b7immkby0.webp" alt="20220825204733"></p>
<p>然后选择指定文件打开：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220825204907.2vj2qceo0hc0.webp" alt="20220825204907"></p>
<p>方式2：使用vmware的克隆操作。</p>
<p>我们按照以下的图示进行操作：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220825205312.6xzx6m79jok0.webp" alt="20220825205312"></p>
<p>点击克隆之后，在点击下一步，如下所示：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220825205543.c11l8tbwsr.webp" alt="20220825205543"></p>
<p>点击下一步：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220825205648.6j240clo5lg0.webp" alt="20220825205648"></p>
<p>点击下一步：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220825205803.506x8st2o5k0.webp" alt="20220825205803"></p>
<p>点击完成即可。</p>
<p><strong>注意：</strong></p>
<p>在选择克隆类型的时候，有两种。</p>
<p>第一种：创建链接克隆。这种克隆的方式占用的磁盘空间较小，克隆时间更快。本质上还是使用原来的linux操作系统，只是克隆了原linux操作系统的引用。</p>
<p>第二种：创建完整克隆。这种克隆的方式占用是磁盘空间较大，克隆时间比较慢，相当于把原来的linux操作系统复制了一份。一般我们选择完整克隆。</p>
<h4 id="虚拟机的快照"><a href="#虚拟机的快照" class="headerlink" title="虚拟机的快照"></a>虚拟机的快照</h4><p>如果你在使用linux操作系统的时候，你想回到原来的某一个状态(也就是可能出现在误操作上造成的系统异常)，需要回到原先某个正常运行的状态，vmware提供了这样的功能，就叫快照管理。</p>
<p>下面我们来演示虚拟机快照：</p>
<ol>
<li>打开linux操作系统，拍摄快照。</li>
</ol>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220825213116.64rcao5tr640.webp" alt="20220825213116"></p>
<p>点击拍摄快照。</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220825213245.72oot1hzuzw0.webp" alt="20220825213245"></p>
<p>2、在桌面上创建A目录，然后我们再拍摄快照：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220825214713.4p3gdo3p12m0.webp" alt="20220825214713"></p>
<p>点击拍摄快照。</p>
<p>3、在桌面上创建B目录，然后我们再拍摄快照：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220825215109.5ssye7dcie80.webp" alt="20220825215109"></p>
<p>点击拍摄快照。</p>
<p>4、我们查看快照记录：</p>
<p>打开快照管理器：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220825215219.3b5ejc7ricw0.webp" alt="20220825215219"></p>
<p>查看快照信息：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220825215337.36s96tfmhy20.webp" alt="20220825215337"></p>
<p>5、跳转到指定的快照位置：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220825215504.3og8flsy4940.webp" alt="20220825215504"></p>
<p>点击转到，就可以跳转到快照A。</p>
<h4 id="虚拟机的迁移和删除"><a href="#虚拟机的迁移和删除" class="headerlink" title="虚拟机的迁移和删除"></a>虚拟机的迁移和删除</h4><p>通过前面的学习我们得知，当linux操作系统安装完成之后，它的本质是以文件的形式保存在文件目录里面的。因此虚拟系统的前移也十分简单，我们只需要把安装好虚拟系统所在的文件夹直接剪切或拷贝至指定的目录即可。删除也很简单，我们可以使用vmware自带的删除功能进行删除。</p>
<p>首先我们关闭linux操作系统，然后右键–&gt;管理–&gt;从磁盘中清除即可。</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220825220623.13lvg8lx72ps.webp" alt="20220825220623"></p>
<p>1.3.5 安装vmtools</p>
<p>vmtools安装完成之后，可以让我们在windows下更好的管理vm虚拟机。可以设置windows和centos的共享文件夹。</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220825231050.601zel98ejs0.webp" alt="20220825231050"></p>
<p>具体安装步骤如下：</p>
<p>1、进入centos(将光驱弹出来)。</p>
<p>右键光驱–&gt;Eject</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220825222004.6znhq9tz6c00.webp" alt="20220825222004"></p>
<p>2、点击vm菜单的 install vmware tools。</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220825222314.6t4up6ynjjk0.webp" alt="20220825222314"></p>
<p>点击重新安装VMware Tools。会出现如下所示（如果没有的话，就重新安装）：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220825222547.21lvo280b45c.webp" alt="20220825222547"></p>
<p>3、centos会出现一个vm安装包, xx.tar.gz。</p>
<p>右键光盘–&gt;Open。出现的内容如下所示：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220825222741.gnd7cxzyybs.webp" alt="20220825222741"></p>
<p>4、拷贝到opt目录。</p>
<p>我们右键这个tar.gz文件，选择copy。将其拷贝至opt目录下面去。</p>
<p>Home–&gt;Other Locations –&gt;Computer–&gt;opt –&gt;右键 paste</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220825223130.5ve051fsqp40.webp" alt="20220825223130"></p>
<p>5、使用解压命令tar，得到一个安装文件。</p>
<p>cd &#x2F;opt(进入到opt目录的命令)。我们先打开终端：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220825223356.7ig4xq0dcss0.webp" alt="20220825223356"></p>
<p>在终端中输入命令 cd &#x2F;opt</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220825223459.6gc1hfrnqgk0.webp" alt="20220825223459"></p>
<p>使用tar命令解压文件（tar -zxvf VMwareTools-10.0.0-2977863.tar.gz）</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220825223720.5gbkd4tie2g0.webp" alt="20220825223720"></p>
<p>6、进入解压的目录</p>
<p>解压之后文件如下:</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220825224022.28v3rnyw09wk.webp" alt="20220825224022"></p>
<p>cd 命令进入这个目录（cd vmware-tools-distrib）：  </p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220825224152.2xir9y8jzf40.webp" alt="20220825224152"></p>
<p>7、安装vmware-install.pl文件(.&#x2F;vmware-install.pl)</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220825224544.4lvk9gqxfa80.webp" alt="20220825224544"></p>
<p>执行命令之后，一系列设置全部回车即可(安装需要一定的时间)。</p>
<p>安装成功之后的界面如下所示：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220825224931.2enjwnpiszvo.webp" alt="20220825224931"></p>
<p>8、创建共享文件目录</p>
<p>比如我在本机的F:\upload目录创建共享文件夹myshare。</p>
<p>右键虚拟机，点击设置：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220825225814.4w313k2bkui0.webp" alt="20220825225814"></p>
<p>选择选项：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220825230016.oh2lphzntio.webp" alt="20220825230016"></p>
<p>点击添加：</p>
<p>点击下一步，选择目标文件目录。</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220825230129.2xflug9m50a0.webp" alt="20220825230129"></p>
<p>点击下一步：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220825230213.63lsfixaxcg0.webp" alt="20220825230213"></p>
<p>点击完成。此时共享文件夹创建完毕。</p>
<p>9、使用共享文件夹</p>
<p>在windows系统中的myshare目录下面创建文件hello.txt,并在文件里面输入hello。</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220825230504.47gno6zf12a0.webp" alt="20220825230504"></p>
<p>进入linux操作系统，查看共享文件夹：</p>
<p>&#x2F;mnt&#x2F;hgfs&#x2F;myshare:</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220825230656.4bu775ifa0w0.webp" alt="20220825230656"></p>
<p>打开hello.txt，我们发现里面有我们之前输入的内容hello。我们在linux系统中的hello.txt里面追加内容，保存文件之后，在windows环境下面也可以查看到文件发生的变化。</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220825230931.ho3dnau6aqw.webp" alt="20220825230931"></p>
<p>到这里，使用vmtools搭建共享文件目录就完成了。</p>
<h3 id="linux的目录结构"><a href="#linux的目录结构" class="headerlink" title="linux的目录结构"></a>linux的目录结构</h3><h4 id="linux目录结构简介"><a href="#linux目录结构简介" class="headerlink" title="linux目录结构简介"></a>linux目录结构简介</h4><p>linux的文件系统和windows的文件不一样。windows文件系统中会有很多盘符，在盘符下面又有很多的文件目录。但是linux文件目录不是这样的。linux文件系统采用的是层级式的树状目录结构，其中最上层的根目录是”&#x2F;“，然后在此目录下面再创建其他的目录。linux的树状目录结构非常重要，它的树状图如下所示:</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220825232318.1zepq57myh4w.webp" alt="20220825232318"></p>
<p>这里简单介绍一下：</p>
<p>比如&#x2F;boot目录。这个是linux系统启动所需要的引导文件的目录。如果这个目录里面的文件损毁，linux操作系统就无法启动。</p>
<p>&#x2F;dev目录。设备管理器目录，linux把任何硬件都映射成了对应的文件来描述，这些文件就存放在dev目录里面。</p>
<p>总之一句话：<strong>在linux世界里，一切皆为文件！</strong>（命令，硬件等等）</p>
<h4 id="linux目录结构详解"><a href="#linux目录结构详解" class="headerlink" title="linux目录结构详解"></a>linux目录结构详解</h4><ul>
<li>&#x2F;bin目录</li>
</ul>
<p>是Binary的缩写, 这个目录存放着最经常使用的命令。比如我们常用的cd命令 cp命令都是存放在bin目录里面。</p>
<ul>
<li>&#x2F;sbin目录</li>
</ul>
<p>s就是Super User的意思，这里存放的是系统管理员使用的系统管理程序。</p>
<ul>
<li>&#x2F;home目录</li>
</ul>
<p>存放普通用户的主目录，在Linux中每个用户都有一个自己的目录，一般该目录名是以用户的账号命名的。</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220827120730.55y3avddyws0.webp" alt="20220827120730"></p>
<p>此时我们可以再验证一下，我们使用命令的方式创建一个用户：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 ~]# useradd tom  #创建一个tom用户</span><br><span class="line">[root@xq100 ~]# userdel -r tom  # 删除指定的用户及其对应的文件夹</span><br></pre></td></tr></table></figure>

<p>此时我们发现，在home目录也会生成一个tom目录</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220827121139.2qoslsnsgyq0.webp" alt="20220827121139"></p>
<p>当我们执行userdel -r命令，这个用户所属的文件目录也就被删除了。</p>
<ul>
<li>&#x2F;root</li>
</ul>
<p>该目录为系统管理员（root），也称作超级权限者的用户主目录。如果我们使用root账户登录，默认所处的目录位置就是在&#x2F;root下面。</p>
<ul>
<li>&#x2F;lib</li>
</ul>
<p>系统开机所需要最基本的动态连接共享库，其作用类似于Windows里的DLL文件。几乎所有的应用程序都需要用到这些共享库。如果这个目录里面的文件被删除了，linux操作系统也就不能正常运行了。</p>
<ul>
<li>&#x2F;etc</li>
</ul>
<p>所有的系统管理所需要的配置文件和子目录。linux系统本身所需要用到的配置文件也是存放在etc目录。如果我们自己安装一些系统服务，比如mysql数据库服务，那么和数据库相关的配置文件(my.cnf)也是存放在&#x2F;etc目录里面。</p>
<ul>
<li>&#x2F;usr</li>
</ul>
<p>这是一个非常重要的目录，用户的很多应用程序和文件都放在这个目录下，类似与windows下的program files目录。</p>
<ul>
<li>&#x2F;boot</li>
</ul>
<p>存放的是<strong>启动</strong>Linux时使用的一些核心文件，包括一些连接文件以及镜像文件。如果这个目录里面的文件被删除了，linux操作系统也就不能正常运行了。</p>
<ul>
<li>&#x2F;dev</li>
</ul>
<p>类似于windows的设备管理器，把所有的<strong>硬件</strong>用文件的形式存储。</p>
<ul>
<li>&#x2F;proc</li>
</ul>
<p>这个目录是一个虚拟的目录，它是系统<strong>内存</strong>的映射，访问这个目录来获取系统的信息。<strong>这个目录我们不要动，否则可能造成系统的崩溃。</strong></p>
<ul>
<li>&#x2F;srv</li>
</ul>
<p>service的缩写，该目录存放的一些服务服务启动之后需要提取的数据。<strong>这个目录我们不要动，否则可能造成系统的崩溃。</strong></p>
<ul>
<li>&#x2F;sys</li>
</ul>
<p>这个目录存放了linux<strong>内核</strong>相关的文件信息。<strong>这个目录我们不要动，否则可能造成系统的崩溃。</strong></p>
<ul>
<li>&#x2F;tmp</li>
</ul>
<p>这个目录是用来存放一下<strong>临时文件</strong>的。</p>
<ul>
<li>&#x2F;media</li>
</ul>
<p>linux系统会自动识别一些<strong>设备</strong>，例如U盘、光驱等等，当识别后，linux会把识别的设备挂载到这个目录下。比如我们插入的U盘 光驱都会被映射成对应的文件存放在media目录。</p>
<ul>
<li>&#x2F;mnt</li>
</ul>
<p>系统提供该目录是为了让用户临时<strong>挂载</strong>别的文件系统的，我们可以将外部的存储挂载在&#x2F;mnt&#x2F;上，然后进入该目录就可以查看里的内容了。比如我们上节内容设置的共享目录myshare。</p>
<ul>
<li>&#x2F;opt</li>
</ul>
<p>这是主机给<strong>安装软件</strong>所存放的目录，存放软件的<strong>安装包</strong>，如果安装JDK可放到该目录下默认为空。上节内容我们安装VMwareTools-10.0.0-2977863.tar.gz。这个压缩文件就存放在opt目录的。</p>
<ul>
<li>&#x2F;usr&#x2F;local</li>
</ul>
<p>简单的说就是应用程序安装之后，<strong>安装程序所存放的目录</strong>。一般是通过编译源码方式安装的程序。</p>
<ul>
<li>&#x2F;var</li>
</ul>
<p>这个目录中存放着在不断变化，扩充着的东西，最常用的就是包括各种<strong>日志文件</strong>。</p>
<h3 id="linux基本实操"><a href="#linux基本实操" class="headerlink" title="linux基本实操"></a>linux基本实操</h3><h4 id="linux远程登录"><a href="#linux远程登录" class="headerlink" title="linux远程登录"></a>linux远程登录</h4><p>在实际工作中，linux服务器是开发小组共享的，并不是存放在每个用户的本地电脑上，linux服务器一般会存在在一台独立的电脑上(独立的机房里)。所以我们需要远程的登录到linux进行相关的操作。</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220827124623.6r7qbfheklk0.webp" alt="20220827124623"></p>
<p>在这里我们介绍两个远程操作工具。一个是远程登录linux操作系统的工具，一个是进行远程文件传输 下载的工具。</p>
<p><strong>第一个工具：远程连接 登录linux服务器的工具 Xshell7</strong></p>
<p>下载地址：</p>
<ul>
<li><strong>安装：</strong></li>
</ul>
<ol>
<li>直接解压文件得到问了目录Xshell。</li>
<li>进入Xshell目录：点击<code>!绿化.bat</code>，桌面会自动化生成Xshell程序。</li>
</ol>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220827130020.1jsojz7ovtog.webp" alt="20220827130020"></p>
<ol start="3">
<li>打开Xshell-帮助-关于Xshell，查看破解情况。</li>
</ol>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220827130145.368k8y48yvk0.webp" alt="20220827130145"></p>
<p>如果出现以上信息说明破解成功。</p>
<ul>
<li><strong>通过Xshell7远程连接linux</strong></li>
</ul>
<ol>
<li>首先我们需要获取远程连接linux操作系统的ip地址。</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 ~]# ip addr</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220827130757.3840dcob7k40.webp" alt="20220827130757"></p>
<p>我们可以本地windows系统下面ping一下ip，看能否ping成功：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Microsoft Windows [版本 10.0.17763.1577]</span><br><span class="line">(c) 2018 Microsoft Corporation。保留所有权利。</span><br><span class="line"></span><br><span class="line">C:\Users\kriss&gt;ping 192.168.10.137</span><br><span class="line"></span><br><span class="line">正在 Ping 192.168.10.137 具有 32 字节的数据:</span><br><span class="line">来自 192.168.10.137 的回复: 字节=32 时间&lt;1ms TTL=64</span><br><span class="line">来自 192.168.10.137 的回复: 字节=32 时间&lt;1ms TTL=64</span><br><span class="line">来自 192.168.10.137 的回复: 字节=32 时间&lt;1ms TTL=64</span><br><span class="line">来自 192.168.10.137 的回复: 字节=32 时间&lt;1ms TTL=64</span><br><span class="line"></span><br><span class="line">192.168.10.137 的 Ping 统计信息:</span><br><span class="line">    数据包: 已发送 = 4，已接收 = 4，丢失 = 0 (0% 丢失)，</span><br><span class="line">往返行程的估计时间(以毫秒为单位):</span><br><span class="line">    最短 = 0ms，最长 = 0ms，平均 = 0ms</span><br><span class="line"></span><br><span class="line">C:\Users\kriss&gt;</span><br></pre></td></tr></table></figure>

<p>我们发现，可以ping成功。</p>
<ol start="2">
<li>建立连接</li>
</ol>
<p>打开Xshell，点击文件–&gt;新建：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220827131008.69ybotq6hgo0.webp" alt="20220827131008"></p>
<p>点击确定，再输入登录用户名和密码即可即可。</p>
<p><strong>第二个工具：进行文件远程传输和下载的工具 FileZilla</strong></p>
<ul>
<li><p><strong>下载FileZilla</strong></p>
</li>
<li><p><strong>安装</strong></p>
</li>
</ul>
<p>傻瓜式安装，直接点击下一步即可。</p>
<ul>
<li><strong>使用FileZilla连接linux操作系统</strong></li>
</ul>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220827132658.2eqpc5ognfdw.webp" alt="20220827132658"></p>
<p>注意：</p>
<p><strong>主机的连接地址必须是sftp协议。也就是必须输入: s<a href="ftp://192.168.10.137/">ftp://192.168.10.137</a></strong></p>
<p>用户名和密码是连接linux操作系统的用户名和密码。</p>
<p>端口号可以不写，默认就是22。</p>
<ul>
<li><strong>上传文件</strong></li>
</ul>
<p>上传文件：在windows操作系统(左边)选择指定文件，右键–&gt;上传 即可。</p>
<p>下载文件：在linux操作系统(右边)选择指定文件，右键–&gt;下载 即可。</p>
<h4 id="linux-vi-x2F-vim编辑器"><a href="#linux-vi-x2F-vim编辑器" class="headerlink" title="linux vi&#x2F;vim编辑器"></a>linux vi&#x2F;vim编辑器</h4><p>所有的 Linux 系统都会内置 vi 文本编辑器。Vim 具有程序编辑的能力，可以看做是Vi的增强版本，可以主动的以字体颜色辨别语法的正确性，方便程序设计。代码补完、编译及错误跳转等方便编程的功能特别丰富，在程序员中被广泛使用。</p>
<h5 id="vi-x2F-vim的三种模式"><a href="#vi-x2F-vim的三种模式" class="headerlink" title="vi&#x2F;vim的三种模式"></a>vi&#x2F;vim的三种模式</h5><ul>
<li><p>正常模式：<br>以vim打开一个档案就是直接进入了一般默认（这是正常的模式），在这个模式中，可以通过上下左右来移动光标，你也可以使用【删除字符】【删除整行】来编辑档案中的内容，也可以使用【复制】【贴上】来处理你的文件数据。</p>
</li>
<li><p>插入模式：<br>按下i，l，o，O，a等任意一个字母之后才会进入编辑模式，一般情况按下i即可。</p>
</li>
<li><p>命令行模式：<br>在这个模式当中，可以提供你相关指令，完成读取，存盘，替换vim，显示行号等操作是在此模式下完成的。</p>
</li>
</ul>
<h5 id="使用vim工具"><a href="#使用vim工具" class="headerlink" title="使用vim工具"></a>使用vim工具</h5><p>现在我们完成一个简单的需求，使用vim编辑器，编辑一个Hello.java文件。我们就在Xshell中完成。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 ~]# vim Hello.java</span><br></pre></td></tr></table></figure>

<p>我们输入 <code>vim Hello.java</code>命令，然后回车，此时进入到正常模式。</p>
<p>此时我们直接在里面写内容是没有反应的，因为正常模式下，不能进行内容的编辑，我们需要容正常模式切换到插入模式。如何切换?</p>
<p>我们一般按下i键即可。此时，屏幕左下角会显示成INSERT字样：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220827141024.5s0w5jg1bx00.webp" alt="20220827141024"></p>
<p>这个时候我们可以在插入模式下面进行内容的编辑：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220827141248.3gegdag678k0.webp" alt="20220827141248"></p>
<p>接下来我们需要保存文件，我们需要切换到命令行模式：</p>
<p>首先按ESC键，然后输入:wq  然后回车 就是保存并退出。</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220827141446.7c7qk0jlpvk0.webp" alt="20220827141446"></p>
<h5 id="vim编辑器快捷键的使用"><a href="#vim编辑器快捷键的使用" class="headerlink" title="vim编辑器快捷键的使用"></a>vim编辑器快捷键的使用</h5><p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220827142342.2fkjdsgodao0.webp" alt="20220827142342"></p>
<p>:wq 保存并退出</p>
<p>:q 直接退出</p>
<p>:q! 不保存并退出(强制退出)</p>
<p>接下来我们简单使用vim编辑器的快捷键。</p>
<p><strong>1. 拷贝当前行 (yy )，并粘贴（p）</strong></p>
<p>yyp</p>
<p><strong>注意：必须在正常模式下面进行操作。</strong></p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220827144034.4gm7sopdb7u0.webp" alt="20220827144034"></p>
<p>此时我们查看效果：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220827143030.59ui1sxnoi80.webp" alt="20220827143030"></p>
<p><strong>2. 拷贝当前向下的2行(2yy ) 并粘贴（p）</strong></p>
<p>2yyp</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220827144547.2yn4ls8h4de0.webp" alt="20220827144547"></p>
<p>完成之后的效果：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220827144657.54x9kz39wpg0.webp" alt="20220827144657"></p>
<p><strong>3.删除当前行(dd) 删除当前向下的2行 (2dd)</strong></p>
<ul>
<li>删除当前行</li>
</ul>
<p>dd</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220827145147.442rbthh8aw0.webp" alt="20220827145147"></p>
<p>删除之后的效果：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220827145301.4zo7r0uv7uw0.webp" alt="20220827145301"></p>
<ul>
<li>删除向下的2行</li>
</ul>
<p>2dd</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220827145541.4d6jnccywgo0.webp" alt="20220827145541"></p>
<p>删除之后的效果：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220827145630.4v14dyhbmtm0.webp" alt="20220827145630"></p>
<p><strong>4.在文件中查找某个单词{命令行下&#x2F;关键字} 回车查找，输入n就能查找下一个</strong></p>
<p>比如查找Hello关键字。&#x2F;Hello 然后按n就能查找到内容</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220827150818.axh87k06844.webp" alt="20220827150818"></p>
<p><strong>5.设置文件的行号(: set nu)。取消文件的行号(: set nonu)</strong></p>
<ul>
<li>设置行号  : set nu</li>
</ul>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220827151302.1c0qylilqcm8.webp" alt="20220827151302"></p>
<ul>
<li>取消行号 : set nonu</li>
</ul>
<p><strong>6.使用快捷键回到文件内容的最起始处和最末尾处</strong></p>
<p>切换到正常模式。</p>
<p>G ： 回到文件的末尾处（光标回到文件的末尾处）</p>
<p>gg：回到文件的最开始处（光标回到文件的最开始处）</p>
<p><strong>7.快速的定位到某个位置</strong></p>
<p>切换到正常模式。</p>
<p>5 shift + g (快速到定位到第5行)。</p>
<p><strong>8.在文件中输入内容，执行撤销操作</strong></p>
<p>切换到正常模式。按快捷键u</p>
<ul>
<li>要搜索当前行中字符串“World”的首次出现，并将其替换为“shijie”</li>
</ul>
<p>:s&#x2F;World&#x2F;shijie&#x2F;</p>
<ul>
<li>要替换当前行中搜索到的所有内容，可以添加<code>g</code>标志：</li>
</ul>
<p>:s&#x2F;World&#x2F;shijie&#x2F;g</p>
<ul>
<li>想搜索和替换整个文件中的匹配内容，使用百分比字符<code>%</code>作为范围。此字符指示从文件第一行到最后一行的范围</li>
</ul>
<p>:%s&#x2F;World&#x2F;shijie&#x2F;g</p>
<h4 id="linux关机重启"><a href="#linux关机重启" class="headerlink" title="linux关机重启"></a>linux关机重启</h4><ul>
<li><p>shutdown</p>
<p>shutdown -h now 表示立即关机</p>
<p>shutdown -h 1:表示一分钟后关机</p>
<p>shutdown -r now :立即重启</p>
</li>
<li><p>halt</p>
<p>就是直接使用，效果等同于关机</p>
</li>
<li><p>sync</p>
<p>把内存的数据同步到磁盘</p>
</li>
<li><p>reboot</p>
<p>就是重启系统</p>
</li>
</ul>
<p>注意细节：</p>
<ol>
<li>不管是重启系统还是关闭系统，首先要运行sync命令，把内存中的数据写入到磁盘中。</li>
<li>目前的shutdown、reboot、halt命令在关机前都进行了sync。</li>
</ol>
<h4 id="用户登录和注销"><a href="#用户登录和注销" class="headerlink" title="用户登录和注销"></a>用户登录和注销</h4><ul>
<li>切换用户   <code>su root</code> 切换到root用户</li>
<li><code>exit</code> 退出 注销</li>
</ul>
<p>注意：</p>
<blockquote>
<p>在切换用户的时候，如果从低级别的用户wen切换到高级别的用户root，需要输入密码的(wen –&gt; root)。如果从高级别的用户切换到低级别的用户(root –&gt; wen)，那么是不需要输入密码的。</p>
<p>如果在低级别用户再次输入exit则会退出命令行</p>
</blockquote>
<h3 id="linux用户管理"><a href="#linux用户管理" class="headerlink" title="linux用户管理"></a>linux用户管理</h3><p>linux系统是一个多用户多任务的操作系统，任何一个要使用系统资源的用户，都必须首先向<strong>系统管理员</strong>申请一个账号，然后以这个账号的身份进入系统。</p>
<p>PS:</p>
<blockquote>
<p>创建用户丶权限只有管理员才有</p>
</blockquote>
<h4 id="添加用户"><a href="#添加用户" class="headerlink" title="添加用户"></a>添加用户</h4><p>在root用户下，我们可以创建很多其它的用户，并且这些用户都会生成对应的目录，这些目录位于&#x2F;home&#x2F;用户名的目录下面。如果我们使用自己创建的用户登录，默认的情况下，用户所在的目录就是&#x2F;home&#x2F;用户目录所在的位置。</p>
<p>如何创建用户? useradd [选项] 用户名</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 ~]# useradd kobe   #创建用户名为kobe的用户</span><br><span class="line">[root@xq100 ~]# cd /home # 切换到home目录</span><br><span class="line">[root@xq100 home]# ll  # 查看home目录所在的文件夹</span><br><span class="line">total 0</span><br><span class="line">drwx------. 3 kobe kobe  78 Aug 27 17:49 kobe</span><br><span class="line">drwx------. 5 xq   xq   147 Aug 27 16:02 xq</span><br></pre></td></tr></table></figure>

<p>细节：</p>
<ul>
<li>当用户创建成功后，会自动的创建和用户同名的目录。这个目录位于&#x2F;home下面。</li>
<li>也可以通过 useradd -d来指定目录新的用户名，给新的用户名指定目录</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 home]# useradd -d /home/test king # 创建一个用户名为king的用户 用户目录位于/home/test</span><br><span class="line">[root@xq100 home]# cd /home</span><br><span class="line">[root@xq100 home]# ll</span><br><span class="line">total 0</span><br><span class="line">drwx------. 3 kobe kobe  78 Aug 27 17:49 kobe</span><br><span class="line">drwx------. 3 king king  78 Aug 27 17:52 test</span><br><span class="line">drwx------. 5 xq   xq   147 Aug 27 16:02 xq</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/image.4tazoh120g00.webp" alt="image"></p>
<p>PS：</p>
<blockquote>
<p>蓝色的字说明它是一个文件夹</p>
</blockquote>
<h4 id="给用户添加密码"><a href="#给用户添加密码" class="headerlink" title="给用户添加密码"></a>给用户添加密码</h4><p>创建密码的命令： <code>passwd 用户名</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 home]# passwd kobe # 给kobe这个用户设置密码</span><br><span class="line">Changing password for user kobe.</span><br><span class="line">New password: </span><br><span class="line">BAD PASSWORD: The password is shorter than 8 characters</span><br><span class="line">Retype new password: </span><br><span class="line">passwd: all authentication tokens updated successfully.</span><br></pre></td></tr></table></figure>

<p>我们执行logout指令，然后使用kobe进行登录，发现可以成功登录。</p>
<h4 id="删除用户"><a href="#删除用户" class="headerlink" title="删除用户"></a>删除用户</h4><p>删除用户有两种情况，一种是删除用户，保存用户对应的目录。还有一种是删除用户，连用户对应的目录也删除掉。</p>
<ul>
<li>删除用户，<strong>保存用户对应的目录</strong></li>
</ul>
<p><code>userdel 用户名</code></p>
<p>注意，我们切换到root用户下面，执行用户的删除操作。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 home]# userdel kobe</span><br><span class="line">[root@xq100 ~]# cd /home</span><br><span class="line">[root@xq100 home]# ll</span><br><span class="line">total 0</span><br><span class="line">drwx------. 5 1001 1001 147 Aug 27 18:03 kobe  # 我们发现用户所属的目录还在</span><br><span class="line">drwx------. 3 king king  78 Aug 27 17:52 test</span><br><span class="line">drwx------. 5 xq   xq   147 Aug 27 16:02 xq</span><br></pre></td></tr></table></figure>

<ul>
<li>删除用户，<strong>对应的用户目录也删除掉</strong></li>
</ul>
<p><code>userdel -r 用户名</code>（常用）</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 home]# useradd lisi  #创建用户lisi</span><br><span class="line">[root@xq100 home]# ll</span><br><span class="line">total 0</span><br><span class="line">drwx------. 5 lisi lisi 147 Aug 27 18:03 kobe</span><br><span class="line">drwx------. 3 lisi lisi  78 Aug 27 18:09 lisi</span><br><span class="line">drwx------. 5 xq   xq   147 Aug 27 16:02 xq</span><br><span class="line">[root@xq100 home]# userdel -r lisi  # 删除用户的同时也删除lisi对应的目录</span><br><span class="line">[root@xq100 home]# ll</span><br><span class="line">total 0</span><br><span class="line">drwx------. 5 1001 1001 147 Aug 27 18:03 kobe</span><br><span class="line">drwx------. 5 xq   xq   147 Aug 27 16:02 xq</span><br></pre></td></tr></table></figure>

<h4 id="查询用户信息"><a href="#查询用户信息" class="headerlink" title="查询用户信息"></a>查询用户信息</h4><ul>
<li>查询用户的详细信息</li>
</ul>
<p><code>id 用户名</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 home]# id root</span><br><span class="line">uid=0(root) gid=0(root) groups=0(root)</span><br><span class="line">[root@xq100 home]# id kobe</span><br><span class="line">uid=1001(kobe) gid=1001(kobe) groups=1001(kobe)</span><br></pre></td></tr></table></figure>

<p>PS：</p>
<blockquote>
<p>uid: 用户id  </p>
<p>gid：用户组id  </p>
<p>groups：组名</p>
</blockquote>
<ul>
<li>查看当前的用户的信息</li>
</ul>
<p><code>who am i</code> &#x2F; <code>whoami</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 home]# who am i</span><br><span class="line">root     pts/1        2022-08-27 18:06 (192.168.10.1)</span><br></pre></td></tr></table></figure>

<ul>
<li>切换用户</li>
</ul>
<p><code>su 用户名</code></p>
<p>注意：从高级别的用户切换到低级别的用户不需要输入密码。比如从root切换到kobe用户。</p>
<p>从低级别的用户输入到高级别的用户，需要输入密码。必须从kobe用户切换到root用户。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 home]# su kobe  #从root切换到kobe 不需要输入密码</span><br><span class="line">[kobe@xq100 home]$ whoami</span><br><span class="line">kobe</span><br><span class="line">[kobe@xq100 home]$ su root   #从kobe切换到root 需要输入密码</span><br><span class="line">Password: </span><br><span class="line">[root@xq100 home]#</span><br></pre></td></tr></table></figure>

<h4 id="用户组"><a href="#用户组" class="headerlink" title="用户组"></a>用户组</h4><p>用户组类似于角色，系统可以对有共性(权限)的多个用户进行统一管理。我们可以通过下面一幅图来理解组的概念。</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220827185356.4s83irjszfa0.webp" alt="20220827185356"></p>
<ul>
<li>创建、删除用户组</li>
</ul>
<p>groupadd 组名</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 ~]# groupadd gaibang  #创建一个组</span><br></pre></td></tr></table></figure>

<p>groupdel 组名</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 ~]# groupdel gaibang  #删除一个组</span><br></pre></td></tr></table></figure>

<ul>
<li>增加用户的时候，直接指定组名称</li>
</ul>
<p>PS：</p>
<blockquote>
<p>之前我们创建用户的时候，没有指定组，其实系统会自动给用户分配一个组，<strong>这个组的名称和用户名称是一样的。</strong></p>
</blockquote>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220827185849.1xyto0mubq68.webp" alt="20220827185849"></p>
<p>现在我们创建用户的时候直接指定组名称。</p>
<p>基本语法： <code>useradd -g 用户组 用户名</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 ~]# useradd -g gaibang guojing #创建用户指定组名称</span><br><span class="line">[root@xq100 ~]# id guojing</span><br><span class="line">uid=1002(guojing) gid=1002(gaibang) groups=1002(gaibang)</span><br></pre></td></tr></table></figure>

<ul>
<li>修改用户所在组</li>
</ul>
<p>比如我们之前有一个用户guojing，所在组为gaibang。现在我们想将guojing这个用户放在taohuadao这个组里面去（前提是这个组必须存在）。</p>
<p>基本语法： <code>usermod -g 用户组 用户名</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 ~]# groupadd taohuadao   #创建组 名称为taohuadao</span><br><span class="line">[root@xq100 ~]# usermod -g taohuadao guojing  #将用户guojing移动到taohuadao这个组里面去</span><br><span class="line">[root@xq100 ~]# id guojing</span><br><span class="line">uid=1002(guojing) gid=1003(taohuadao) groups=1003(taohuadao)</span><br></pre></td></tr></table></figure>

<ul>
<li>用户和组相关的文件</li>
</ul>
<p>（1）&#x2F;etc&#x2F;passwd文件</p>
<p>用户的配置文件，记录用户的各种信息。</p>
<p>每行的含义：</p>
<blockquote>
<p>用户名：口令：用户标识号：组标识号：注释性描述：主目录：登录shell</p>
</blockquote>
<p>使用cat命令浏览这个文件： cat &#x2F;etc&#x2F;passwd</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xq:x:1000:1000:xq:/home/xq:/bin/bash</span><br><span class="line">kobe:x:1001:1001::/home/kobe:/bin/bash</span><br><span class="line">guojing:x:1002:1003::/home/guojing:/bin/bash</span><br></pre></td></tr></table></figure>

<p>（2）&#x2F;etc&#x2F;shadow文件</p>
<p>口令的配置文件，用户登录的时候需要口令(密码)。口令的验证都是通过这个shadow文件去验证的。</p>
<p>每行的含义：</p>
<blockquote>
<p>登录名：加密口令：最后一次修改的时间：最小时间间隔：最大时间间隔：警告时间：不活动时间：失效时间：标志</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xq:$6$O2FlTZ6TIC6rD2dZ$xQb7mhEuE10P4lodcj5OaGhU5FqrdO7FifH2VjSvwPouqzGLrtTdZLtG8L3l2AvnFQi47x0uRLYMt6LMGWHfc0::0:99999:7:::</span><br><span class="line">kobe:$6$Ij/jhx8A$CYTNMbK0N0DQOIh6A6qQ0Ucnst6GcNTHeS1X4pca3MwXI1ntM0NWsA0/HfUZTrgZKzUPC5m0ZBhpiLG9ZZlrw.:19231:0:99999:7:::</span><br><span class="line">guojing:!!:19231:0:99999:7:::</span><br></pre></td></tr></table></figure>

<p>我们发现guojing这个用户没有加密口令，所以没有显示。我们给guojing这个用户设置密码就可以看到加密口令了。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">guojing:$6$.AdhAmZA$gbKCNrwqHBZAot8DxqxrtA7a0uCtc07iKnQltVWdLAk20wLg/58eHF5Ude81Zoo8P.onVZbS0wh/acETjipEv1:19231:0:99999:7:::</span><br></pre></td></tr></table></figure>

<p>（3）&#x2F;etc&#x2F;group文件</p>
<p>组的配置信息，记录linux包含的组的信息</p>
<p>每行含义：</p>
<blockquote>
<p>组名：口令：组标识号：组内用户列表</p>
</blockquote>
<h3 id="linux运行级别"><a href="#linux运行级别" class="headerlink" title="linux运行级别"></a>linux运行级别</h3><ul>
<li>linux操作系统运行的7种级别</li>
</ul>
<p>关于linux的运行级别，一共有7种，我们给大家分别介绍一下：</p>
<p>0：关机</p>
<p>1：单用户（找回用户丢失的密码，可以使用单用户模式）</p>
<p>2：多用户状态但没有网络服务（一般很少用）</p>
<p>3：<strong>多用户状态但有网络服务（没有图形化界面，但是有网络，这种用的最多）</strong></p>
<p>4：系统未使用，保留给用户（很少用）</p>
<p>5：<strong>图形界面</strong></p>
<p>6：系统重启</p>
<p>常用的运行级别是3和5，我们也可以指定系统默认的运行级别。</p>
<p>切换运行级别的口令： <code>init [0 1 2 3 4 5 6]</code></p>
<p>我们在linux操作系统(带有图形化界面的操作系统)输入init 3。此时linux操作系统就会以纯命令行模式启动</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220827194341.4izvotj1yv80.webp" alt="20220827194341"></p>
<ul>
<li>如何修改linux操作系统默认的运行级别</li>
</ul>
<p>在centos7中，有一个文件&#x2F;<code>etc/inittab</code>文件中，描述了运行级别的相关信息</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 ~]# cat /etc/inittab</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220827202916.4dslnu5jtde0.webp" alt="20220827202916"></p>
<p>现在我们就来演示linux操作系统的运行级别：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 ~]# systemctl get-default  #获取linux操作系统默认的运行级别</span><br><span class="line">graphical.target   # 图形化的运行级别</span><br><span class="line">[root@xq100 ~]# systemctl set-default multi-user.target  # 设置linux操作系统默认的运行级别为纯命令行级别</span><br><span class="line">Removed symlink /etc/systemd/system/default.target.</span><br><span class="line">Created symlink from /etc/systemd/system/default.target to /usr/lib/systemd/system/multi-user.target.</span><br><span class="line">[root@xq100 ~]# reboot</span><br></pre></td></tr></table></figure>

<p>建议：同学们在初学的时候，还是使用带有图形化界面的运行级别。</p>
<h3 id="如何找回root密码"><a href="#如何找回root密码" class="headerlink" title="如何找回root密码"></a>如何找回root密码</h3><p>这是一道经典的面试题。希望大家要能够掌握，如果以后自己忘记了root账户的密码，我们也可以按照下面的方法自己去找到root用户的密码。</p>
<ul>
<li>进入到linux开机界面，然后按e键</li>
</ul>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220827203753.5q6bxmbfcxk0.webp" alt="20220827203753"></p>
<ul>
<li>按下e键然后进入另一个界面，找到以linux16开头的行数。在行的最后面输入：init&#x3D;&#x2F;bin&#x2F;sh。</li>
</ul>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220827204256.4r4wq8shjee0.webp" alt="20220827204256"></p>
<ul>
<li>接着输入完成之后，直接按快捷键Ctrl + X 进入单用户模式</li>
<li>接着在光标闪烁的位置输入： mount -o remount,rw &#x2F;  然后按回车键。</li>
</ul>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220827204726.z2isbt6i4bk.webp" alt="20220827204726"></p>
<ul>
<li>在新的一行最后面输入：passwd，然后按回车键。输入密码，然后再次输入确认密码（密码长度最好是8位以上，但不是必须的）。密码修改成功之后，会显示passwd …..的字样，说明密码修改成功。</li>
</ul>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220827205136.21hjp90gru1s.webp" alt="20220827205136"></p>
<ul>
<li>接着在光标闪烁的位置输入： touch &#x2F;.autorelabel(注意touch 与后面的&#x2F;之间有空格)。完成后按回车。</li>
</ul>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220827205834.u538a3d465s.webp" alt="20220827205834"></p>
<ul>
<li>接着在光标闪烁的位置继续输入：exec &#x2F;sbin&#x2F;init(注意exec 与后面的&#x2F;之间有空格)。然后按回车键，等待系统自动修改密码（这个时间可能会有点长，请耐心等待）。完成后系统会自动重启，新的密码生效了。</li>
</ul>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220827210126.1wy3hqag2lkw.webp" alt="20220827210126"></p>
<h3 id="linux帮助指令"><a href="#linux帮助指令" class="headerlink" title="linux帮助指令"></a>linux帮助指令</h3><ul>
<li>man 获得帮助信息</li>
</ul>
<p>基本语法： man 命令名称（功能描述：获得指定命令的帮助信息）。</p>
<p>案例：查看 ls命令的帮助信息   man ls</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220827212128.3nthlugcjwa0.webp" alt="20220827212128"></p>
<p>比如-a参数： 列出当前目录下面的隐藏文件（注意：linux操作系统下面的隐藏文件都是以.开头的）。</p>
<p>ls -a</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 ~]# ls -a</span><br><span class="line">.   anaconda-ks.cfg  .bash_logout   .bashrc  .config  .dbus    Documents  .esd_auth   .ICEauthority         .local    Music     Public   Templates  .viminfo</span><br><span class="line">..  .bash_history    .bash_profile  .cache   .cshrc   Desktop  Downloads  Hello.java  initial-setup-ks.cfg  .mozilla  Pictures  .tcshrc  Videos     .Xauthority</span><br></pre></td></tr></table></figure>

<p>比如-l参数：以列表的形式展示指定目录下面的文件。</p>
<p>ls -l(简写ll)</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 ~]# ls -l</span><br><span class="line">total 12</span><br><span class="line">-rw-------. 1 root root 1877 Aug 18 14:57 anaconda-ks.cfg</span><br><span class="line">drwxr-xr-x. 2 root root    6 Aug 18 15:05 Desktop</span><br><span class="line">drwxr-xr-x. 2 root root    6 Aug 18 15:05 Documents</span><br><span class="line">drwxr-xr-x. 2 root root    6 Aug 18 15:05 Downloads</span><br><span class="line">-rw-r--r--. 1 root root  242 Aug 27 15:58 Hello.java</span><br><span class="line">-rw-r--r--. 1 root root 1908 Aug 18 15:04 initial-setup-ks.cfg</span><br><span class="line">drwxr-xr-x. 2 root root    6 Aug 18 15:05 Music</span><br><span class="line">drwxr-xr-x. 2 root root    6 Aug 18 15:05 Pictures</span><br><span class="line">drwxr-xr-x. 2 root root    6 Aug 18 15:05 Public</span><br><span class="line">drwxr-xr-x. 2 root root    6 Aug 18 15:05 Templates</span><br><span class="line">drwxr-xr-x. 2 root root    6 Aug 18 15:05 Videos</span><br></pre></td></tr></table></figure>

<p>我们还可以将参数组合起来使用</p>
<p>ls -la</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 ~]# ls -al  #以列表的形式展示所有的显式文件和隐藏文件</span><br><span class="line">total 64</span><br><span class="line">dr-xr-x---. 15 root root 4096 Aug 27 21:05 .</span><br><span class="line">dr-xr-xr-x. 17 root root  245 Aug 27 21:03 ..</span><br><span class="line">-rw-------.  1 root root 1877 Aug 18 14:57 anaconda-ks.cfg</span><br><span class="line">-rw-------.  1 root root 1481 Aug 27 20:35 .bash_history</span><br><span class="line">-rw-r--r--.  1 root root   18 Dec 29  2013 .bash_logout</span><br><span class="line">-rw-r--r--.  1 root root  176 Dec 29  2013 .bash_profile</span><br><span class="line">-rw-r--r--.  1 root root  176 Dec 29  2013 .bashrc</span><br><span class="line">drwx------. 17 root root 4096 Aug 27 21:05 .cache</span><br><span class="line">drwx------. 16 root root 4096 Aug 25 23:08 .config</span><br><span class="line">-rw-r--r--.  1 root root  100 Dec 29  2013 .cshrc</span><br><span class="line">drwx------.  3 root root   25 Aug 18 15:04 .dbus</span><br><span class="line">drwxr-xr-x.  2 root root    6 Aug 18 15:05 Desktop</span><br><span class="line">drwxr-xr-x.  2 root root    6 Aug 18 15:05 Documents</span><br><span class="line">drwxr-xr-x.  2 root root    6 Aug 18 15:05 Downloads</span><br><span class="line">......</span><br></pre></td></tr></table></figure>

<ul>
<li>help 获得shell内置命令的帮助信息</li>
</ul>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220827212727.4ygzmip5nrs0.webp" alt="20220827212727"></p>
<h3 id="linux常用命令"><a href="#linux常用命令" class="headerlink" title="linux常用命令"></a>linux常用命令</h3><h4 id="linux文件-目录-相关的指令"><a href="#linux文件-目录-相关的指令" class="headerlink" title="linux文件(目录)相关的指令"></a>linux文件(目录)相关的指令</h4><h5 id="文件-目录-操作"><a href="#文件-目录-操作" class="headerlink" title="文件(目录)操作"></a>文件(目录)操作</h5><p>在linux操作系统里面，获取文件的方式有两种，一种是通过绝对路径的方式获取文件，一种是相对路径获取文件。</p>
<p>假设我们在当前指定的目录下面，想要获取指定的文件，我们可以通过<strong>相对路径</strong>和<strong>绝对路径</strong>的方式来获取。</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220828134836.199lfzdpfe2o.webp" alt="20220828134836"></p>
<ul>
<li><strong>pwd</strong>指令 显示当前目录的绝对路径</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 home]# pwd  #获取当前目录所在的绝对路径</span><br><span class="line">/home</span><br><span class="line">[root@xq100 home]# cd kobe</span><br><span class="line">[root@xq100 kobe]# pwd</span><br><span class="line">/home/kobe</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>ls</strong>指令 显示当前目录下面的所有文件(目录)</li>
</ul>
<p>常用选项：</p>
<p>-a: 显示当前目录下面的所有文件和目录 包括隐藏的。</p>
<p>-l: 以列表的方式显示文件(目录)信息。</p>
<ul>
<li><strong>cd</strong>命令 切换到指定目录</li>
</ul>
<p>常用选项：</p>
<p>~： <code>cd ~</code> 回到当前用户的home目录（如果是root用户，那么回到的就是root目录下面，如果是非root用户，那么就回到home&#x2F;用户目录 下面）</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 kobe]# cd ~</span><br><span class="line">[root@xq100 ~]# pwd</span><br><span class="line">/root</span><br></pre></td></tr></table></figure>

<p>&#x2F;: <code>cd /</code> 回到系统根目录</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 ~]# cd / # 回到系统根目录</span><br><span class="line">[root@xq100 /]# pwd</span><br><span class="line">/</span><br></pre></td></tr></table></figure>

<p>.. : <code>cd ..</code> 回到当前目录的上一级目录</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 /]# cd /home/kobe   # 直接切换到kobe目录</span><br><span class="line">[root@xq100 kobe]# cd ..  # 回到上一级目录</span><br><span class="line">[root@xq100 home]# pwd</span><br><span class="line">/home</span><br></pre></td></tr></table></figure>

<p>例子： 比如我们现在所在的目录是&#x2F;home&#x2F;kobe目录。现在我们要使用回到&#x2F;root目录下面去。</p>
<p><code>cd ../../root</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 home]# cd /home/kobe</span><br><span class="line">[root@xq100 kobe]# cd ../../root</span><br><span class="line">[root@xq100 ~]# pwd</span><br><span class="line">/root</span><br></pre></td></tr></table></figure>

<p>-: <code>cd -</code>回到上一条命令所在的目录</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 home]# cd /home/kobe</span><br><span class="line">[root@xq100 kobe]# cd ../../root</span><br><span class="line">[root@xq100 ~]# pwd</span><br><span class="line">/root</span><br><span class="line">[root@xq100 ~]# cd -  # 回到上一条命令所在的目录</span><br><span class="line">/home/kobe</span><br><span class="line">[root@xq100 kobe]# pwd</span><br><span class="line">/home/kobe</span><br></pre></td></tr></table></figure>

<p>直接切换到指定目录：</p>
<p>比如我们现在所在的目录是&#x2F;home&#x2F;kobe目录。现在我们要使用回到&#x2F;root目录下面去。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 ~]# cd /home/kobe</span><br><span class="line">[root@xq100 kobe]# pwd</span><br><span class="line">/home/kobe</span><br><span class="line">[root@xq100 kobe]# cd /root</span><br><span class="line">[root@xq100 ~]# pwd</span><br><span class="line">/root</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>mkdir</strong> :用于创建目录</li>
</ul>
<p>需求：在kobe目录下面创建dog目录</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 ~]# cd /home/kobe  </span><br><span class="line">[root@xq100 kobe]# mkdir dog  # 创建dog目录</span><br><span class="line">[root@xq100 kobe]# ll</span><br><span class="line">total 4</span><br><span class="line">drwxr-xr-x. 2 root root 6 Aug 28 14:06 dog</span><br><span class="line">-rw-r--r--. 1 root root 6 Aug 28 13:50 Hello.txt</span><br></pre></td></tr></table></figure>

<p>我们也可以一次性创建多级目录。 比如在kobe目录下面创建&#x2F;animal&#x2F;cat目录</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 kobe]# mkdir animal/cat</span><br><span class="line">mkdir: cannot create directory ‘animal/cat’: No such file or directory</span><br><span class="line">[root@xq100 kobe]#</span><br></pre></td></tr></table></figure>

<p>此时报错，因为我们创建多级目录的时候，需要携带一个-p参数。</p>
<p> -p 创建多级目录。我们可以这样创建多级目录。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 kobe]# mkdir -p animal/cat   # 创建多级目录</span><br><span class="line">[root@xq100 kobe]# ll</span><br><span class="line">total 4</span><br><span class="line">drwxr-xr-x. 3 root root 17 Aug 28 14:09 animal</span><br><span class="line">drwxr-xr-x. 2 root root  6 Aug 28 14:06 dog</span><br><span class="line">-rw-r--r--. 1 root root  6 Aug 28 13:50 Hello.txt</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>rmdir</strong>:指令删除<strong>空</strong>目录</li>
</ul>
<p>需求：我们删除dog目录。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 kobe]# rmdir dog</span><br><span class="line">[root@xq100 kobe]# ll</span><br><span class="line">total 4</span><br><span class="line">drwxr-xr-x. 3 root root 17 Aug 28 14:09 animal</span><br><span class="line">-rw-r--r--. 1 root root  6 Aug 28 13:50 Hello.txt</span><br></pre></td></tr></table></figure>

<p>接下来我们删除animal目录。（由于animal目录是非空目录，所以使用rmdir命令删除失败）</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 kobe]# rmdir animal</span><br><span class="line">rmdir: failed to remove ‘animal’: Directory not empty  #报错 删除失败</span><br><span class="line">[root@xq100 kobe]#</span><br></pre></td></tr></table></figure>

<p>如果我们要删除非空目录或者文件，我们使用rm -rf命令实现（r 递归删除 f不询问删除）。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 kobe]# rm -rf animal  #递归不询问的方式删除animal目录</span><br><span class="line">[root@xq100 kobe]# ll</span><br><span class="line">total 4</span><br><span class="line">-rw-r--r--. 1 root root 6 Aug 28 13:50 Hello.txt</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>touch</strong>: 创建空文件</li>
</ul>
<p>需求：在kobe目录下面，创建一个空文件Demo1.txt</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 kobe]# touch Demo1.txt  # 创建一个空文件Demo1.txt</span><br><span class="line">[root@xq100 kobe]# ll</span><br><span class="line">total 4</span><br><span class="line">-rw-r--r--. 1 root root 0 Aug 28 14:14 Demo1.txt</span><br><span class="line">-rw-r--r--. 1 root root 6 Aug 28 13:50 Hello.txt</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>cp</strong>:拷贝文件到指定目录</li>
</ul>
<p>需求1：将&#x2F;home&#x2F;kobe下面的Hello.txt拷贝至&#x2F;home&#x2F;guojing目录下面。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 kobe]# cp Hello.txt /home/guojing/ # 拷贝文件到home/guojing目录下面</span><br><span class="line">[root@xq100 kobe]# cd /home/guojing/</span><br><span class="line">[root@xq100 guojing]# ll</span><br><span class="line">total 4</span><br><span class="line">-rw-r--r--. 1 root root 6 Aug 28 14:18 Hello.txt</span><br></pre></td></tr></table></figure>

<p>-r 递归复制整个文件。</p>
<p>需求：在kobe目录下面，创建test文件夹，再在test文件夹里面创建test.txt。最后将整个test文件目录拷贝至home&#x2F;guojing目录。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 kobe]# ll</span><br><span class="line">total 4</span><br><span class="line">-rw-r--r--. 1 root root  0 Aug 28 14:14 Demo1.txt</span><br><span class="line">-rw-r--r--. 1 root root  6 Aug 28 13:50 Hello.txt</span><br><span class="line">drwxr-xr-x. 2 root root 22 Aug 28 14:19 test</span><br><span class="line">[root@xq100 kobe]# cp -r test /home/guojing   # 递归拷贝整个文件目录</span><br><span class="line">[root@xq100 kobe]# cd /home/guojing</span><br><span class="line">[root@xq100 guojing]# ll</span><br><span class="line">total 4</span><br><span class="line">-rw-r--r--. 1 root root  6 Aug 28 14:18 Hello.txt</span><br><span class="line">drwxr-xr-x. 2 root root 22 Aug 28 14:21 test</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>rm</strong>：移除文件或者目录</li>
</ul>
<p> -r：递归删除整个文件夹</p>
<p> -f：强制删除不提示</p>
<ul>
<li><strong>mv</strong>：移动文件（剪切）或重命名</li>
</ul>
<p>在同一个目录下面操作： mv oldName newName (重命名)</p>
<p>需求：将kobe目录下面的Hello.txt重命名为Hello.java</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 kobe]# mv Hello.txt Hello.java  # 重命名</span><br><span class="line">[root@xq100 kobe]# ll</span><br><span class="line">total 4</span><br><span class="line">-rw-r--r--. 1 root root  0 Aug 28 14:14 Demo1.txt</span><br><span class="line">-rw-r--r--. 1 root root  6 Aug 28 13:50 Hello.java</span><br><span class="line">drwxr-xr-x. 2 root root 22 Aug 28 14:19 test</span><br></pre></td></tr></table></figure>

<p>在不同目录下面操作：</p>
<p>将home&#x2F;kobe目录下面的Demo1.txt文件剪切到&#x2F;home&#x2F;guojing目录下面，并将文件命名为Demo1.java</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 kobe]# mv Demo1.txt /home/guojing/Demo1.java  # 剪切并重命名文件</span><br><span class="line">[root@xq100 kobe]# ll</span><br><span class="line">total 4</span><br><span class="line">-rw-r--r--. 1 root root  6 Aug 28 13:50 Hello.java</span><br><span class="line">drwxr-xr-x. 2 root root 22 Aug 28 14:19 test</span><br><span class="line">[root@xq100 kobe]# cd /home/guojing</span><br><span class="line">[root@xq100 guojing]# ll</span><br><span class="line">total 4</span><br><span class="line">-rw-r--r--. 1 root root  0 Aug 28 14:14 Demo1.java</span><br><span class="line">-rw-r--r--. 1 root root  6 Aug 28 14:18 Hello.txt</span><br><span class="line">drwxr-xr-x. 2 root root 22 Aug 28 14:21 test</span><br></pre></td></tr></table></figure>

<h5 id="查看操作"><a href="#查看操作" class="headerlink" title="查看操作"></a>查看操作</h5><ul>
<li><strong>cat</strong> 查看文件内容 cat [选项] 要查看的文件</li>
</ul>
<p>需求：查看&#x2F;etc&#x2F;profile文件，并显示行号</p>
<p>-n 显示行号  cat -n &#x2F;etc&#x2F;profile</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 guojing]# cat -n /etc/profile  #浏览文件 并显示行号</span><br></pre></td></tr></table></figure>

<p> cat只能浏览文件，并不能修改文件，为了浏览方便，一般会用上管道命令 |more。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 guojing]# cat -n /etc/profile | more  #浏览文件 并显示行号 分屏幕显示  使用空格键可以翻页显示</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>more</strong>  more指令是一个基于vi编辑器的文本过滤器，他以全屏的方式显示文本文件的内容，more指令内置了若干快捷键。</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 guojing]# more /etc/profile</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>操作</th>
<th>功能说明</th>
</tr>
</thead>
<tbody><tr>
<td>空格键</td>
<td>向下翻页</td>
</tr>
<tr>
<td>Enter</td>
<td>向下翻一行</td>
</tr>
<tr>
<td>q</td>
<td>代表立刻more，不再显示文件内容</td>
</tr>
<tr>
<td>Ctrl + F</td>
<td>向下滚动一屏幕</td>
</tr>
<tr>
<td>Ctrl + B</td>
<td>返回上一屏</td>
</tr>
<tr>
<td>&#x3D;</td>
<td>输出当前行号</td>
</tr>
<tr>
<td>:f</td>
<td>输出文件名和当前行号</td>
</tr>
</tbody></table>
<ul>
<li><strong>less</strong></li>
</ul>
<p> less指令用于来分屏查看文件内容，他的功能与more类似，但是比more更加强大，支持各种显示终端。less指令在显示文件内容时，并不是一次将整个文件加载后才显示的，而是根据要加载的内容，<strong>对显示大型文件具有高效率。</strong></p>
<p>语法： less 文件名称</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 guojing]# less /etc/profile</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>操作</th>
<th>功能说明</th>
</tr>
</thead>
<tbody><tr>
<td>空格键</td>
<td>向下翻动一页</td>
</tr>
<tr>
<td>上箭头键</td>
<td>向上翻动一页</td>
</tr>
<tr>
<td>下箭头键</td>
<td>向下翻动一页</td>
</tr>
<tr>
<td>&#x2F;字符串内容</td>
<td>搜索字符串  n:向下搜索  N：向上搜索</td>
</tr>
<tr>
<td>q</td>
<td>立刻less，不再显示文件内容</td>
</tr>
</tbody></table>
<ul>
<li><strong>echo</strong>:将输入内容到控制台</li>
</ul>
<p>需求1：使用echo指令输出环境变量。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 guojing]# echo $PATH  # 输出环境变量</span><br><span class="line">/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin</span><br><span class="line">[root@xq100 guojing]# echo $HOSTNAME  # 输出主机名称</span><br><span class="line">xq100</span><br></pre></td></tr></table></figure>

<p>需求2：输出hello world</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 guojing]# echo &quot;hello,world&quot;</span><br><span class="line">hello,world</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>head</strong>: head用于显示文件开头部分内容，默认情况下head希纳是文件前10行的内容</li>
</ul>
<p> 基本语法： head 文件</p>
<p> head -n  5 文件 显示前五行的内容 5可以是任意数</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 guojing]# head  /etc/profile  # 默认显示前10条内容</span><br><span class="line">[root@xq100 guojing]# head -n 5 /etc/profile  # 默认显示前5行内容</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>tail指令</strong>  用于输出文件中尾部的内容，默认情况下tail指令显示文件的前10行内容</li>
</ul>
<p> tail 文件 （查看文件最后10行的内容）</p>
<p> tail -n  5 文件 （查看文件最后5行的内容，5可以是任意数）</p>
<p> tail -f 文件 （实时监控文件发生的变化）</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 guojing]# tail /etc/profile   # 显示最后10行的数据</span><br><span class="line">[root@xq100 guojing]# tail -n 5 /etc/profile  #显示最后5行的数据</span><br></pre></td></tr></table></figure>

<p>需求：创建一个空文件test.txt。实时监控这个文件的变化</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 guojing]# touch test.txt</span><br><span class="line">[root@xq100 guojing]# tail -f test.txt</span><br></pre></td></tr></table></figure>

<p>在另一个终端，我们向test.txt文档追加内容：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220828152028.fk6eu6oiz5s.webp" alt="20220828152028"></p>
<p>我们再观察控制台的变化情况：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220828152129.3ddgdqnl4r00.webp" alt="20220828152129"></p>
<ul>
<li><code>&gt;</code>指令和<code>&gt;&gt;</code>指令： &gt;输出重定向 ，&gt;&gt;追加</li>
</ul>
<p> echo ‘hello’ &gt; &#x2F;home&#x2F;guojing&#x2F;test.txt （将hello输入到guojing文件夹下的test.txt中 之前内容覆盖）。</p>
<p> echo ‘hello’ &gt;&gt; &#x2F;home&#x2F;guojing&#x2F;test.txt （将hello追加到guojing文件夹下的test.txt文件的末尾处 之前内容不会覆盖）。</p>
<p> cat &#x2F;etc&#x2F;profile &gt; &#x2F;home&#x2F;guojing&#x2F;myprofile （将etc&#x2F;profile 重定向到home目录下的myprofile 没有会自动创建）</p>
<p> cal &gt; &#x2F;home&#x2F;guojing&#x2F;test.txt （将日历信息重定向输出到opt下的test文件）覆盖</p>
<p> cal &gt;&gt; &#x2F;home&#x2F;guojing&#x2F;test.txt（将日历信息追加到opt目录下的test文件）追加</p>
<ul>
<li>软连接</li>
</ul>
<p>软连接也称为符号链接，类似中windows里面的快捷方式，主要是存放了链接文件的路径。</p>
<p>ln -s [源文件或目录] [软连接名称]</p>
<p>我们在&#x2F;home目录下创建一个软连接linkToRoot 链接到&#x2F;root目录</p>
<p>需求：在kobe目录下面创建软连接linkToRoot。这个软连接指向root目录。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 guojing]# ln -s /root  /home/kobe/linkToRoot  #创建一个软连接</span><br><span class="line">[root@xq100 guojing]# cd /home/kobe</span><br><span class="line">[root@xq100 kobe]# ll</span><br><span class="line">total 4</span><br><span class="line">-rw-r--r--. 1 root root  6 Aug 28 13:50 Hello.java</span><br><span class="line">lrwxrwxrwx. 1 root root  5 Aug 28 15:34 linkToRoot -&gt; /root</span><br><span class="line">drwxr-xr-x. 2 root root 22 Aug 28 14:19 test</span><br><span class="line">[root@xq100 kobe]# cd linkToRoot/  # 实际上是切换到了linkRoot目录</span><br><span class="line">[root@xq100 linkToRoot]# ll</span><br><span class="line">total 12</span><br><span class="line">-rw-------. 1 root root 1877 Aug 18 14:57 anaconda-ks.cfg</span><br><span class="line">drwxr-xr-x. 2 root root    6 Aug 18 15:05 Desktop</span><br><span class="line">drwxr-xr-x. 2 root root    6 Aug 18 15:05 Documents</span><br><span class="line">drwxr-xr-x. 2 root root    6 Aug 18 15:05 Downloads</span><br><span class="line">-rw-r--r--. 1 root root  242 Aug 27 15:58 Hello.java</span><br><span class="line">-rw-r--r--. 1 root root 1908 Aug 18 15:04 initial-setup-ks.cfg</span><br><span class="line">drwxr-xr-x. 2 root root    6 Aug 18 15:05 Music</span><br><span class="line">drwxr-xr-x. 2 root root    6 Aug 18 15:05 Pictures</span><br><span class="line">drwxr-xr-x. 2 root root    6 Aug 18 15:05 Public</span><br><span class="line">drwxr-xr-x. 2 root root    6 Aug 18 15:05 Templates</span><br><span class="line">drwxr-xr-x. 2 root root    6 Aug 18 15:05 Videos</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>删除软连接 rm -f &#x2F;linkToRoot</p>
<ul>
<li><strong>history指令</strong>  查看用户已经执行过的历史指令</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 linkToRoot]# history  # 查看当前用户的历史指令</span><br><span class="line">[root@xq100 linkToRoot]# history 10  # 查看当前用户的最近10条历史指令</span><br></pre></td></tr></table></figure>

<h4 id="linux时间指令"><a href="#linux时间指令" class="headerlink" title="linux时间指令"></a>linux时间指令</h4><ul>
<li>date指令：</li>
</ul>
<p>基本语法:</p>
<p>date（功能描述：显示当前时间）</p>
<p>date +%Y（功能描述：显示当前年份）</p>
<p>date +%m（功能描述：显示当前月份）</p>
<p>date +%d（功能描述：显示当前是哪一天）</p>
<p>date “+%Y-%m-%d %H:%M:%S”（功能描述：显示年月日时分秒）</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 ~]# date</span><br><span class="line">Sun Aug 28 15:41:39 CST 2022</span><br><span class="line">[root@xq100 ~]# date +%Y</span><br><span class="line">2022</span><br><span class="line">[root@xq100 ~]# date +%m</span><br><span class="line">08</span><br><span class="line">[root@xq100 ~]# date +%d</span><br><span class="line">28</span><br><span class="line">[root@xq100 ~]# date &quot;+%Y-%m-%d %H:%M:%S&quot;</span><br><span class="line">2022-08-28 15:43:59</span><br></pre></td></tr></table></figure>

<p>date指令也可以设置日期</p>
<p>基本语法：date -s 字符串时间</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 ~]# date -s &quot;2022-8-28 15:48:50&quot;</span><br></pre></td></tr></table></figure>

<ul>
<li>cal 日历指令</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 ~]# cal  # 显示当前月份的日历</span><br><span class="line">     August 2022    </span><br><span class="line">Su Mo Tu We Th Fr Sa</span><br><span class="line">    1  2  3  4  5  6</span><br><span class="line"> 7  8  9 10 11 12 13</span><br><span class="line">14 15 16 17 18 19 20</span><br><span class="line">21 22 23 24 25 26 27</span><br><span class="line">28 29 30 31</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 ~]# cal 2022  #显示整年的日历</span><br><span class="line">                               2022                               </span><br><span class="line"></span><br><span class="line">       January               February                 March       </span><br><span class="line">Su Mo Tu We Th Fr Sa   Su Mo Tu We Th Fr Sa   Su Mo Tu We Th Fr Sa</span><br><span class="line">                   1          1  2  3  4  5          1  2  3  4  5</span><br><span class="line"> 2  3  4  5  6  7  8    6  7  8  9 10 11 12    6  7  8  9 10 11 12</span><br><span class="line"> 9 10 11 12 13 14 15   13 14 15 16 17 18 19   13 14 15 16 17 18 19</span><br><span class="line">16 17 18 19 20 21 22   20 21 22 23 24 25 26   20 21 22 23 24 25 26</span><br><span class="line">23 24 25 26 27 28 29   27 28                  27 28 29 30 31</span><br><span class="line">30 31</span><br><span class="line">        April                   May                   June        </span><br><span class="line">Su Mo Tu We Th Fr Sa   Su Mo Tu We Th Fr Sa   Su Mo Tu We Th Fr Sa</span><br><span class="line">                1  2    1  2  3  4  5  6  7             1  2  3  4</span><br><span class="line"> 3  4  5  6  7  8  9    8  9 10 11 12 13 14    5  6  7  8  9 10 11</span><br><span class="line">10 11 12 13 14 15 16   15 16 17 18 19 20 21   12 13 14 15 16 17 18</span><br><span class="line">17 18 19 20 21 22 23   22 23 24 25 26 27 28   19 20 21 22 23 24 25</span><br><span class="line">24 25 26 27 28 29 30   29 30 31               26 27 28 29 30</span><br><span class="line"></span><br><span class="line">        July                  August                September     </span><br><span class="line">Su Mo Tu We Th Fr Sa   Su Mo Tu We Th Fr Sa   Su Mo Tu We Th Fr Sa</span><br><span class="line">                1  2       1  2  3  4  5  6                1  2  3</span><br><span class="line"> 3  4  5  6  7  8  9    7  8  9 10 11 12 13    4  5  6  7  8  9 10</span><br><span class="line">10 11 12 13 14 15 16   14 15 16 17 18 19 20   11 12 13 14 15 16 17</span><br><span class="line">17 18 19 20 21 22 23   21 22 23 24 25 26 27   18 19 20 21 22 23 24</span><br><span class="line">24 25 26 27 28 29 30   28 29 30 31            25 26 27 28 29 30</span><br><span class="line">31</span><br><span class="line">       October               November               December      </span><br><span class="line">Su Mo Tu We Th Fr Sa   Su Mo Tu We Th Fr Sa   Su Mo Tu We Th Fr Sa</span><br><span class="line">                   1          1  2  3  4  5                1  2  3</span><br><span class="line"> 2  3  4  5  6  7  8    6  7  8  9 10 11 12    4  5  6  7  8  9 10</span><br><span class="line"> 9 10 11 12 13 14 15   13 14 15 16 17 18 19   11 12 13 14 15 16 17</span><br><span class="line">16 17 18 19 20 21 22   20 21 22 23 24 25 26   18 19 20 21 22 23 24</span><br><span class="line">23 24 25 26 27 28 29   27 28 29 30            25 26 27 28 29 30 31</span><br><span class="line">30 31</span><br></pre></td></tr></table></figure>

<h4 id="搜索查找"><a href="#搜索查找" class="headerlink" title="搜索查找"></a>搜索查找</h4><ul>
<li>find  将从指定目录下递归地遍历各个目录，将所有满足条件的目录显示在控制台。</li>
</ul>
<p>语法格式：</p>
<p>find [搜索范围] [选项]</p>
<table>
<thead>
<tr>
<th>选项</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>-name</td>
<td>按照文件的名称查找文件</td>
</tr>
<tr>
<td>-user</td>
<td>查找指定用户所属的文件</td>
</tr>
<tr>
<td>-size</td>
<td>按照指定的大小查找文件</td>
</tr>
</tbody></table>
<p>实例1：按照文件名称查询文件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 kobe]# find /home/kobe -name &#x27;Hello.java&#x27;  # 查询/home/kobe目录下面 名称为Hello.java的文件</span><br><span class="line">/home/kobe/Hello.java</span><br><span class="line">[root@xq100 kobe]# find /home/kobe -name &#x27;*.java&#x27;  # 查询所有java文件</span><br><span class="line">/home/kobe/Hello.java</span><br><span class="line">/home/kobe/Demo1.java</span><br></pre></td></tr></table></figure>

<p>实例2：在&#x2F;opt目录下，查询root用户创建的文件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 kobe]#  find /opt -user &#x27;root&#x27;</span><br></pre></td></tr></table></figure>

<p>实例3：查找整个linux系统下，大于200M的文件 （+n大于,-n小于，n等于）单位还有K，M，G</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 kobe]# find / -size +200M #查询大于200M的文件</span><br><span class="line">/run/media/root/CentOS 7 x86_64/LiveOS/squashfs.img</span><br><span class="line">[root@xq100 kobe]# cd /run/media/root/CentOS\ 7\ x86_64/LiveOS/</span><br><span class="line">[root@xq100 LiveOS]# ls -lh  # 以友好的形式显示文件信息（很容易查看文件大小）</span><br><span class="line">total 476M</span><br><span class="line">-rw-r--r--. 1 root root 476M Sep  6  2019 squashfs.img</span><br><span class="line">-r--r--r--. 1 root root  224 Sep 12  2019 TRANS.TBL</span><br></pre></td></tr></table></figure>

<ul>
<li>locate指令   locate指令可以快速定位文件路径。locate指令利用事先建立好的系统中所有文件名称及路径的locate数据库实现快速定位给定的文件。<strong>locate指令无需遍历整个文件系统，查询速度较快。</strong></li>
</ul>
<p><strong>特别说明：</strong></p>
<p>由于locate指令基于数据库进行查询。所以第一次查询运行前，<strong>必须使用updatedb指令创建locate数据库。</strong></p>
<p>需求：用locate指令快速定位 Hello.java 文件所在目录       locate Hello.java</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 ~]# updatedb  # 一定要先执行这个指令</span><br><span class="line">[root@xq100 ~]# locate Hello.java  # 快速定位Hello.java文件所在的目录并输出</span><br><span class="line">/home/kobe/Hello.java</span><br><span class="line">/root/Hello.java</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>which</strong>指令 可以查看某个指令在哪个目录下，</li>
</ul>
<p>查看ls指令在那个目录 which ls </p>
<p>查看reboot指令在那个目录下 which reboot</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 ~]# which ls  # 查看ls指令所在的目录</span><br><span class="line">alias ls=&#x27;ls --color=auto&#x27;</span><br><span class="line">	/usr/bin/ls</span><br><span class="line">[root@xq100 ~]# which reboot  # 查看reboot指令所在的目录</span><br><span class="line">/usr/sbin/reboot</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>grep</strong>指令</li>
</ul>
<p>grep过滤查找，管道符，”|“,表示<strong>前一个指令的处理结果输出传递给后面的指令处理</strong>。一般我们将 | 和 grep一起结合起来使用。</p>
<p>基本语法：grep [选项] 查找内容 源文件</p>
<table>
<thead>
<tr>
<th>选项</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>-n</td>
<td>显示行号</td>
</tr>
<tr>
<td>-i</td>
<td>忽略自动大小写</td>
</tr>
</tbody></table>
<p>案例：查找在&#x2F;home&#x2F;kobe目录下的Hello.java文件中，查找hello所在行，并显示行号。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 kobe]# cat Hello.java |grep -ni &#x27;Hello&#x27;</span><br></pre></td></tr></table></figure>

<p>效果如下：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220828162539.54oztsf22eg0.webp" alt="20220828162539"></p>
<h4 id="压缩和解压"><a href="#压缩和解压" class="headerlink" title="压缩和解压"></a>压缩和解压</h4><ul>
<li><strong>gzip&#x2F;gunzip指令</strong>    gzip用于压缩文件 gunzip用于解压缩文件</li>
</ul>
<p>gzip 压缩文件（将文件压缩为*.gz的文件，原文件被压缩后不存在。）</p>
<p>需求： 将kobe目录下面的Demo1.java进行压缩</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 kobe]# gzip Demo1.java # 将Demo1.java 压缩成Demo1.java.gz文件</span><br><span class="line">[root@xq100 kobe]# ll</span><br><span class="line">total 8</span><br><span class="line">-rw-r--r--. 1 root root  31 Aug 28 15:59 Demo1.java.gz</span><br><span class="line">-rw-r--r--. 1 root root 122 Aug 28 16:23 Hello.java</span><br><span class="line">lrwxrwxrwx. 1 root root   5 Aug 28 15:34 linkToRoot -&gt; /root</span><br><span class="line">drwxr-xr-x. 2 root root  22 Aug 28 14:19 test</span><br></pre></td></tr></table></figure>

<p>gunzip 文件.gz (解压缩文件命令)</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 kobe]# gunzip Demo1.java.gz # 解压之后 当前压缩文件会不存在</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>zip&#x2F;unzip指令</strong></li>
</ul>
<p>zip用于压缩文件,unzip用于解压的，这个功能打包发布中很有用。</p>
<p>zip [选项] XXX.zip 将要压缩的内容 （压缩文件和目录的命令）</p>
<p> -r: 递归压缩，即压缩目录</p>
<p>-d: 指定解压后文件存放方目录</p>
<p>需求：将kobe目录及其下面的所有文件进行压缩，压缩成myFile.zip</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 home]# zip -r myFile.zip kobe/</span><br></pre></td></tr></table></figure>

<p>需求：将home目录下面的zip文件解压到home&#x2F;tmp文件目录中去</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 home]# mkdir tmp  # 创建tmp目录</span><br><span class="line">[root@xq100 home]# unzip -d /home/tmp myFile.zip # 将zip文件解压到tmp目录下面</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>tar指令</strong></li>
</ul>
<p>tar指令是打包指令，最后打包后的文件是.tar.gz的文件。</p>
<p>语法格式：tar [选项] XXX.tar.gz 打包的内容 （功能描述：打包目录，压缩后的文件格式.tar,gz）</p>
<table>
<thead>
<tr>
<th>选项</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>-c</td>
<td>产生tar打包文件</td>
</tr>
<tr>
<td>-v</td>
<td>显示详细信息</td>
</tr>
<tr>
<td>-f</td>
<td>指定压缩后的文件名</td>
</tr>
<tr>
<td>-z</td>
<td>打包同时压缩</td>
</tr>
<tr>
<td>-x</td>
<td>解压tar包文件</td>
</tr>
</tbody></table>
<p>需求1：将home目录下面的kobe目录压缩成myFile.tar.gz</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 home]# tar -zcvf  MyFile.tar.gz /kobe/</span><br><span class="line">[root@xq100 home]# ll</span><br><span class="line">total 4</span><br><span class="line">drwx------. 4 guojing taohuadao  158 Aug 28 15:26 guojing</span><br><span class="line">drwx------. 6 kobe    kobe       194 Aug 28 16:36 kobe</span><br><span class="line">-rw-r--r--. 1 root    root      1001 Aug 28 16:57 MyFile.tar.gz</span><br><span class="line">drwxr-xr-x. 3 root    root        18 Aug 28 16:48 tmp</span><br><span class="line">drwx------. 5 xq      xq         147 Aug 27 16:02 xq</span><br></pre></td></tr></table></figure>

<p>需求2：将myFile.tar.gz文件解压到当前目录</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 home]# tar -zxvf  MyFile.tar.gz</span><br></pre></td></tr></table></figure>

<p>需求3：将myFile.tar.gz文件解压到&#x2F;home&#x2F;tmp目录下面</p>
<p>需要使用-C参数指定解压的位置。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 home]# tar -zxvf myFile.tar.gz -C /home/tmp</span><br><span class="line">[root@xq100 home]# cd tmp</span><br><span class="line">[root@xq100 tmp]# ll</span><br><span class="line">total 0</span><br><span class="line">drwx------. 7 kobe kobe 194 Aug 28 16:36 kobe</span><br></pre></td></tr></table></figure>

<h3 id="linux组管理和权限管理"><a href="#linux组管理和权限管理" class="headerlink" title="linux组管理和权限管理"></a>linux组管理和权限管理</h3><h4 id="linux组介绍"><a href="#linux组介绍" class="headerlink" title="linux组介绍"></a>linux组介绍</h4><p>在linux中每个用户都必须属于一个组，不能独立于组外，在linux中每个文件有所有者，所在组，其他组的概念。下面我们用一幅图来解释用户、组、其他组的概念。</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220828172122.7kqjuqxed000.webp" alt="20220828172122"></p>
<p>默认情况下，谁创建了改文件，谁就是文件的所有者。</p>
<p>我们切换到&#x2F;home目录下。以列表的形式查看文件：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220828172724.4x230hhj3re0.webp" alt="20220828172724"></p>
<ul>
<li><strong>修改文件所属的用户</strong></li>
</ul>
<p>当然，我们也可以修改文件所属的用户。我们可以使用chown名令实现修改。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 home]# touch apple.txt</span><br><span class="line">[root@xq100 home]# ll</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220828172908.3rq6zltrop60.webp" alt="20220828172908"></p>
<p><code>chown [用户][文件名]</code>更改文件所属的<strong>用户</strong>（区分组）</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/image.29o901ufi9s0.webp" alt="image"></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 home]# chown kobe apple.txt # 将当前文件的所属用户变成kobe</span><br><span class="line">[root@xq100 home]# ll</span><br></pre></td></tr></table></figure>



<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220828173024.2aeqiy4xbykg.webp" alt="20220828173024"></p>
<p>当某个用户创建了一个文件后，这个文件的所在组就是该用户的所在组。</p>
<p>创建一个组 <code>groupadd monster</code></p>
<p>创建一个用户 fox并放入到monster组中 <code>useradd -g monster fox</code> &#x2F;&#x2F;创建用户的时候直接指定组名称</p>
<p>PS:</p>
<blockquote>
<p>现在我们创建用户的时候直接指定组名称。</p>
<p>基本语法： <code>useradd -g 用户组 用户名</code></p>
</blockquote>
<p>给fox设置密码  <code>passwd fox</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 home]# clear</span><br><span class="line">[root@xq100 home]# groupadd monster</span><br><span class="line">[root@xq100 home]# useradd -g monster fox</span><br><span class="line">[root@xq100 home]# passwd fox</span><br><span class="line">Changing password for user fox.</span><br><span class="line">New password: </span><br><span class="line">BAD PASSWORD: The password is shorter than 8 characters</span><br><span class="line">Retype new password: </span><br><span class="line">passwd: all authentication tokens updated successfully.</span><br></pre></td></tr></table></figure>

<p>注销当前root用户，使用fox用户登录。然后我们使用fox用户创建一个fox.txt的文件。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[fox@xq100 ~]$ pwd</span><br><span class="line">/home/fox</span><br><span class="line">[fox@xq100 ~]$ touch fox.txt</span><br><span class="line">[fox@xq100 ~]$ ll</span><br><span class="line">total 0</span><br><span class="line">-rw-r--r--. 1 fox monster 0 Aug 28 17:39 fox.txt</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>修改文件所在的组</strong></li>
</ul>
<p>我们切换到root用户，修改fox.txt所在的组。将组monster变更到taohuadao这个组。</p>
<p>我们使用命令<code>chgrp命令</code>就可以实现。（PS：区分修改用户还是修改组）</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 home]# cd fox</span><br><span class="line">[root@xq100 fox]# ll</span><br><span class="line">total 0</span><br><span class="line">-rw-r--r--. 1 fox monster 0 Aug 28 17:39 fox.txt</span><br><span class="line">[root@xq100 fox]# chgrp taohuadao fox.txt</span><br><span class="line">[root@xq100 fox]# ll</span><br><span class="line">total 0</span><br><span class="line">-rw-r--r--. 1 fox taohuadao 0 Aug 28 17:39 fox.txt</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>修改用户所在的组</strong></li>
</ul>
<p>在root用户下面，我们也可以修改用户所在的组。前提是新的组一定是存在的。</p>
<p>改变用户所在的组： <code>usermod -g 新组名 用户名</code></p>
<p>需求：将fox所属的组(monster)修改到taohuadao。</p>
<p><code>usermod -g taohuadao fox</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 home]# id fox</span><br><span class="line">uid=1003(fox) gid=1004(monster) groups=1004(monster)</span><br><span class="line">[root@xq100 home]# usermod -g taohuadao fox</span><br><span class="line">[root@xq100 home]# id fox</span><br><span class="line">uid=1003(fox) gid=1003(taohuadao) groups=1003(taohuadao)</span><br></pre></td></tr></table></figure>

<h4 id="Linux权限的介绍"><a href="#Linux权限的介绍" class="headerlink" title="Linux权限的介绍"></a>Linux权限的介绍</h4><h5 id="linux权限的基本概述"><a href="#linux权限的基本概述" class="headerlink" title="linux权限的基本概述"></a>linux权限的基本概述</h5><p>当我们使用ll命令查询文件信息的时候，我们发现是这样的：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220828180258.3p2omjce9iq0.webp" alt="20220828180258"></p>
<p>总共10位，我们使用0-9来描述。</p>
<p>第0-9位说明</p>
<ul>
<li><p>第0位确定文件类型(d,-,l,c,b)</p>
<ul>
<li><p>l是软连接，相当于windows的快捷方式</p>
</li>
<li><p>d是目录，相当于windows的文件夹</p>
</li>
<li><p>c是字符设别，鼠标，键盘(&#x2F;dev 目录里面查看)</p>
</li>
<li><p>b是块设备，比如说硬盘(&#x2F;dev 目录里面查看)</p>
</li>
</ul>
</li>
<li><p>第1-3位确定所有者（<strong>该文件的所有者</strong>）拥有该文件的权限 –User</p>
</li>
<li><p>第4-6位确定所属组，（<strong>同用户组的</strong>）又有该文件的权限 –Group</p>
</li>
<li><p>第7-9位确定<strong>其他用户</strong>拥有改文件的权限 –Other</p>
</li>
</ul>
<p><strong>rwx权限详解（难点）</strong></p>
<ul>
<li>rwx作用到文件<ul>
<li>r 代表可读 read 可以读取，查看</li>
<li>w 代表可写 write 可以修改，但是不代表可以删除改文件，<strong>删除一个文件的前提条件是对该文件所在的目录有写权限，才能删除文件</strong></li>
<li>x 代表可执行 execute 可被执行</li>
</ul>
</li>
<li>rwx作用到目录<ul>
<li>r 代表可读 可以读取 ls查看目录的内容</li>
<li>w 代表可写 对目录内进行创建+删除+重命名该目录</li>
<li>x 代表可执行 可以进入该目录</li>
</ul>
</li>
</ul>
<h5 id="文件及目录的案例"><a href="#文件及目录的案例" class="headerlink" title="文件及目录的案例"></a>文件及目录的案例</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-rw-r--r--. 1 root root   0 Aug 28 15:59 Demo1.java</span><br></pre></td></tr></table></figure>

<ul>
<li><p>第一个字符表示文件类型  - 指的是文件。</p>
</li>
<li><p>rw- 文件所有者对当前文件是可读可写不可执行的权限。</p>
</li>
<li><p>r– 与文件拥有者同一组的用户的权限是可读不可写不可执行。</p>
</li>
<li><p>r– 当前文件的其他用户的权限是可读不可写不可执行。</p>
</li>
<li><p>1：文件：硬连接数或 目录：子目录数</p>
</li>
<li><p>root：当前文件所属的用户</p>
</li>
<li><p>root：当前用户所属的组</p>
</li>
<li><p>0： 文件大小单位是字节</p>
</li>
<li><p>Aug 28 15:59：文件最后修改时间</p>
</li>
<li><p>Demo1.java：文件的名称</p>
</li>
</ul>
<h5 id="权限的修改"><a href="#权限的修改" class="headerlink" title="权限的修改"></a>权限的修改</h5><p>通过chmod指令，可以修改文件或者目录的权限。</p>
<ul>
<li>第一种方式：+，-，&#x3D;变更权限</li>
</ul>
<p>u:所有者，g：所属组，o,其他人，a：所有人（u,g,o的总和）</p>
<p>案例演示：</p>
<ol>
<li>给&#x2F;home&#x2F;Hello.java所有者读写执行的权限，给所在组执行读执行的权限，给其他组读执行的权限</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 kobe]# chmod u=rwx,g=rx,o=rx Hello.java </span><br></pre></td></tr></table></figure>

<ol start="2">
<li>给&#x2F;home&#x2F;Hello.java文件的所有者去除执行的权限，增加组写的权限</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 kobe]# chmod u-x,g+w Hello.java </span><br></pre></td></tr></table></figure>

<ol start="3">
<li>给&#x2F;home&#x2F;Hello.java文件的所有用户添加读的权限</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 kobe]# chmod a+r Hello.java </span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/image.3y53bjr9lay0.webp" alt="image"></p>
<ul>
<li>第二种方式：通过数字变更权限</li>
</ul>
<p>rwx所对应的数值</p>
<p><strong>r&#x3D;4,w&#x3D;2,x&#x3D;1</strong> </p>
<p>rwx&#x3D;4+2+1&#x3D;7</p>
<p><strong>chmod u&#x3D;rwx,g&#x3D;rx,o&#x3D;x 文件目录名</strong> 等价于 <strong>chmod 751 文件目录名</strong></p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/image.4agdku8ns3q0.webp" alt="image"></p>
<h5 id="权限管理的最佳实践"><a href="#权限管理的最佳实践" class="headerlink" title="权限管理的最佳实践"></a>权限管理的最佳实践</h5><p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220828185346.movgeul2og0.webp" alt="20220828185346"></p>
<p><strong>我们先完成1 2步骤的操作：</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 ~]# groupadd police  # 创建组police</span><br><span class="line">[root@xq100 ~]# groupadd bandit   # 创建组bandit</span><br><span class="line">[root@xq100 ~]# useradd -g police jack  # 创建用户jack，并将其设置在police组里面</span><br><span class="line">[root@xq100 ~]# useradd -g police jerry  # 创建用户jerry，并将其设置在police组里面</span><br><span class="line">[root@xq100 ~]# useradd -g bandit xh  # 创建用户xh,并将其设置在bandit组里面</span><br><span class="line">[root@xq100 ~]# useradd -g bandit xm # 创建用户xm,并将其设置在bandit组里面</span><br></pre></td></tr></table></figure>

<p><strong>我们再完成第3步操作：</strong></p>
<p>先设置4个用户的密码</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 ~]# passwd jack</span><br><span class="line">Changing password for user jack.</span><br><span class="line">New password: </span><br><span class="line">BAD PASSWORD: The password is shorter than 8 characters</span><br><span class="line">Retype new password: </span><br><span class="line">passwd: all authentication tokens updated successfully.</span><br><span class="line">[root@xq100 ~]# passwd jerry</span><br><span class="line">Changing password for user jerry.</span><br><span class="line">New password: </span><br><span class="line">BAD PASSWORD: The password is shorter than 8 characters</span><br><span class="line">Retype new password: </span><br><span class="line">passwd: all authentication tokens updated successfully.</span><br><span class="line">[root@xq100 ~]# passwd xh</span><br><span class="line">Changing password for user xh.</span><br><span class="line">New password: </span><br><span class="line">BAD PASSWORD: The password is shorter than 8 characters</span><br><span class="line">Retype new password: </span><br><span class="line">passwd: all authentication tokens updated successfully.</span><br><span class="line">[root@xq100 ~]# passwd xm</span><br><span class="line">Changing password for user xm.</span><br><span class="line">New password: </span><br><span class="line">BAD PASSWORD: The password is shorter than 8 characters</span><br><span class="line">Retype new password: </span><br><span class="line">passwd: all authentication tokens updated successfully.</span><br></pre></td></tr></table></figure>

<p>再使用jack登录，然后创建文件jack.txt，并设置对应的权限。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[jack@xq100 ~]$ vim jack.txt  # 创建jack.txt文件 并在里面编辑内容Hello</span><br><span class="line">[jack@xq100 ~]$ cat jack.txt</span><br><span class="line">Hello</span><br><span class="line">[jack@xq100 ~]$ ll</span><br><span class="line">total 4</span><br><span class="line">-rw-r--r--. 1 jack police 6 Aug 28 19:06 jack.txt</span><br><span class="line">[jack@xq100 ~]$ chmod 640 jack.txt # 修改权限</span><br><span class="line">[jack@xq100 ~]$ ll</span><br><span class="line">total 4</span><br><span class="line">-rw-r-----. 1 jack police 6 Aug 28 19:06 jack.txt</span><br></pre></td></tr></table></figure>

<p><strong>我们再完成第4步操作：</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[jack@xq100 ~]$ chmod 664 jack.txt </span><br><span class="line">[jack@xq100 ~]$ ll</span><br><span class="line">total 4</span><br><span class="line">-rw-r--r--. 1 jack police 6 Aug 28 19:06 jack.txt</span><br></pre></td></tr></table></figure>

<p><strong>我们再完成第5步操作：</strong></p>
<p>此时我们需要root用户的权限执行这条命令</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 jack]# usermod -g police xh</span><br></pre></td></tr></table></figure>

<p><strong>测试：xh xm是否可以对jack.txt进行读写操作。</strong></p>
<p>分别使用xh xm登录。然后在当前xh xm目录下面执行命令：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[xh@xq100 ~]$ cd /home/jack/  # 因为jack.txt在jack目录下面</span><br><span class="line">-bash: cd: /home/jack/: Permission denied</span><br></pre></td></tr></table></figure>

<p>我们发现：在jack用户下，对jack目录的权限是：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220828192253.71v1uml7rdw0.webp" alt="20220828192253"></p>
<p><strong>结论：如果我们要对目录内的文件进行操作，就必须具备对该目录相应的权限。</strong></p>
<p>如果我们想让xh能够进入这个目录，我们需要<strong>在jack用户下面</strong>，修改对jack目录的操作权限。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[jack@xq100 home]$ chmod 770 jack  # 在jack目录下面 修改文件权限770</span><br><span class="line">[jack@xq100 home]$ ll</span><br><span class="line">drwxrwx---. 5 jack    police    158 Aug 28 19:15 jack</span><br></pre></td></tr></table></figure>

<p>我们再<strong>在xh用户下面</strong>进入jack目录：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[xh@xq100 ~]$ cd /home/jack/</span><br><span class="line">[xh@xq100 jack]$ ll</span><br><span class="line">total 4</span><br><span class="line">-rw-r--r--. 1 jack police 6 Aug 28 19:06 jack.txt</span><br></pre></td></tr></table></figure>

<p>我们发现可以进入。由于jack和xh都是属于police组。所以xh可以对文件进行读操作，但是不能进行写操作。</p>
<p>我们需要<strong>在jack用户下面</strong>，给jack.txt文件添加当前组的写操作权限。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[jack@xq100 home]$ cd jack/</span><br><span class="line">[jack@xq100 ~]$ chmod g+w jack.txt </span><br><span class="line">[jack@xq100 ~]$ ll</span><br><span class="line">total 4</span><br><span class="line">-rw-rw-r--. 1 jack police 6 Aug 28 19:06 jack.txt</span><br></pre></td></tr></table></figure>

<p>这样xh用户就可以对jack.txt进行写操作了。我们切入到<strong>xh</strong>目录下面：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[xh@xq100 jack]$ ll</span><br><span class="line">total 4</span><br><span class="line">-rw-rw-r--. 1 jack police 6 Aug 28 19:06 jack.txt</span><br></pre></td></tr></table></figure>

<p>我们发现，xh对当前jack.txt文件也可以进行写操作了。</p>
<h3 id="linux定时任务调度"><a href="#linux定时任务调度" class="headerlink" title="linux定时任务调度"></a>linux定时任务调度</h3><h4 id="crond任务调度快速入门"><a href="#crond任务调度快速入门" class="headerlink" title="crond任务调度快速入门"></a>crond任务调度快速入门</h4><p>我可以使用crontab命令进行定时任务调度的设置。何为任务调度?</p>
<p>任务调度：指在某个时间执行特定的命令或者程序。</p>
<p>任务调度的分类：</p>
<ol>
<li><p>系统任务：有些重要的工作必须周而复始的执行 比如病毒扫描 。</p>
</li>
<li><p>个别用户工作: 个别用户希望执行某些程序，比如对mysql数据库的备份。</p>
</li>
</ol>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220829202142.6xey5tpkios0.webp" alt="20220829202142"></p>
<p>基本语法：crontab [选项]</p>
<p>常用选项：</p>
<p>-e： 编辑定时任务</p>
<p>-l：查询定时任务</p>
<p>-r：删除当前用户的所有定时任务</p>
<p>需求：创建一个定时任务，将etc目录下面的文件列表查询出来，追加到&#x2F;tmp&#x2F;etc.txt文件中，并每分钟执行1次。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 tmp]# crontab -e</span><br></pre></td></tr></table></figure>

<p>输入任务调度内容：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">*/1 * * * * ls -l /etc/ &gt; /tmp/etc.txt</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220829214350.1jnuv4bkb6jk.webp" alt="20220829214350"></p>
<p>然后按esc键，保存并退出。</p>
<p>我们在&#x2F;tmp下面查看，是否存在etc.txt。我们发现存在的。</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220829214536.55cx6v09br00.webp" alt="20220829214536"></p>
<p>如果我们把这个文件删除，一分钟之后。这个文件又会被创建出来。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 tmp]# rm -f etc.txt </span><br><span class="line">[root@xq100 tmp]# date</span><br><span class="line">Mon Aug 29 21:46:52 CST 2022</span><br><span class="line">[root@xq100 tmp]# date</span><br><span class="line">Mon Aug 29 21:47:01 CST 2022  #过去了1分钟</span><br><span class="line">[root@xq100 tmp]# ll</span><br><span class="line">total 1188</span><br><span class="line">-rw-r--r--. 1 root root  16802 Aug 29 21:47 etc.txt  # 删除的文件又出现了 因为1分钟之后，任务调度又出现了</span><br></pre></td></tr></table></figure>

<h4 id="crond任务调度的时间规则"><a href="#crond任务调度的时间规则" class="headerlink" title="crond任务调度的时间规则"></a>crond任务调度的时间规则</h4><ul>
<li>占位符说明</li>
</ul>
<table>
<thead>
<tr>
<th>项目</th>
<th>含义</th>
<th>范围</th>
</tr>
</thead>
<tbody><tr>
<td>第一个 “*”</td>
<td>一个小时当中的第几分钟</td>
<td>0-59</td>
</tr>
<tr>
<td>第二个 “*”</td>
<td>一天当中的第几个小时</td>
<td>0-23</td>
</tr>
<tr>
<td>第三个 “*”</td>
<td>一个月当中的第几天</td>
<td>1-31</td>
</tr>
<tr>
<td>第四个 “*”</td>
<td>一年当中的第几个月</td>
<td>1-12</td>
</tr>
<tr>
<td>第五个 “*”</td>
<td>一周当中的星期几</td>
<td>0-7(0和7都代表星期日)</td>
</tr>
</tbody></table>
<ul>
<li>特殊符号说明</li>
</ul>
<table>
<thead>
<tr>
<th>特殊符号</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>*</td>
<td>代表任何时间，比如第一个“*”就代表1小时中每分钟都执行1次的意思。</td>
</tr>
<tr>
<td>，</td>
<td>代表不连续的时间，比如“0,8,12,16 * * *”就代表1天中的8点过0分，12点过0分，16点过0分都会执行1次。</td>
</tr>
<tr>
<td>-</td>
<td>代表连续的世间范围，比如“0,5 * * 1-6”就代表星期1到星期6的凌晨5点过0分都会执行。</td>
</tr>
<tr>
<td>*&#x2F;n</td>
<td>代表每隔多久执行1次。比如“*&#x2F;10 * * * *” 就代表每隔10分钟就执行1次命令。</td>
</tr>
</tbody></table>
<ul>
<li>特殊时间执行案例</li>
</ul>
<table>
<thead>
<tr>
<th>时间</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>45 22 * * *</td>
<td>每天在22时45分执行任务</td>
</tr>
<tr>
<td>0 17 * * 1</td>
<td>每周一的17点过0分执行任务</td>
</tr>
<tr>
<td>0 5 1,15 * *</td>
<td>每月的1号和15号的凌晨5点钟执行任务</td>
</tr>
<tr>
<td>40 4 * * 1-5</td>
<td>每周1-到周5的凌晨4:40分执行任务</td>
</tr>
<tr>
<td>*&#x2F;10 4 * * *</td>
<td>每天的凌晨4点。每隔10分钟就执行1次任务</td>
</tr>
</tbody></table>
<h4 id="crond任务调度实例"><a href="#crond任务调度实例" class="headerlink" title="crond任务调度实例"></a>crond任务调度实例</h4><p>案例1：每隔1分钟，将当前的日期信息追加到&#x2F;tmp&#x2F;mydate.txt文件中。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 tmp]# */1 * * * * date &gt;&gt; /tmp/mydate.txt</span><br></pre></td></tr></table></figure>

<p>案例2：每隔1分钟，将将当前的日期和日历都追加到&#x2F;home&#x2F;mycal.txt文件中。</p>
<p>分析：由于现在有获取当前的日期和日期两个指令，所以我们可以将这两条命令定义在脚本里面。然后再通过定时任务调度去执行脚本即可。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 home]# cd /home</span><br><span class="line">[root@xq100 home]# vim my.sh</span><br></pre></td></tr></table></figure>

<p>在my.sh里面编辑：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">date &gt;&gt; /home/mycal.txt</span><br><span class="line">cal &gt;&gt; /home/mycal.txt</span><br></pre></td></tr></table></figure>

<p>按ESC，保存并退出。但是我们发现这个脚本，root没有执行权限。</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220829221828.4yf7tju94f40.webp" alt="20220829221828"></p>
<p>我们需要修改脚本的权限，使当前用户root能够对脚本进行执行。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 home]# chmod u+x my.sh</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220829222026.6ho3asthvco0.webp" alt="20220829222026"></p>
<p>接下来我们需要动态执行脚本。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 tmp]# crontab -e</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220829222254.38mmbiosuvi0.webp" alt="20220829222254"></p>
<p>保存并退出即可。我们查看效果：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220829222629.29b5jzmqnnb4.webp" alt="20220829222629"></p>
<p>案例3：每天凌晨2点，将mysql数据库testdb,备份到文件中。(提示：备份数据库的指令为 mysqldump -u root -p密码 数据库名称 &gt; &#x2F;home&#x2F;文件名称)</p>
<p>第一步： crontab -e</p>
<p>第二步：0 2 * * * mysqldump -u root -proot testdb &gt; &#x2F;home&#x2F;db.bak</p>
<p>还有其他几个任务调度指令，大家了解一下：</p>
<ul>
<li>crontab -r :终止任务调度</li>
</ul>
<ul>
<li><p>contab -l :列出当前有哪些任务调度</p>
</li>
<li><p>service crond restart [重启任务调度]</p>
</li>
</ul>
<h4 id="at任务调度机制的简单介绍"><a href="#at任务调度机制的简单介绍" class="headerlink" title="at任务调度机制的简单介绍"></a>at任务调度机制的简单介绍</h4><ol>
<li><p>at命令是一次性定时执行任务计划，at的守护线程atd以后台的模式运行，检查作业队列来运行。</p>
</li>
<li><p>默认情况下，atd守护线程每60秒检查作业队列，有作业时会检查作业运行时间，如果时间与当前时间匹配，则运行此作业。</p>
</li>
<li><p>at命令是一次性定制的计划任务，执行完一个任务后就不再执行此任务了。</p>
</li>
<li><p>在使用at命令的时候，一定要保证atd进程的启动，可以用相关指令来查看</p>
<p>ps -ef | grep atd</p>
</li>
</ol>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220829225128.1abb2d39rbeo.webp" alt="20220829225128"></p>
<p>下面我们用一幅图来说明at任务调度机制：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220829225737.8zo16iqjsbk.webp" alt="20220829225737"></p>
<ul>
<li>at时间定义：</li>
</ul>
<table>
<thead>
<tr>
<th><strong>格式</strong></th>
<th>含义</th>
<th>举例</th>
</tr>
</thead>
<tbody><tr>
<td>HH:MM</td>
<td>当天 HH:MM 执行，若当天时间已过，则在明天 HH:MM 执行</td>
<td>当天 4:00 (若超时则为明天 4:00):<br/><code>4:00</code></td>
</tr>
<tr>
<td>英文粗略时间单次</td>
<td>midnight(午夜，00:00)、noon(中午，12:00)、teatime(下午茶时间，16:00)  tomorrow（明天）</td>
<td>midnight、noon、teatime</td>
</tr>
<tr>
<td>英文月名A 日期B [年份C]</td>
<td>C年A月B日执行</td>
<td>在 2018 年 1 月 15 日执行:<br/><code>January 15 2018</code></td>
</tr>
<tr>
<td>日期时间戳形式</td>
<td>绝对计时法<br/>时间+日期<br/>时间：<code>HH:MM</code><br/>日期：<code>MMDDYY</code>或<code>MM/DD/YY</code>或<code>MM.DD.YY</code></td>
<td>在 2018 年 1 月 15 日执行：<br/><code>011518</code>或<code>01/15/18</code>或<code>01.15.18</code></td>
</tr>
<tr>
<td>now + 数量 单位</td>
<td>相对计时法<br/>以 minutes、hours、days 或 weeks 为单位</td>
<td>5 天后的此时此刻执行：<br/><code>now + 5 days</code></td>
</tr>
</tbody></table>
<h4 id="at任务调度实例"><a href="#at任务调度实例" class="headerlink" title="at任务调度实例"></a>at任务调度实例</h4><ul>
<li>常用选项</li>
</ul>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220829231104.6v5wvbwktlw0.webp" alt="20220829231104"></p>
<p>语法格式：</p>
<p>at [选项] [时间]</p>
<p>at &gt; 命令(输入两次 Ctrl + D)</p>
<p>释义：</p>
<p>第一行：at 指令输入结束后，回车到下一行输入指令<br>第二行：开头的 at&gt; 无需输入，是系统自动添加的<br>命令输入结束后：Ctrl + D 结束命令的输入，要输入两次</p>
<ul>
<li>两天后的下午6点执行ll命令</li>
</ul>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220829231416.61iygf4h42w0.webp" alt="20220829231416"></p>
<ul>
<li>使用atq命令，查看系统中有没有执行工作任务</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 home]# atq</span><br><span class="line">1	Wed Aug 31 17:00:00 2022 a root</span><br><span class="line">2	Wed Aug 31 18:00:00 2022 a root</span><br></pre></td></tr></table></figure>

<ul>
<li>明天17点钟，输出时间都指定文件内，比如&#x2F;home&#x2F;date100.log</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 home]# at 5pm tomorrow</span><br><span class="line"><span class="meta prompt_">at&gt; </span><span class="language-bash"><span class="built_in">date</span> &gt; /home/date100.<span class="built_in">log</span>&lt;EOT&gt;</span></span><br><span class="line">job 4 at Tue Aug 30 17:00:00 2022</span><br></pre></td></tr></table></figure>

<ul>
<li>2分钟后，输出时间到指定文件内，比如&#x2F;home&#x2F;dat200.log</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 home]# at now + 2 minutes</span><br><span class="line"><span class="meta prompt_">at&gt; </span><span class="language-bash"><span class="built_in">date</span> &gt; /home/date200.<span class="built_in">log</span>&lt;EOT&gt;</span></span><br><span class="line">job 5 at Mon Aug 29 23:24:00 2022</span><br></pre></td></tr></table></figure>

<p>使用atq查看队列任务：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220829232608.i4mw0mtwuqw.webp" alt="20220829232608"></p>
<p>2分钟之后，我们再次查看队列任务：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220829232723.5qj1784wjps0.webp" alt="20220829232723"></p>
<p>我们发现5号任务没有了，因为5号任务被执行了。所以被移出队列了。</p>
<ul>
<li>删除已经设置好的任务</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 home]# atq</span><br><span class="line">1	Wed Aug 31 17:00:00 2022 a root</span><br><span class="line">2	Wed Aug 31 18:00:00 2022 a root</span><br><span class="line">4	Tue Aug 30 17:00:00 2022 a root</span><br><span class="line">[root@xq100 home]# atrm 1  # 删除1号任务</span><br><span class="line">[root@xq100 home]# atq</span><br><span class="line">2	Wed Aug 31 18:00:00 2022 a root</span><br><span class="line">4	Tue Aug 30 17:00:00 2022 a root</span><br></pre></td></tr></table></figure>

<h3 id="linux磁盘分区"><a href="#linux磁盘分区" class="headerlink" title="linux磁盘分区"></a>linux磁盘分区</h3><h4 id="linux磁盘分区机制"><a href="#linux磁盘分区机制" class="headerlink" title="linux磁盘分区机制"></a>linux磁盘分区机制</h4><h5 id="磁盘分区和linux文件系统的关系"><a href="#磁盘分区和linux文件系统的关系" class="headerlink" title="磁盘分区和linux文件系统的关系"></a>磁盘分区和linux文件系统的关系</h5><ol>
<li>Linux 系统中的文件系统的总体结构是一定的：只有一个根目录，根目录下的目录结构独立且唯一（如 &#x2F;boot、&#x2F;dev、&#x2F;bin、&#x2F;etc 目录等都是唯一的），Linux 中的磁盘分区都是文件系统中的一部分。</li>
<li>计算机的硬盘可以有多个、磁盘上的分区也可以有多个。<br>但每个磁盘要想连接到 Linux 系统中，需要将分区“映射”到文件系统的某一个目录下，这样访问目录即可访问对应硬盘分区，这种映射称为“挂载”。</li>
<li>任何目录或其父目录都要挂载到硬盘的某个分区下。如需要将某一分区挂载到根目录下，Linux 系统才能正常工作。</li>
<li>某个分区所挂载的目录，称为此分区的挂载点。</li>
<li>磁盘的不同分区可以挂载到 Linux 文件系统的不同分区下，但不能同时挂载到一个相同的目录。</li>
</ol>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220829234858.5h4bf2au86o0.webp" alt="20220829234858"></p>
<p>我们可以去查看一下具体的磁盘分区信息吗?我们可以使用lsblk命令来查看详细的磁盘分区信息：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 home]# lsblk</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220829235040.1ammpfspn03k.webp" alt="20220829235040"></p>
<h5 id="linux硬盘标识"><a href="#linux硬盘标识" class="headerlink" title="linux硬盘标识"></a>linux硬盘标识</h5><p>Linux 硬盘有两种：<strong>IDE 硬盘</strong> 和 <strong>SCSI 硬盘</strong></p>
<ul>
<li>对于 <strong>IDE 硬盘</strong>：驱动器标识为：<code>hdx~</code><ul>
<li><code>hd</code> 表示分区所在设备的类型，这里<code>hd</code>&#x3D; IDE 硬盘</li>
<li><code>x</code> 为盘号，区分不同硬盘间的功能</li>
</ul>
</li>
</ul>
<table>
<thead>
<tr>
<th>标识</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>a</td>
<td>基本盘</td>
</tr>
<tr>
<td>b</td>
<td>基本从属盘</td>
</tr>
<tr>
<td>c</td>
<td>辅助主盘</td>
</tr>
<tr>
<td>d</td>
<td>辅助从属盘</td>
</tr>
</tbody></table>
<p>​         ○ <code>~</code> 为分区号，区分同一硬盘上不同分区的功能</p>
<table>
<thead>
<tr>
<th>标识</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>1-4</td>
<td>主分区 或 扩展分区</td>
</tr>
<tr>
<td>5</td>
<td>逻辑分区</td>
</tr>
</tbody></table>
<ul>
<li>对于 <strong>SCSI 硬盘</strong>：驱动器标识为：<code>sdx~</code><ul>
<li><code>sd</code> 表示分区所在设备的类型，这里<code>sd</code>&#x3D; SCSI 硬盘</li>
<li><code>x</code> 为盘号，区分不同硬盘间的功能（盘号功能标识同 IDE 硬盘 a代表第一块硬盘 b代表第二块硬盘c代表第三块硬盘 d代表第四块硬盘）</li>
<li><code>~</code> 为分区号，区分同一硬盘上不同分区的功能（分区号功能标识同 IDE 硬盘）</li>
</ul>
</li>
</ul>
<p>我们也可以查看分区的详细信息：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 ~]# lsblk -f</span><br><span class="line">NAME   FSTYPE  LABEL           UUID                                 MOUNTPOINT</span><br><span class="line">sda                                                                 </span><br><span class="line">├─sda1 xfs                     72921afb-f2fa-4b12-9338-28b31d19d15a /boot</span><br><span class="line">├─sda2 swap                    6b47cbdc-9db2-4e27-9309-3898c51b3d5f [SWAP]</span><br><span class="line">└─sda3 xfs                     569b448b-1d35-47d6-929d-ad256d81d19d /</span><br><span class="line">sr0    iso9660 CentOS 7 x86_64 2019-09-11-18-50-31-00 </span><br></pre></td></tr></table></figure>

<p><code>NAME</code>：驱动器标识</p>
<p><code>FSTYPE</code>：文件系统类型</p>
<p><code>LABLE</code>：文件系统 LABLE</p>
<p><code>UUID</code>：分区唯一标识符，格式化磁盘后，会给分区分配一个32位的唯一的字符串</p>
<p><code>MOUNTPOINT</code>：挂载点</p>
<h4 id="磁盘挂载的案例"><a href="#磁盘挂载的案例" class="headerlink" title="磁盘挂载的案例"></a>磁盘挂载的案例</h4><p>需求：下面我们以增加一块硬盘来熟悉磁盘的相关指令，深入理解磁盘分区、卸载、挂载的概念。</p>
<ul>
<li><strong>新增硬盘</strong></li>
</ul>
<p>如何添加硬盘？</p>
<p>我们右键虚拟机，点击设置。</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220830211217.i1z6kch3tlc.webp" alt="20220830211217"></p>
<p>点击添加：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220830211315.4f6its00aoe0.webp" alt="20220830211315"></p>
<p>点击下一步：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220830211425.208jrrzuoeps.webp" alt="20220830211425"></p>
<p>点击下一步：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220830211528.5b6qyduxfjo0.webp" alt="20220830211528"></p>
<p>点击下一步,设置磁盘容量：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220830211708.2wmyc4q04540.webp" alt="20220830211708"></p>
<p>点击下一步，完成。此时我们可以看到我们新增加的硬盘：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220830211854.zf0ypr82reo.webp" alt="20220830211854"></p>
<p>点击确定，完成。<strong>然后我们重启系统。</strong></p>
<p>此时我们通过lsblk指令，我们可以查看到硬盘的详细信息：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220830212408.5qmdpxza0ak0.webp" alt="20220830212408"></p>
<ul>
<li><strong>给新增的硬盘分区</strong></li>
</ul>
<p>接下来，我们需要给这块硬盘进行分区操作(我们就分1个分区)。我们知道，linux会把设备映射成文件，并将文件保存在&#x2F;dev目录下面。</p>
<p>我们可以查看：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220830212734.5c7o7w2rauw0.webp" alt="20220830212734"></p>
<p>接下来我们就进行分区的具体操作：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 ~]# fdisk /dev/sdb</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220830213137.9crh832yuac.webp" alt="20220830213137"></p>
<p>接下来我们进行分区的细节设置：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220830213658.3vqjiwuppdw0.webp" alt="20220830213658"></p>
<p>接下来我们使用lsblk命令来查看分区的具体信息:</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220830213854.448kgrqrvty0.webp" alt="20220830213854"></p>
<p>在&#x2F;dev目录下面，也有对应的文件描述sdb1:</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220830214425.3i8mertwy0u0.webp" alt="20220830214425"></p>
<p>现在的分区可以挂载吗？不可以，因为我们的磁盘分区还没有格式化！</p>
<ul>
<li><strong>格式化磁盘分区</strong></li>
</ul>
<p>接下来，我们使用格式化命令来对磁盘分区进行格式化：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 ~]# mkfs -t ext4 /dev/sdb1   #格式化分区</span><br><span class="line">[root@xq100 ~]# lsblk -f  # 查看分区详细信息</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220830214742.d0holzes18.webp" alt="20220830214742"></p>
<ul>
<li><strong>挂载分区</strong></li>
</ul>
<p>接下来，我们要将分区进行挂载，挂载到哪里去，挂载到指定的目录下面。所以我们需要先创建一个目录。我们在根目录下面创建一个目录newdisk(当前我们可以在任意地方定义需要被挂载的目录，并不一定在根目录)。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 ~]# cd /</span><br><span class="line">[root@xq100 /]# mkdir newdisk</span><br><span class="line">[root@xq100 /]# mount /dev/sdb1 /newdisk/   # 将sdb1磁盘分区挂载到newdisk目录</span><br><span class="line">[root@xq100 /]# lsblk -f</span><br></pre></td></tr></table></figure>

<p>此时我们在查看磁盘分区情况：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220830215602.24eszn7t5jxc.webp" alt="20220830215602"></p>
<p>如果我们不想让当前分区sdb1和newdisk目录挂载了。我们可以卸载分区：</p>
<p>命令： umount &#x2F;dev&#x2F;sdb1或者 umount newdisk</p>
<p><font color="red"><strong>注意：用命令行挂载的方式重启后会失效！！！,也就是说这种挂载关系是临时的。</strong></font></p>
<p>如果我们想实现永久挂载呢？我们可以通过修改&#x2F;etc&#x2F;fstab文件实现永久挂载。添加完成后，执行mount -a（或者reboot）即刻生效。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 /]# vim /etc/fstab</span><br></pre></td></tr></table></figure>

<p>编辑如下：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220830220843.6szjaadxxl00.webp" alt="20220830220843"></p>
<p>然后保存并退出。</p>
<h4 id="磁盘情况查询指令"><a href="#磁盘情况查询指令" class="headerlink" title="磁盘情况查询指令"></a>磁盘情况查询指令</h4><ul>
<li>查询整个磁盘占用情况</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 ~]# df -h</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220830221719.3rajdpws9rc0.webp" alt="20220830221719"></p>
<ul>
<li>查询指定目录的磁盘占用情况</li>
</ul>
<p>比如我们想查看&#x2F;opt&#x2F;目录情况。</p>
<p>语法： du -h [目录]</p>
<table>
<thead>
<tr>
<th>-s</th>
<th>指定目录大小汇总</th>
</tr>
</thead>
<tbody><tr>
<td>-h</td>
<td>带计量单位</td>
</tr>
<tr>
<td>-a</td>
<td>含文件</td>
</tr>
<tr>
<td>–max-depth&#x3D;1</td>
<td>子目录深度</td>
</tr>
<tr>
<td>-c</td>
<td>列出明细的同时，增加汇总值</td>
</tr>
</tbody></table>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 opt]# du -h --max-depth=1 /opt</span><br><span class="line">0	/opt/rh</span><br><span class="line">208M	/opt/vmware-tools-distrib</span><br><span class="line">277M	/opt  # 汇总opt目录下面的磁盘占用情况</span><br></pre></td></tr></table></figure>

<p>汇总和含文件查询:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 opt]# du -hac --max-depth=1 /opt</span><br><span class="line">0	/opt/rh</span><br><span class="line">69M	/opt/VMwareTools-10.0.0-2977863.tar.gz</span><br><span class="line">208M	/opt/vmware-tools-distrib</span><br><span class="line">277M	/opt</span><br><span class="line">277M	total</span><br></pre></td></tr></table></figure>

<h4 id="磁盘操作实用指令"><a href="#磁盘操作实用指令" class="headerlink" title="磁盘操作实用指令"></a>磁盘操作实用指令</h4><ul>
<li>统计&#x2F;opt文件夹下文件的个数</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 opt]# ll</span><br><span class="line">total 69852</span><br><span class="line">drwxr-xr-x. 2 root root        6 Oct 31  2018 rh</span><br><span class="line">-rw-r--r--. 1 root root 71524872 Aug 12  2015 VMwareTools-10.0.0-2977863.tar.gz</span><br><span class="line">drwxr-xr-x. 9 root root      175 Aug 12  2015 vmware-tools-distrib</span><br><span class="line">[root@xq100 opt]# ls -l /opt | grep &quot;^-&quot; | wc -l  # &quot;^-&quot; 以文件开头  wc -l 统计个数</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<ul>
<li>统计&#x2F;opt文件夹下目录的个数</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 opt]# ls -l /opt | grep &quot;^d&quot; | wc -l   # &quot;^d&quot; 以文件目录开头  wc -l 统计个数</span><br><span class="line">2</span><br></pre></td></tr></table></figure>

<ul>
<li>统计&#x2F;opt文件下的文件的个数，包括子文件夹下的</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 opt]# ls -lR /opt | grep &quot;^-&quot; | wc -l  # R 代表递归</span><br><span class="line">3148</span><br></pre></td></tr></table></figure>

<ul>
<li>统计&#x2F;opt文件夹下的目录的个数，包括子文件夹下的</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 opt]# ls -lR /opt | grep &quot;^d&quot; | wc -l</span><br><span class="line">853</span><br></pre></td></tr></table></figure>

<ul>
<li>以树状结构显示目录结构（如果没有tree，则使用 yum install tree 安装）</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 opt]# tree /home</span><br><span class="line">bash: tree: command not found...  # 需要安装tree指令</span><br><span class="line">[root@xq100 opt]# yum install tree</span><br><span class="line">[root@xq100 opt]# tree /home  # 以树状的形式展示目录结构</span><br></pre></td></tr></table></figure>

<h3 id="Linux-NAT网络配置"><a href="#Linux-NAT网络配置" class="headerlink" title="Linux NAT网络配置"></a>Linux NAT网络配置</h3><h4 id="linux-NAT网络原理"><a href="#linux-NAT网络原理" class="headerlink" title="linux NAT网络原理"></a>linux NAT网络原理</h4><p>前面我们在安装linux的时候，我们指定网络的连接方式是NAT模式，那么这一节，我们就来研究NAT网络模式的原理。现在大家思考一个问题，为什么我们可以在linux操作系统里面访问外网(比如访问百度)?接下来我们通过一幅图来理解：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220830232552.22p606x1kbz4.webp" alt="20220830232552"></p>
<p>解读：</p>
<p>首先我们查看虚拟机上linux操作系统的地址：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220830232832.af5wvcnya80.webp" alt="20220830232832"></p>
<p>接下来我们再看看我们vmnet8的ip地址和以太网的ip地址：</p>
<p>在windows操作系统里面使用ipconfig命令：</p>
<p>vmnet8的ip:</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220830233006.5isvetapxm40.webp" alt="20220830233006"></p>
<p>以太网的ip:</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220830233108.1l1dumf5k6n4.webp" alt="20220830233108"> </p>
<p>接下来我们来互相ping一下，看能否ping通。</p>
<p>在windows操作系统里面ping linux的ip地址：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\kriss&gt;ping 192.168.10.137</span><br><span class="line"></span><br><span class="line">正在 Ping 192.168.10.137 具有 32 字节的数据:</span><br><span class="line">来自 192.168.10.137 的回复: 字节=32 时间&lt;1ms TTL=64</span><br><span class="line">来自 192.168.10.137 的回复: 字节=32 时间&lt;1ms TTL=64</span><br><span class="line">来自 192.168.10.137 的回复: 字节=32 时间&lt;1ms TTL=64</span><br><span class="line">来自 192.168.10.137 的回复: 字节=32 时间&lt;1ms TTL=64</span><br><span class="line"></span><br><span class="line">192.168.10.137 的 Ping 统计信息:</span><br><span class="line">    数据包: 已发送 = 4，已接收 = 4，丢失 = 0 (0% 丢失)，</span><br><span class="line">往返行程的估计时间(以毫秒为单位):</span><br><span class="line">    最短 = 0ms，最长 = 0ms，平均 = 0ms</span><br></pre></td></tr></table></figure>

<p>我们发现可以ping通过，接下来我们在linux操作系统里面ping wmnet8的ip地址：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 ~]# ping 192.168.10.1</span><br><span class="line">PING 192.168.10.1 (192.168.10.1) 56(84) bytes of data.</span><br><span class="line">64 bytes from 192.168.10.1: icmp_seq=1 ttl=64 time=0.120 ms</span><br><span class="line">64 bytes from 192.168.10.1: icmp_seq=2 ttl=64 time=0.188 ms</span><br><span class="line">64 bytes from 192.168.10.1: icmp_seq=3 ttl=64 time=0.162 ms</span><br><span class="line">64 bytes from 192.168.10.1: icmp_seq=4 ttl=64 time=0.141 ms</span><br><span class="line">64 bytes from 192.168.10.1: icmp_seq=5 ttl=64 time=0.175 ms</span><br></pre></td></tr></table></figure>

<p>如果ping不同，就是windows防火墙的问题，我们关闭防火墙即可。</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220830233554.5ze21inlc740.webp" alt="20220830233554"></p>
<p>我们在linux操作系统里面也可以直接ping通以太网，说明linux和vmnet8之间是可以互通的。</p>
<p>我们可以在linux里面ping通以太网的地址：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 ~]# ping 192.168.1.2</span><br><span class="line">PING 192.168.1.2 (192.168.1.2) 56(84) bytes of data.</span><br><span class="line">64 bytes from 192.168.1.2: icmp_seq=1 ttl=128 time=0.479 ms</span><br><span class="line">64 bytes from 192.168.1.2: icmp_seq=2 ttl=128 time=0.439 ms</span><br><span class="line">64 bytes from 192.168.1.2: icmp_seq=3 ttl=128 time=0.292 ms</span><br><span class="line">64 bytes from 192.168.1.2: icmp_seq=4 ttl=128 time=0.386 ms</span><br></pre></td></tr></table></figure>

<p>由于以太网可以通过网关连接外部的互联网，所以我们通过linux操作系统可以连接外部的网络了。</p>
<h4 id="1-14-2-linux网络配置的指令"><a href="#1-14-2-linux网络配置的指令" class="headerlink" title="1.14.2 linux网络配置的指令"></a>1.14.2 linux网络配置的指令</h4><ul>
<li>ipaddr  在linux查看ip地址</li>
<li>ifconfig 在linux查看ip地址</li>
<li>ping  是否ping通指定的ip地址</li>
<li>ipconfig 在windows操作系统里面查看网络的ip地址</li>
</ul>
<h4 id="1-14-3-linux网络环境配置（固定ip的方式）"><a href="#1-14-3-linux网络环境配置（固定ip的方式）" class="headerlink" title="1.14.3 linux网络环境配置（固定ip的方式）"></a>1.14.3 linux网络环境配置（固定ip的方式）</h4><p>默认情况下，我们linux操作系统ip获取的方式是自动获取的方式，我们可以查看自己linux操作系统，看看ip的获取方式：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220830235231.4e4ikkhajla0.webp" alt="20220830235231"></p>
<p>这种自动获取ip的方式不需要任何设置就可以实现，但是非常容易造成ip冲突，而且在公司里面，我们一般都会将linux操作系统的ip地址固定下来，所以接下来我们需要手动固定linux操作系统的ip地址。</p>
<ul>
<li>第一步 编辑我们linux的网卡文件</li>
</ul>
<p>这个网卡文件在&#x2F;etc&#x2F;sysconfig&#x2F;network-scripts&#x2F;ifcfg-ens33</p>
<p>打开这个文件，进行编辑</p>
<ul>
<li>编辑网卡文件ifcfg-enss33</li>
</ul>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220831000935.22spm4mun2sg.webp" alt="20220831000935"></p>
<ul>
<li>重启网络服务(systemctl restart network)或者重启系统(reboot)</li>
</ul>
<h4 id="设置主机名和host映射"><a href="#设置主机名和host映射" class="headerlink" title="设置主机名和host映射"></a>设置主机名和host映射</h4><p>为了方便记忆，我们可以给linux系统设置主机名，也可以根据需要修改主机名。</p>
<p>我们可以通过hostname查看主机名的名称。</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220831193601.108nx4o06hzk.webp" alt="20220831193601"></p>
<p>也可以修改&#x2F;etc&#x2F;hostname指定主机名名称。注意，修改完成之后，需要重启linux系统才能生效。</p>
<p>思考：前面我们可以通过ping linux的ip地址能ping通linux。那么我们可不可以通过ping linux的主机名 来ping通linux呢，答案是不可以的。</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220831193824.435a4n1qmr60.webp" alt="20220831193824"></p>
<p>所以我们需要将主机名称和ip地址进行映射，如何映射?我们需要修改windows的hosts文件。找到C:\Windows\System32\drivers\etc下面的hosts文件，进行相关的编辑：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">192.168.10.130 xq100  # ip地址是linux的ip地址</span><br></pre></td></tr></table></figure>

<p>我们如何在linux里面通过本机的主机名来ping通主机呢？我们需要编辑&#x2F;etc&#x2F;hosts文件：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">192.168.10.1  DESKTOP-EKI0P48   # ip是vmnet8的ip地址  后面的是windows的主机名称</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 ~]# vim /etc/hosts</span><br><span class="line">[root@xq100 ~]# ping DESKTOP-EKI0P48</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220831195002.32pg19zrala0.webp" alt="20220831195002"></p>
<p>注意：如果ping不通，需要关闭windows的防火墙。</p>
<p>思考：为什么通过主机名(域名)就能找到对应的ip地址呢，接下来我们就分析一下主机名(域名)解析机制：</p>
<p>应用实例：用户在浏览器输入<a target="_blank" rel="noopener" href="http://www.baidu.com/">www.baidu.com</a> 如何找到百度服务器地址的?</p>
<p>1、浏览器先检查浏览器缓存中有没有该域名解析ip地址，有就先调用这个ip完成域名解析。如果没有就检查DNS解析器缓存，如果有就直接返回ip完成解析。这两个缓存可以理解为本地解析器缓存。</p>
<p>2、如果本地解析器缓存没有找到对应的映射，再去检查系统中的hosts文件中有没有配置对应的域名ip映射，如果有，就完成域名解析。</p>
<p>3、如果本地DNS缓存和hosts文件中均没有找到对应的ip，则到DNS域名服务器完成域名解析。</p>
<p>4、如果公网的DNS域名解析器也没有完成域名解析，就返回资源找不到的信息。</p>
<h3 id="linux进程管理"><a href="#linux进程管理" class="headerlink" title="linux进程管理"></a>linux进程管理</h3><h4 id="进程的基本介绍"><a href="#进程的基本介绍" class="headerlink" title="进程的基本介绍"></a>进程的基本介绍</h4><p>在linux中，每个执行的程序都为一个进程，每个进程都分配了一个id号（pid，进程号）。</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220831201513.6dyyuyk9xeo0.webp" alt="20220831201513"></p>
<p>每个进程都可能以两种形式存在，<strong>前台</strong>和<strong>后台</strong>,所谓前台进程就是及用户在目录上可以进行操作的（占用屏幕 比如我们的top指令），后台是无法在屏幕上操作的进程。<br>一般系统的服务进程都是以后台进程的方式存在，而且会常驻在系统中直到关机才结束。</p>
<h4 id="查看系统运行的进程"><a href="#查看系统运行的进程" class="headerlink" title="查看系统运行的进程"></a>查看系统运行的进程</h4><p>ps命令是用来查看系统中哪些正在运行，以及他们的运行的状况，可以不加任何参数。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 ~]# ps</span><br><span class="line">   PID TTY          TIME CMD</span><br><span class="line">  2137 pts/0    00:00:00 bash</span><br><span class="line">  4166 pts/0    00:00:00 ps</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>字段</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>PID</td>
<td>进程识别号</td>
</tr>
<tr>
<td>TTV</td>
<td>终端机号</td>
</tr>
<tr>
<td>TIME</td>
<td>此进程所消耗cpu时间</td>
</tr>
<tr>
<td>CMD</td>
<td>正在执行命令或进程名</td>
</tr>
</tbody></table>
<p>我们也可以加上下面几个参数，来查看进程信息</p>
<p>ps -a:显示终端所用的进程信息</p>
<p>ps-u:以用户的格式显示进程的信息</p>
<p>ps-x:显示后台程序运行的参数</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 ~]# ps -aux | more</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220831202935.169hcx0kmmyk.webp" alt="20220831202935"></p>
<p>我们对上面查询的信息进行详细解释：</p>
<p>USER: 进程所属的用户名称。</p>
<p>PID:进程号。</p>
<p>%CPU:进程占用CPU的百分比。</p>
<p>%MEM:进程占用物理内存的百分比。</p>
<p>VSZ:进程占用虚拟内存的大小(KB)。</p>
<p>RSS:进程占用物理内存的大小(KB)。</p>
<p>STAT:进程状态，S-代表睡眠 R-正在运行 D-短期等待 Z-僵死进程 T-被停止的线程。</p>
<p>START:进程启动的时间。</p>
<p>TIME:进程使用CPU的时间。</p>
<p>COMMAND:进程启动所需要的命令和参数。</p>
<h4 id="进程的应用实例"><a href="#进程的应用实例" class="headerlink" title="进程的应用实例"></a>进程的应用实例</h4><p>需求：以全格式显示当前的所有进程，查看进行的父进程。查看sshd的父进程信息。</p>
<ul>
<li>ps -ef 以全格式查看所有进程信息。</li>
<li>-e 显示所有进程 -f 全格式显示。</li>
<li>查看指定进程信息 ps -ef | grep sshd</li>
</ul>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220831211334.7fstnvefjwk0.webp" alt="20220831211334"></p>
<p>也就是说sshd进程的进程id是1328.其父进程id是1。1928的进程的父进程是进程id为1328的进程。那么id为1的进程是什么样的呢，我们可以使用ps -ef | more的命令查看：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220831211702.8hjt26txymo.webp" alt="20220831211702"></p>
<h4 id="终止进程"><a href="#终止进程" class="headerlink" title="终止进程"></a>终止进程</h4><p>若是某个进程执行一半需要停止时候，或是已经消耗了很大的系统资源时候,可以考虑停止该线程。</p>
<p>基本语法：</p>
<p>kill [选项] 进程号 ：通过进程号杀死&#x2F;终止进程。</p>
<p>killall：会杀死当前进程和其子进程。</p>
<p>常用选项：</p>
<p>-9 表示强迫进程立即停止</p>
<ul>
<li>需求1：强制让登陆用户kobe下线</li>
</ul>
<p>我们首先在xshell终端使用kobe登陆。然后在另外一个终端使用root用户登录，并在root用户下面执行指令：ps -aux | grep sshd。</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220831213459.1kzt4vfomzuo.webp" alt="20220831213459"></p>
<p>此时我们发现kobe用户的进程id是6940.我们在root用户下面使用kill命令来终止这个进程。  </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 ~]# kill 6940</span><br></pre></td></tr></table></figure>

<p>回到Xshell，我们发现kobe这个用户已经被注销了。</p>
<ul>
<li>需求2：终止远程登录服务sshd。不允许远程登录。然后重启sshd服务，允许远程登录。</li>
</ul>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220831214540.3yjnxppy5v80.webp" alt="20220831214540"></p>
<p>我们发现，sshd的进程id是1328.我们kill掉这个进程。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 ~]# kill 1328</span><br></pre></td></tr></table></figure>

<p>我们使用Xshell远程登录，发现不起作用了。此时我们可以使用&#x2F;bin&#x2F;systemctl start sshd.service重启ssd服务，这样就可以再次远程登录了。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 ~]# /bin/systemctl start sshd.service</span><br><span class="line">[root@xq100 ~]# ps -aux | grep sshd</span><br><span class="line">root       7395  0.3  0.2 112920  4316 ?        Ss   21:48   0:00 /usr/sbin/sshd -D</span><br><span class="line">root       7403  0.0  0.0 112712   960 pts/1    R+   21:48   0:00 grep --color=auto sshd</span><br></pre></td></tr></table></figure>

<ul>
<li>需求3：终止多个gedit（记事本打开文件的进程），演示killall。</li>
</ul>
<p>我们在linux图形化界面里面打开多个记事本。然后在Xshell里面使用killall 命令：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 ~]# killall gedit</span><br></pre></td></tr></table></figure>

<p>此时记事本打开的文件就会自动被关闭。</p>
<ul>
<li>需求4：强制杀掉一个终端</li>
</ul>
<p>比如我们在linux图形化界面里面开启两个命令 终端：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220831220429.4oab5avhywi0.webp" alt="20220831220429"></p>
<p>现在我们使用ps命令来查看两个终端的进程信息：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 ~]# ps -aux | grep bash</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220831220602.2sk1mzcf3mo0.webp" alt="20220831220602"></p>
<p>比如我们现在想杀死id为7946的进程，我们使用kill 7946。发现没有任何反应，因为linux认为这个命令终端是正常运行的，不允许我们杀掉。此时我们需要加上-9参数来强制杀掉。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 ~]# kill -9 7946  #可以强制杀掉另一个命令终端</span><br></pre></td></tr></table></figure>

<h4 id="查看进程树"><a href="#查看进程树" class="headerlink" title="查看进程树"></a>查看进程树</h4><p>pstree [选项]，可以更加直观的来查看进程信息。</p>
<p>-p:显示进程的PID。</p>
<p> -u:显示进程的所属用户。</p>
<ul>
<li>案例1：以树状的形式显示进程的pid</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 ~]# pstree  # 显示进程树</span><br><span class="line">[root@xq100 ~]# pstree -p  # 显示进程树（携带进程号）</span><br></pre></td></tr></table></figure>

<ul>
<li>案例2：以树状的形式展示进程的用户信息</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 ~]# pstree -u</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220831221603.3u2ocfeunio0.webp" alt="20220831221603"></p>
<h3 id="linux服务管理"><a href="#linux服务管理" class="headerlink" title="linux服务管理"></a>linux服务管理</h3><p>service(本质)就是进程，但是是运行在后台的，通常都会监听某个端口，等待其他程序的请求，比如说（mysql3306，sshd222，redis6379)，因为我们又称为守护进程，在Linux中是重要的知识点。</p>
<p>下面我们用一幅图来解释什么是守护进程：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220831222618.68dlxu99a500.webp" alt="20220831222618"></p>
<h4 id="service管理指令"><a href="#service管理指令" class="headerlink" title="service管理指令"></a>service管理指令</h4><ul>
<li>service 服务名 [start|stop,reload,status]</li>
<li><strong>在CentOs7.0后，很多服务不再使用Service，而是systemctl</strong></li>
<li>service 指令管理的服务在&#x2F;etc&#x2F;init.d查看</li>
</ul>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220831224959.4dvcwwdmflo0.webp" alt="20220831224959"></p>
<p>我们可以简单使用一下，比如查看network服务的状态：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 init.d]# service network status</span><br><span class="line">Configured devices:</span><br><span class="line">lo ens33</span><br><span class="line">Currently active devices:</span><br><span class="line">lo ens33 virbr0</span><br></pre></td></tr></table></figure>

<p>案例：使用service指令，查看，关闭启动network**[注意在虚拟系统演示时:因为网络连接会关闭]**</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 ~]# service network stop  # 此时Xshell连接linux会连接不上</span><br><span class="line">[root@xq100 ~]# service network start  #重启网络服务  此时Xshell会连接上linux</span><br></pre></td></tr></table></figure>

<ul>
<li>更多的系统服务，我们可以通过setup指令去查看</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 init.d]# setup</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220831230150.4eps86s4zwy0.webp" alt="20220831230150"></p>
<p>选择系统服务，回车，我们可以看到系统服务的详细信息：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220831230258.4hygp9mn2bs0.webp" alt="20220831230258"></p>
<p>注意：</p>
<ol>
<li>[*] 代表这些系统服务会随着开机自启动而启动</li>
<li>如果我们想去掉星号或者加上星号，上下按键切换到对应的服务按空格键即可。</li>
<li>使用Tab键选择OK或Cancel.</li>
</ol>
<h4 id="chkconfig指令"><a href="#chkconfig指令" class="headerlink" title="chkconfig指令"></a>chkconfig指令</h4><p>通过chkconfig可以给服务的各个运行级别设置自启动&#x2F;关闭。</p>
<p>chkconfig指令管理的服务在 &#x2F;etc&#x2F;init.d查看。</p>
<p>注意：在Centos 7.0以后，很多服务使用systemctl管理。</p>
<p><strong>基本用法</strong></p>
<ul>
<li>查看服务 chkconfig –list[|grep “”]</li>
<li>设置服务在指定级别启动&#x2F;关闭  chkconfig –level network on&#x2F;off</li>
</ul>
<p>我们现在罗列出使用chkconfig指令管理的服务信息：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 ~]# chkconfig --list</span><br><span class="line">netconsole     	0:off	1:off	2:off	3:off	4:off	5:off	6:off</span><br><span class="line">network        	0:off	1:off	2:on	3:on	4:on	5:on	6:off</span><br><span class="line">vmware-tools   	0:off	1:off	2:on	3:on	4:on	5:on	6:off</span><br><span class="line">vmware-tools-thinprint	0:off	1:off	2:on	3:on	4:on	5:on	6:off</span><br><span class="line">[root@xq100 ~]# chkconfig --list | grep network  #查看指定服务在运行级别是否开启关闭</span><br><span class="line">network        	0:off	1:off	2:on	3:on	4:on	5:on	6:off</span><br></pre></td></tr></table></figure>

<p><strong>注意： 上面的数字代表linux的运行级别。</strong></p>
<p>案例：对于network服务，进行各种操作，把network在3运行级别，关闭自启动。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 ~]# chkconfig --level 3 network off 关闭</span><br><span class="line">[root@xq100 ~]# chkconfig --level 5 network on 打开</span><br></pre></td></tr></table></figure>

<p><strong>注意：chkconfig重新设置服务自启动或者关闭，需要重启机器reboot生效。</strong></p>
<h4 id="systemctl服务管理指令"><a href="#systemctl服务管理指令" class="headerlink" title="systemctl服务管理指令"></a>systemctl服务管理指令</h4><p>systemctl 指令管理的服务在&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system中查看。</p>
<ul>
<li><p>服务启动&#x2F;停止&#x2F;重启&#x2F;重载&#x2F;查看状态：  systemctl [start | stop | restart | status] 服务名</p>
</li>
<li><p>查看所有服务的自启动状态</p>
</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 system]# systemctl list-unit-files | grep firewall</span><br><span class="line">firewalld.service enabled </span><br><span class="line">[root@xq100 system]# systemctl status firewalld.service  # 查看防火墙状态</span><br><span class="line">[root@xq100 system]# systemctl stop firewalld.service  # 停止防火墙状态</span><br><span class="line">[root@xq100 system]# systemctl restart firewalld.service  # 重启防火墙</span><br></pre></td></tr></table></figure>

<p>服务的状态如下：</p>
<p><code>masked</code> 此服务禁止自启动<br><code>static</code> 该服务无法自启动，只能作为其他文件的依赖<br><code>enabled</code> 已配置为自启动<br><code>disabled</code> 未配置为自启动</p>
<ul>
<li>查看某一服务是否自启动</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 system]# systemctl is-enabled firewalld.service # 知道完整服务名</span><br><span class="line">enabled</span><br></pre></td></tr></table></figure>

<ul>
<li>设置服务自启动 (服务运行级别 3、5)</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 system]# systemctl enable firewalld.service</span><br></pre></td></tr></table></figure>

<ul>
<li>设置服务禁用自启动 (服务运行级别 3、5)</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 system]# systemctl disable firewalld.service</span><br></pre></td></tr></table></figure>

<h4 id="firewall防火墙指令"><a href="#firewall防火墙指令" class="headerlink" title="firewall防火墙指令"></a>firewall防火墙指令</h4><p>防火墙的核心功能：打开或关闭对应端口。关闭端口，则外部的数据请求不能通过对应的端口，与服务器上的程序进行通信<br>在真正的生产环境，为保证安全，需要启动防火墙并配置打开和关闭的端口。</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220831233421.4lzp5231cly0.webp" alt="20220831233421"></p>
<p>基本语法：</p>
<ul>
<li>打开端口&#x2F;允许协议<br>firewall-cmd –permanent –add-port&#x3D;端口号&#x2F;协议</li>
<li>关闭端口&#x2F;禁用协议<br>firewall-cmd –permanent –remove-port&#x3D;端口号&#x2F;协议</li>
<li>查询端口&#x2F;协议是否开启<br>firewall-cmd –query-port&#x3D;端口&#x2F;协议</li>
<li>查询防火墙所有开放的端口&#x2F;协议配置<br>firewall-cmd –list-ports</li>
<li>重载防火墙<br>firewall-cmd –reload</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 system]# firewall-cmd --query-port=3306/tcp  # 查询防火墙是否开启3306端口</span><br><span class="line">no</span><br><span class="line">[root@xq100 system]# firewall-cmd --list-ports  # 查看防火墙开放的端口有哪些</span><br><span class="line"></span><br><span class="line">[root@xq100 system]# firewall-cmd --permanent --add-port=3306/tcp  # 开放防火墙对3306端口的访问权限</span><br><span class="line">success</span><br><span class="line">[root@xq100 system]# firewall-cmd --reload  # 重载防火墙</span><br><span class="line">success</span><br><span class="line">[root@xq100 system]# firewall-cmd --list-ports</span><br><span class="line">3306/tcp</span><br></pre></td></tr></table></figure>

<h3 id="动态监控"><a href="#动态监控" class="headerlink" title="动态监控"></a>动态监控</h3><p>top与ps命令一样，它们都用来显示正在执行的进程。top与ps最大的不同之处，在于top在执行一段时间可以更新正在运行的进程。</p>
<p>基本语法：</p>
<p>top [选项]</p>
<table>
<thead>
<tr>
<th>选项</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>-d秒数</td>
<td>指定top命令每隔几秒刷新，默认3秒</td>
</tr>
<tr>
<td>-i</td>
<td>使用top不显示任何闲置或者僵死的进程</td>
</tr>
<tr>
<td>-p</td>
<td>通过指定监控ID来仅仅监控某个进程的状态</td>
</tr>
</tbody></table>
<h4 id="top指令详解"><a href="#top指令详解" class="headerlink" title="top指令详解"></a>top指令详解</h4><p>我们执行top指令：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 ~]# top</span><br></pre></td></tr></table></figure>

<p>我们发现进程信息会每3秒钟就刷新1次。</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220901213507.19m02re1715s.webp" alt="20220901213507"></p>
<p>下面我们对这些重要的指标信息进行讲解：</p>
<p>top -21:34:06: top命令刷新进程的时间</p>
<p>up:系统运行的时长</p>
<p> user:当前linux系统上面的用户数</p>
<p>load average: 负载值（三个数字相加(0.04+0.07+0.18)除以3 的值&gt;0.7说明负载值很大）</p>
<p>Tasks:总进程数</p>
<p>ruuning: 正在运行的进程数</p>
<p>sleeping:休眠的进程数</p>
<p>stopped:停止的进程数</p>
<p>zombie:僵死的进程数</p>
<p>%(CPU): CPU负载百分比    us:用户占用cpu百分比   sy:系统占用cpu百分比  id:空闲cpu百分比</p>
<p>Mem:描述内存占用情况   total:总共内存   free 空余内存 used：使用了的内存  buff&#x2F;cache：缓存</p>
<p>Swap:描述交换区内存占用情况</p>
<h4 id="top指令的交互操作"><a href="#top指令的交互操作" class="headerlink" title="top指令的交互操作"></a>top指令的交互操作</h4><p>当我们输入top命令之后，我们可以按下面的字符来进行对应的交互操作。</p>
<p>交互操作说明：</p>
<table>
<thead>
<tr>
<th>操作</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>P</td>
<td>以CPU使用率来排序，默认就是此项</td>
</tr>
<tr>
<td>M</td>
<td>以内存使用来排序</td>
</tr>
<tr>
<td>N</td>
<td>以PID排序</td>
</tr>
<tr>
<td>q</td>
<td>退出top</td>
</tr>
</tbody></table>
<p>应用实例：</p>
<p><strong>1.监控特定用户，比如我们监控jack用户(前提是jack登录了)</strong></p>
<p>先输入top指令，然后按小写的u，最后输入jack然后回车，查看执行的进程。</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220901215907.2ywa9gc58ji0.webp" alt="20220901215907"></p>
<p>最后查看效果：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220901220311.21t5z5j22vk0.webp" alt="20220901220311"></p>
<p><strong>2.终止指定的进程，比如我们要结束jack登录</strong></p>
<p>top:输入此命令，然后回车，查看执行的进程</p>
<p> k：然后输入要结束的进程ID号 回车之后输入9 强制删除。</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220901220904.5q32yierplg0.webp" alt="20220901220904"></p>
<p>接下来还要输入信号量：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220901221004.1g6igf1z699c.webp" alt="20220901221004"></p>
<p>此时我们发现jack没强制下线。</p>
<p><strong>3.指定系统状态更新的时间（没隔10秒自动更新），默认是3秒</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 ~]# top -d 10  # 每10秒刷新1次</span><br></pre></td></tr></table></figure>

<h4 id="监控网络状态"><a href="#监控网络状态" class="headerlink" title="监控网络状态"></a>监控网络状态</h4><p>基本语法： netstat [选项]</p>
<p>选项说明 -an 按照一定的属性排列输出 -p 显示哪个进程在调用</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 ~]# netstat -anp | more</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220901224120.3780cbabq7u0.webp" alt="20220901224120"></p>
<p>Local Address:本机linux的ip地址</p>
<p>Foreign Address:外部的网络地址</p>
<p>tcp:网络协议</p>
<p>127.0.0.1 &#x2F; 0.0.0.0: 当前linux机器的本地地址</p>
<p>631&#x2F;25&#x2F;6060….:应用程序监听的端口号</p>
<p>State: LISTEN 监听状态   ESTABLISHED：建立连接的状态</p>
<p>PID:应用程序的进程号   Program name: 应用程序的名称</p>
<p>如何理解Foreign Address呢?</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220901224736.6vibi3wwl840.webp" alt="20220901224736"></p>
<p>我们可以通过一幅图来理解：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220901225735.75ut49zuxn40.webp" alt="20220901225735"></p>
<p>应用案例:</p>
<p>查看服务名称为sshd的服务信息。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 ~]# netstat -anp | grep sshd</span><br></pre></td></tr></table></figure>

<h3 id="rpm与yum"><a href="#rpm与yum" class="headerlink" title="rpm与yum"></a>rpm与yum</h3><h4 id="rpm"><a href="#rpm" class="headerlink" title="rpm"></a>rpm</h4><p>rpm是互联网下载包和打包和安装工具，他包含在某些linux分版中，他具有生产.rpm扩展名的文件，RPM是redhat package manage（软件包管理工具的缩写），<strong>类似于setup.exe</strong>。</p>
<p>我们看看rpm相关的指令：</p>
<ul>
<li>查询所有安装的rpm列表</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 ~]# rpm -qa</span><br><span class="line">[root@xq100 ~]# rpm -qa | more # 分页展示所有的rpm列表</span><br></pre></td></tr></table></figure>

<ul>
<li>查询当前系统中是否安装了指定的软件</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 ~]# rpm -qa | grep firefox # 查询linux系统中是否已经安装了火狐浏览器</span><br><span class="line">firefox-60.8.0-1.el7.centos.x86_64</span><br></pre></td></tr></table></figure>

<p>一个rpm包的名称命名规则：</p>
<p>firefox：rpm包名</p>
<p>60.8.0-1.el7：rpm包的版本号</p>
<p>centos：rpm包适用于的操作系统</p>
<p>x86_64：适用于64位的操作系统。(如果是i686或者i386说明适用于32位操作系统，noarch表示通用。)</p>
<ul>
<li>查看软件包是否安装</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 opt]# rpm -q firefox  # 查看火狐浏览器是否存在rpm包(安装)</span><br><span class="line">firefox-60.8.0-1.el7.centos.x86_64</span><br></pre></td></tr></table></figure>

<ul>
<li>查询软件安装的详细信息</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 opt]# rpm -qi firefox   # 查询火狐浏览器的详细安装信息</span><br><span class="line">Name        : firefox</span><br><span class="line">Version     : 60.8.0</span><br><span class="line">Release     : 1.el7.centos</span><br><span class="line">Architecture: x86_64</span><br><span class="line">Install Date: Thu 18 Aug 2022 02:50:39 PM CST</span><br><span class="line">Group       : Unspecified</span><br><span class="line">Size        : 218777805</span><br><span class="line">License     : MPLv1.1 or GPLv2+ or LGPLv2+</span><br><span class="line">Signature   : RSA/SHA256, Fri 12 Jul 2019 11:01:23 PM CST, Key ID 24c6a8a7f4a80eb5</span><br><span class="line">Source RPM  : firefox-60.8.0-1.el7.centos.src.rpm</span><br><span class="line">Build Date  : Fri 12 Jul 2019 02:04:42 AM CST</span><br><span class="line">Build Host  : x86-01.bsys.centos.org</span><br><span class="line">Relocations : (not relocatable)</span><br><span class="line">Packager    : CentOS BuildSystem &lt;http://bugs.centos.org&gt;</span><br><span class="line">Vendor      : CentOS</span><br><span class="line">URL         : https://www.mozilla.org/firefox/</span><br><span class="line">Summary     : Mozilla Firefox Web browser</span><br><span class="line">Description :</span><br><span class="line">Mozilla Firefox is an open-source web browser, designed for standards</span><br><span class="line">compliance, performance and portability.</span><br></pre></td></tr></table></figure>

<ul>
<li>查看rpm包安装之后的文件</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 opt]# rpm -ql mariadb-libs-5.5.64-1.el7.x86_64</span><br></pre></td></tr></table></figure>

<ul>
<li>查看指定的文件所属的rpm包</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 opt]# rpm -qf /etc/my.cnf  # 查询/etc目录下面的my.cnf文件所属的rpm包</span><br><span class="line">mariadb-libs-5.5.64-1.el7.x86_64</span><br></pre></td></tr></table></figure>

<p>如果某一个rpm包我们不想要了，我们也可以卸载。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 opt]# rpm -e firefox  #删除firefox</span><br></pre></td></tr></table></figure>

<p>注意：如果其它的软件包依赖于要删除的软件包，卸载时则会产生错误。此时如果我们想强制删除，可以添加另外的参数–nodeps。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 opt]# rpm -e --nodeps firefox  #删除firefox</span><br></pre></td></tr></table></figure>

<ul>
<li>安装rpm包</li>
</ul>
<p><strong>基本语法：</strong> rpm -ivh RPM包全路径名称</p>
<p><strong>几个参数：</strong></p>
<p>i&#x3D;install 安装</p>
<p>v&#x3D;verbose 提示</p>
<p>h&#x3D;hash 进度条</p>
<p><strong>案例：使用rpm命令安装firefox</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 ~]# rpm -e firefox  # 删除firefox</span><br><span class="line">[root@xq100 ~]# rpm -q firefox  # 查询firefox是否删除成功</span><br><span class="line">package firefox is not installed</span><br></pre></td></tr></table></figure>

<p>接下来我们需要去下载rpm包，其实linux操作系统内置了firefox的安装包，我们打开光驱：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220903162247.atxm9u73og4.webp" alt="20220903162247"></p>
<p>然后找到Packages目录：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220903162413.35zi4vyao4g0.webp" alt="20220903162413"></p>
<p>然后打开Packages目录,找到firefox的rpm包：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220903162533.27i61thllz40.webp" alt="20220903162533"></p>
<p>将其拷贝至&#x2F;opt目录下面：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220903162717.6p40fu94hs00.webp" alt="20220903162717"></p>
<p>最后我们安装rpm包：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 ~]# rpm -ivh /opt/firefox-60.8.0-1.el7.centos.x86_64.rpm </span><br></pre></td></tr></table></figure>

<p>最后我们发现firefox又安装成功了。</p>
<h4 id="yum"><a href="#yum" class="headerlink" title="yum"></a>yum</h4><p>Yum是一个Shell前端软件包管理器，基于RPM包管理，能够从指定的服务器自动下载RPM包并安装，并且可以自动处理依赖性关系，并且一次安装所有的依赖软件包。下面我们用一副图来理解yum命令：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220903160627.57e2wlvwexw0.webp" alt="20220903160627"></p>
<p><strong>基本指令</strong></p>
<p>查询yum服务器上是否有需要安装的软件：</p>
<p>yum install | grep  xxx软件列表</p>
<p>下载并安转指定的yum包：</p>
<p>yum install xxx 的rpm包名</p>
<p><strong>案例：使用yum命令安装firefox</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 opt]# rpm -e firefox  #删除firefox  此时我们发现linux服务器里面的火狐浏览器不存在了</span><br><span class="line">[root@xq100 opt]# rpm list | grep firefox # 查看服务器上是否存在指定的rpm包</span><br><span class="line">firefox.x86_64                            60.8.0-1.el7.centos          @anaconda</span><br><span class="line">firefox.i686                              91.12.0-2.el7.centos         updates  </span><br><span class="line">firefox.x86_64                            91.12.0-2.el7.centos         updates </span><br><span class="line">[root@xq100 opt]# yum install firefox.x86_64  # 下载并安装firefox，我们再查看linux服务器里面的火狐浏览器，发现又有了</span><br></pre></td></tr></table></figure>

<h3 id="常用软件的安装"><a href="#常用软件的安装" class="headerlink" title="常用软件的安装"></a>常用软件的安装</h3><h4 id="安装JDK8"><a href="#安装JDK8" class="headerlink" title="安装JDK8"></a>安装JDK8</h4><ul>
<li><strong>第一步：在&#x2F;opt目录下面创建jdk文件夹</strong></li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 ~]# mkdir /opt/jdk</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>第二步：使用ftp上传工具上传jdk的安装压缩包，上传成功之后如下：</strong></li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 ~]# cd /opt/jdk</span><br><span class="line">[root@xq100 jdk]# ll</span><br><span class="line">total 185312</span><br><span class="line">-rw-r--r--. 1 root root 189756259 Sep  3 16:38 jdk-8u161-linux-x64.tar.gz  # 这就是上传之后的jdk的压缩文件</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>第三步：解压压缩文件</strong></li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 jdk]# tar -zxvf jdk-8u161-linux-x64.tar.gz</span><br></pre></td></tr></table></figure>

<p>解压之后效果如下：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220903164154.6i582ts8em40.webp" alt="20220903164154"></p>
<p>jdk的下载地址是：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">链接：https://pan.baidu.com/s/1u3misQGlL9JHqpXnqdLtzw </span><br><span class="line">提取码：42gk </span><br></pre></td></tr></table></figure>

<ul>
<li><strong>第四步：在&#x2F;usr&#x2F;local目录下面创建java文件夹</strong></li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 java]# mv /opt/jdk/jdk1.8.0_161/ /usr/local/java  # 拷贝解压的文件至java文件夹</span><br><span class="line">[root@xq100 java]# ll</span><br><span class="line">total 0</span><br><span class="line">drwxr-xr-x. 8 10 143 255 Dec 20  2017 jdk1.8.0_161</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>第五步：配置环境变量</strong></li>
</ul>
<p>编辑配置文件&#x2F;etc&#x2F;profile</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 java]# vim /etc/profile</span><br></pre></td></tr></table></figure>

<p>在文件的最后追加：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export JAVA_HOME=/usr/local/java/jdk1.8.0_161</span><br><span class="line">export PATH=$JAVA_HOME/bin:$PATH</span><br></pre></td></tr></table></figure>

<p>保存并退出，然后让编辑之后的profile文件生效：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 java]# source /etc/profile  # 让编辑之后的profile文件生效</span><br><span class="line">[root@xq100 java]# java -version  # 查看jdk的版本号</span><br><span class="line">java version &quot;1.8.0_161&quot;</span><br><span class="line">Java(TM) SE Runtime Environment (build 1.8.0_161-b12)</span><br><span class="line">Java HotSpot(TM) 64-Bit Server VM (build 25.161-b12, mixed mode)</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>第六步： 编写一个java文件测试是否正常运行</strong></li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 kobe]# javac Hello.java # 编译java文件</span><br><span class="line">[root@xq100 kobe]# java Hello  # 执行class字节码文件</span><br><span class="line">Hello World</span><br></pre></td></tr></table></figure>

<h4 id="安装mysql5-7"><a href="#安装mysql5-7" class="headerlink" title="安装mysql5.7"></a>安装mysql5.7</h4><h5 id="mysql的安装"><a href="#mysql的安装" class="headerlink" title="mysql的安装"></a>mysql的安装</h5><p><strong>第一步： 切换到opt目录，下载mysql的rpm包</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@java2201 opt]# cd /opt</span><br><span class="line">[root@java2201 opt]# wget https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm</span><br></pre></td></tr></table></figure>

<p>注意： 如果wget命令不可用，我们需要安装wget命令</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@java2201 opt]# yum -y install wget</span><br></pre></td></tr></table></figure>

<p>下载成功之后，我们会发现：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220901144546.158y9ujlzo8w.webp" alt="20220901144546"></p>
<p><strong>第二步：安装mysql的yum源</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@java2201 opt]# yum -y localinstall mysql57-community-release-el7-11.noarch.rpm </span><br></pre></td></tr></table></figure>

<p><strong>第三步：在线安装mysql</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@java2201 opt]# rpm --import https://repo.mysql.com/RPM-GPG-KEY-mysql-2022</span><br><span class="line">[root@java2201 opt]# yum -y install mysql-community-server  # 在线安装mysql</span><br></pre></td></tr></table></figure>

<p>整个安装过程需要一点时间，请耐心等待。</p>
<p><strong>第四步：启动mysql服务</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@java2201 opt]# systemctl start mysqld</span><br></pre></td></tr></table></figure>

<p>我们可以查看mysql服务启动之后的状态：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220901145012.33nplbx8cvs0.webp" alt="20220901145012"></p>
<p><strong>第五步：设置mysql服务开机自启动</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@java2201 opt]# systemctl enable mysqld</span><br><span class="line">[root@java2201 opt]# systemctl daemon-reload</span><br></pre></td></tr></table></figure>

<p><strong>第六步，修改root登录密码</strong></p>
<p>mysql安装完成之后，会在&#x2F;var&#x2F;log&#x2F;mysqld.log文件中给root生成了一个临时的默认密码。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@java2201 opt]# vi /var/log/mysqld.log </span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220901145333.5ahjie3eob80.webp" alt="20220901145333"></p>
<p>复制此密码，使用此密码登录root。（mysql -u root -p）</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220901145528.3hfkq0jfotq0.webp" alt="20220901145528"></p>
<p>粘贴密码之后，回车进入到mysql服务器：</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220901145704.6yhg52wvbag0.webp" alt="20220901145704"></p>
<p>修改密码， mysql5.7默认密码策略要求密码必须是大小写字母数字特殊字母的组合，至少8位</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">mysql&gt;</span><span class="language-bash">ALTER USER <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> IDENTIFIED BY <span class="string">&#x27;Admin123!&#x27;</span>;  <span class="comment">#密码自定义</span></span></span><br></pre></td></tr></table></figure>

<p><strong>第七步：运行远程登录</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">mysql&gt;</span><span class="language-bash">GRANT ALL PRIVILEGES ON *.* TO <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;%&#x27;</span> IDENTIFIED BY <span class="string">&#x27;Admin123!&#x27;</span> WITH GRANT OPTION;</span></span><br><span class="line"><span class="meta prompt_">mysql&gt;</span><span class="language-bash"><span class="built_in">exit</span>  <span class="comment"># 退出mysql</span></span></span><br></pre></td></tr></table></figure>

<p><strong>第八步：防火墙开放3306端口</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@java2201 opt]# firewall-cmd --permanent --add-port=3306/tcp  # 开放防火墙对3306端口的权限</span><br><span class="line">[root@java2201 opt]# firewall-cmd --reload  # 重载防火墙服务</span><br><span class="line">[root@java2201 opt]# firewall-cmd --list-ports  # 查看防火墙开发的端口有哪些</span><br><span class="line">3306/tcp</span><br></pre></td></tr></table></figure>

<p><strong>第九步：配置mysql默认编码为utf-8</strong></p>
<p>修改&#x2F;etc&#x2F;my.cnf配置文件，在[mysqld]下添加编码配置:</p>
<p>character_set_server&#x3D;utf8</p>
<p>init_connect&#x3D;’SET NAMES utf8’</p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220901150314.7e1evg8rfcg0.webp" alt="20220901150314"></p>
<p>:wq保存退出</p>
<p><strong>第十步：重启MySQL</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@java2201 opt]# systemctl restart mysqld</span><br></pre></td></tr></table></figure>

<p><strong>第十一步：登录root用户查看编码</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">mysql&gt; </span><span class="language-bash">show variables like <span class="string">&#x27;%character%&#x27;</span>;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220901150554.2ampnazzr6o0.webp" alt="20220901150554"></p>
<p><strong>第十二步，测试远程连接</strong></p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/01LinuxStudy/20220901150825.3gjo8l360eg0.webp" alt="20220901150825">0</p>
<p>到这里，在linux操作系统里面安装mysql就成功了。</p>
<h5 id="如何修改root密码"><a href="#如何修改root密码" class="headerlink" title="如何修改root密码"></a>如何修改root密码</h5><p>如果我们不小心忘记了root账户的密码，那么如何重置root账户的密码呢？</p>
<p><strong>第一步：修改mysql的配置文件&#x2F;etc&#x2F;my.cnf。设置免密登录。然后重启mysql服务。</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[mysqld]</span><br><span class="line">skip-grant-tables=1   # 设置免密登录</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@java2201 ~]# systemctl restart mysqld</span><br></pre></td></tr></table></figure>

<p><strong>第二步：无需使用密码，登录数据库。</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@java2201 ~]# mysql -u root  # 不带密码就可以实现数据库的登录</span><br><span class="line">Welcome to the MySQL monitor.  Commands end with ; or \g.</span><br><span class="line">Your MySQL connection id is 3</span><br><span class="line">Server version: 5.7.39 MySQL Community Server (GPL)</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2022, Oracle and/or its affiliates.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type &#x27;help;&#x27; or &#x27;\h&#x27; for help. Type &#x27;\c&#x27; to clear the current input statement.</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>第三步：重置密码。</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">mysql&gt; </span><span class="language-bash">use mysql;  <span class="comment"># 切换到mysql数据库</span></span></span><br><span class="line">Reading table information for completion of table and column names</span><br><span class="line">You can turn off this feature to get a quicker startup with -A</span><br><span class="line"></span><br><span class="line">Database changed</span><br><span class="line"><span class="meta prompt_">mysql&gt; </span><span class="language-bash">update user <span class="built_in">set</span> authentication_string=password(<span class="string">&#x27;Admin2022!&#x27;</span>) <span class="built_in">where</span> user=<span class="string">&#x27;root&#x27;</span>;</span></span><br><span class="line">Query OK, 2 rows affected, 1 warning (0.01 sec)</span><br><span class="line">Rows matched: 2  Changed: 2  Warnings: 1</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>第四步：退出并修改my.cnf,将免密登录的配置注释掉。</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[mysqld]</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">skip-grant-tables=1   <span class="comment"># 把这行配置注释掉</span></span> </span><br></pre></td></tr></table></figure>

<p><strong>第五步：重启mysql服务，然后重新登录即可。</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@java2201 ~]# systemctl restart mysqld</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root@java2201 ~]# mysql -u root -pAdmin2022!  # 使用新的密码登录</span><br><span class="line">mysql: [Warning] Using a password on the command line interface can be insecure.</span><br><span class="line">Welcome to the MySQL monitor.  Commands end with ; or \g.</span><br><span class="line">Your MySQL connection id is 4</span><br><span class="line">Server version: 5.7.39 MySQL Community Server (GPL)</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2022, Oracle and/or its affiliates.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type &#x27;help;&#x27; or &#x27;\h&#x27; for help. Type &#x27;\c&#x27; to clear the current input statement.</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">mysql&gt; </span></span><br></pre></td></tr></table></figure>

<h4 id="安装tomcat"><a href="#安装tomcat" class="headerlink" title="安装tomcat"></a>安装tomcat</h4><ul>
<li><strong>第一步：上传文件到&#x2F;opt&#x2F;tomcat</strong></li>
</ul>
<p>下载地址是:</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">链接：https://pan.baidu.com/s/1SpgByHyyZfkA3Ia836A4aw </span><br><span class="line">提取码：a251 </span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 opt]# mkdir /opt/tomcat</span><br><span class="line">[root@xq100 opt]# cd tomcat/</span><br><span class="line">[root@xq100 tomcat]# ll</span><br><span class="line">total 10188</span><br><span class="line">-rw-r--r--. 1 root root 10432020 Sep  3 17:02 apache-tomcat-8.5.59.tar.gz</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>第二步：进入解压目录bin，使用.&#x2F;startup.sh启动tomcat</strong></li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 tomcat]# tar -zxvf apache-tomcat-8.5.59.tar.gz</span><br><span class="line">[root@xq100 tomcat]# ll</span><br><span class="line">total 10188</span><br><span class="line">drwxr-xr-x. 9 root root      220 Sep  3 17:03 apache-tomcat-8.5.59  # 解压之后的目录</span><br><span class="line">-rw-r--r--. 1 root root 10432020 Sep  3 17:02 apache-tomcat-8.5.59.tar.gz</span><br><span class="line">[root@xq100 tomcat]# cd apache-tomcat-8.5.59/bin  # 切换到tomcat解压目录中的bin目录</span><br><span class="line">[root@xq100 bin]# ll</span><br><span class="line">total 868</span><br><span class="line">[root@xq100 bin]# ./startup.sh # 启动tomcat</span><br><span class="line">Using CATALINA_BASE:   /opt/tomcat/apache-tomcat-8.5.59</span><br><span class="line">Using CATALINA_HOME:   /opt/tomcat/apache-tomcat-8.5.59</span><br><span class="line">Using CATALINA_TMPDIR: /opt/tomcat/apache-tomcat-8.5.59/temp</span><br><span class="line">Using JRE_HOME:        /usr/local/java/jdk1.8.0_161</span><br><span class="line">Using CLASSPATH:       /opt/tomcat/apache-tomcat-8.5.59/bin/bootstrap.jar:/opt/tomcat/apache-tomcat-8.5.59/bin/tomcat-juli.jar</span><br><span class="line">Using CATALINA_OPTS:   </span><br><span class="line">Tomcat started.</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>第三步：开放防火墙对8080端口的权限</strong></li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 tomcat]# firewall-cmd --permanent --add-port=8080/tcp  # 开放8080端口</span><br><span class="line">success</span><br><span class="line">[root@xq100 tomcat]# firewall-cmd --reload  # 重新载入防火墙服务</span><br><span class="line">success</span><br><span class="line">[root@xq100 tomcat]# firewall-cmd --list-ports # 查看8080端口是否被开放</span><br><span class="line">3306/tcp 8080/tcp</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>第四步：测试tomcat是否安装成功</strong></li>
</ul>
<p>发送请求： <a target="_blank" rel="noopener" href="http://192.168.10.130:8080/">http://192.168.10.130:8080</a> 是否能够访问tomcat的首页。</p>
<h2 id="linux进阶篇"><a href="#linux进阶篇" class="headerlink" title="linux进阶篇"></a>linux进阶篇</h2><h3 id="shell编程"><a href="#shell编程" class="headerlink" title="shell编程"></a>shell编程</h3><h4 id="第一个shell程序"><a href="#第一个shell程序" class="headerlink" title="第一个shell程序"></a>第一个shell程序</h4><p><strong>什么是shell:</strong></p>
<p>Shell 是一个命令行解释器，它为用户提供了一个向 Linux 内核发送请求以便运行程序的界面系统级程序，用户可以用 Shell 来启动、挂起、停止甚至是编写一些程序。下面我们用一幅图来解释什么是shell。</p>
<img src="E:/CtrlX/Desktop/笔记/01大学/正课课件/Linux课程笔记/笔记/linux课程/images/20220905204848.png" style="zoom:80%">

<p><strong>为什么要学习shell:</strong></p>
<ul>
<li>Linux 运维工程师在进行服务器集群管理时，需要编写 Shell 程序来进行服务器管理。</li>
<li>对于 JavaEE 和 Python 程序员来说，工作的需要，会要求你编写一些 Shell 脚本进行程序或者是服务器的维护，比如编写一个定时备份数据库的脚本。</li>
<li>对于大数据程序员来说，需要编写 Shell 程序来管理集群。</li>
</ul>
<p><strong>shell脚本的编写执行方式：</strong></p>
<ul>
<li>脚本格式要求<ul>
<li>脚本以#!&#x2F;bin&#x2F;bash 开头</li>
<li>脚本需要有可执行权限</li>
</ul>
</li>
<li>脚本的常用执行方式<ul>
<li>给要执行的脚本文件，添加可执行权限</li>
<li>直接用 sh 脚本文件名 命令执行，不用赋予脚本可执行权限</li>
</ul>
</li>
</ul>
<p>下面我们就编写并执行第一个shell脚本：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 ~]# pwd</span><br><span class="line">/root</span><br><span class="line">[root@xq100 ~]# mkdir shellCode  # 在root目录下面创建一个文件夹shellCode</span><br><span class="line">[root@xq100 ~]# cd shellCode/</span><br><span class="line">[root@xq100 shellCode]# ll</span><br><span class="line">total 0</span><br><span class="line">[root@xq100 shellCode]# vim hello.sh  #创建一个脚本文件</span><br></pre></td></tr></table></figure>

<img src="E:/CtrlX/Desktop/笔记/01大学/正课课件/Linux课程笔记/笔记/linux课程/images/20220905210315.png" style="zoom:80%">

<p>保存并退出。</p>
<p>此时我们发现脚本是没有执行权限的。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 shellCode]# ll</span><br><span class="line">total 4</span><br><span class="line">-rw-r--r--. 1 root root 31 Sep  5 20:51 hello.sh  # 当前脚本没有可执行的权限。</span><br><span class="line">[root@xq100 shellCode]# ./hello.sh  # 执行脚本</span><br><span class="line">-bash: ./hello.sh: Permission denied   # 权限不足</span><br></pre></td></tr></table></figure>

<p>测试解决方案有两种，一种是修改脚本的可执行权限，第二种就是使用sh + 脚本文件名的方式执行脚本。</p>
<p>第一种：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 shellCode]# chmod u+x hello.sh # 给当前hello.sh赋予可执行权限</span><br><span class="line">[root@xq100 shellCode]# ll</span><br><span class="line">total 4</span><br><span class="line">-rwxr--r--. 1 root root 31 Sep  5 20:51 hello.sh  # 当前脚本具备可执行权限</span><br><span class="line">[root@xq100 shellCode]# ./hello.sh  # 可以使用相对路径的方式执行shell脚本</span><br><span class="line">Hello world</span><br><span class="line">[root@xq100 shellCode]# /root/shellCode/hello.sh # 也可以使用绝对路径的方式执行shell脚本</span><br><span class="line">Hello world</span><br></pre></td></tr></table></figure>

<p>第二种：</p>
<p>我们先恢复脚本不可执行的权限。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 shellCode]# chmod u-x hello.sh # 让hello.sh脚本不具备可执行的权限</span><br><span class="line">[root@xq100 shellCode]# ll</span><br><span class="line">total 4</span><br><span class="line">-rw-r--r--. 1 root root 31 Sep  5 20:51 hello.sh</span><br><span class="line">[root@xq100 shellCode]# sh hello.sh # 执行脚本</span><br><span class="line">Hello world</span><br></pre></td></tr></table></figure>

<h4 id="shell的变量"><a href="#shell的变量" class="headerlink" title="shell的变量"></a>shell的变量</h4><p>Linux 中 Shell 的变量分为系统变量和用户自定义变量。系统变量：$HOME、$PWD、$SHELL、$USER 等等，比如：echo $HOME 等等。我们可以使用set命令显示当前 Shell 中所有变量。</p>
<p>查询指定的系统变量：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 shellCode]# echo $HOME</span><br><span class="line">/root</span><br><span class="line">[root@xq100 shellCode]# echo $PWD</span><br><span class="line">/root/shellCode</span><br><span class="line">[root@xq100 shellCode]# echo $SHELL</span><br><span class="line">/bin/bash</span><br><span class="line">[root@xq100 shellCode]# echo $USER</span><br><span class="line">root</span><br></pre></td></tr></table></figure>

<p>查询所有的系统变量：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 shellCode]# set | more  # 分页查看所有的变量信息</span><br></pre></td></tr></table></figure>

<h5 id="定义用户变量"><a href="#定义用户变量" class="headerlink" title="定义用户变量"></a>定义用户变量</h5><p>我们在开发中，绝大多数使用的是用户自定义的变量。那么自定义变量该如何定义呢?</p>
<ul>
<li>定义变量：变量&#x3D;值 <strong>（注意等号两侧没有空格）</strong></li>
<li>撤销变量：unset 变量</li>
<li>声明静态变量：readonly 变量。注意：该变量不能 unset</li>
</ul>
<p>变量的快速入门：</p>
<p><strong>案例1：定义变量A</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 shellCode]# vim vr.sh</span><br></pre></td></tr></table></figure>

<img src="E:/CtrlX/Desktop/笔记/01大学/正课课件/Linux课程笔记/笔记/linux课程/images/20220905212247.png" style="zoom:80%">

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 shellCode]# chmod u+x vr.sh  # 设置脚本权限</span><br><span class="line">[root@xq100 shellCode]# ./vr.sh   # 执行脚本</span><br><span class="line">100</span><br></pre></td></tr></table></figure>

<p>还可以这么输出：</p>
<img src="E:/CtrlX/Desktop/笔记/01大学/正课课件/Linux课程笔记/笔记/linux课程/images/20220905212940.png" style="zoom:80%">

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 shellCode]# ./vr.sh </span><br><span class="line">A=100</span><br><span class="line">A=100</span><br></pre></td></tr></table></figure>

<p><strong>案例2：撤销变量A</strong></p>
<img src="E:/CtrlX/Desktop/笔记/01大学/正课课件/Linux课程笔记/笔记/linux课程/images/20220905213158.png" style="zoom:80%">

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 shellCode]# ./vr.sh </span><br><span class="line">A=100</span><br><span class="line">A=100</span><br><span class="line">A=    # 变量A被销毁了，所以值不存在了</span><br></pre></td></tr></table></figure>

<p><strong>案例3：声明静态的变量B&#x3D;2,不能unset</strong></p>
<img src="E:/CtrlX/Desktop/笔记/01大学/正课课件/Linux课程笔记/笔记/linux课程/images/20220905213553.png" style="zoom:80%">

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 shellCode]# ./vr.sh </span><br><span class="line">A=100</span><br><span class="line">A=100</span><br><span class="line">A=</span><br><span class="line">B=2  # 输出了静态变量</span><br></pre></td></tr></table></figure>

<p>现在我们unset静态变量B。我们在执行脚本的时候就会报错。</p>
<img src="E:/CtrlX/Desktop/笔记/01大学/正课课件/Linux课程笔记/笔记/linux课程/images/20220905213744.png" style="zoom:80%">

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 shellCode]# ./vr.sh </span><br><span class="line">A=100</span><br><span class="line">A=100</span><br><span class="line">A=</span><br><span class="line">B=2</span><br><span class="line">./vr.sh: line 18: unset: B: cannot unset: readonly variable   # 执行脚本的时候报错</span><br></pre></td></tr></table></figure>

<p>在上面的shell脚本里面，我们的变量都是大写，那么在shell编程里面，变量定义的规则是什么呢?</p>
<ul>
<li>变量名称可以由字母、数字和下划线组成，但是不能以数字开头。</li>
<li><strong>等号两侧不能有空格。</strong></li>
<li>变量名称一般习惯为大写，这是一个规范，大家遵守即可。</li>
</ul>
<p><strong>案例4：将指令返回的结果赋给变量</strong></p>
<img src="E:/CtrlX/Desktop/笔记/01大学/正课课件/Linux课程笔记/笔记/linux课程/images/20220905214504.png" style="zoom:80%">

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 shellCode]# ./vr.sh </span><br><span class="line">A=100</span><br><span class="line">A=100</span><br><span class="line">A=</span><br><span class="line">B=2</span><br><span class="line">C=Mon Sep 5 21:44:57 CST 2022</span><br><span class="line">D=Mon Sep 5 21:44:57 CST 2022</span><br></pre></td></tr></table></figure>

<h5 id="设置环境变量"><a href="#设置环境变量" class="headerlink" title="设置环境变量"></a>设置环境变量</h5><ul>
<li>基本语法<ul>
<li>export 变量名&#x3D;变量值：将 Shell 变量输出为环境变量&#x2F;全局变量。我们通过一幅图来解释什么是环境变量&#x2F;全局变量。</li>
</ul>
</li>
</ul>
<img src="E:/CtrlX/Desktop/笔记/01大学/正课课件/Linux课程笔记/笔记/linux课程/images/20220905215510.png" style="zoom:60%">

<ul>
<li>source 配置文件：让修改后的配置文件立即生效</li>
<li>echo $变量名：查询环境变量的值</li>
</ul>
<p>案例： 定义JAVA_HOME的环境变量，并在var.sh脚本里面使用这个环境变量</p>
<img src="E:/CtrlX/Desktop/笔记/01大学/正课课件/Linux课程笔记/笔记/linux课程/images/20220905220401.png" style="zoom:80%">

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 java]# source /etc/profile  # 让编辑之后的profile文件生效</span><br><span class="line">[root@xq100 shellCode]# echo $JAVA_HOME  # 输出环境变量</span><br><span class="line">/usr/local/java/jdk1.8.0_161</span><br></pre></td></tr></table></figure>

<p>我们在vr.sh脚本里面测试一下：</p>
<img src="E:/CtrlX/Desktop/笔记/01大学/正课课件/Linux课程笔记/笔记/linux课程/images/20220905220748.png" style="zoom:80%">

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 shellCode]# ./vr.sh </span><br><span class="line">java_home=/usr/local/java/jdk1.8.0_161</span><br></pre></td></tr></table></figure>

<p>注意：在shell脚本里面，单行注释是#开头的。多行注释是什么样的?</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">:&lt;&lt;!</span><br><span class="line">需要注释的第一行内容</span><br><span class="line">需要注释的第二行内容</span><br><span class="line">!</span><br></pre></td></tr></table></figure>

<p>现在我们演示一下：</p>
<p>打开vr.sh</p>
<img src="E:/CtrlX/Desktop/笔记/01大学/正课课件/Linux课程笔记/笔记/linux课程/images/20220905221359.png" style="zoom:80%">

<h5 id="设置位置参数变量"><a href="#设置位置参数变量" class="headerlink" title="设置位置参数变量"></a>设置位置参数变量</h5><p>当我们执行一个 Shell 脚本时，如果希望获取到命令行的参数信息，就可以使用到位置参数变量，比如 .&#x2F;myshell.sh 100 200 , 这个就是一个执行 shell 的命令行，可以在 myshell 脚本中获取到参数信息。</p>
<ul>
<li>基本语法<ul>
<li>$n：n 为数字，$0 代表命令本身，$1-$9 代表第一到第九个参数，十以上的参数需要用大括号，如${10}</li>
<li>$* ：代表命令行中所有的参数，$*把所有的参数看成一个整体</li>
<li>$@：代表命令行中所有的参数，不过该命令是把每个参数区分对待</li>
<li>$#：代表命令行中所有参数的个数</li>
</ul>
</li>
<li>快速入门</li>
</ul>
<p>需求：编写一个shell脚本position.sh,在脚本中获取各个命令行的参数信息。</p>
<img src="E:/CtrlX/Desktop/笔记/01大学/正课课件/Linux课程笔记/笔记/linux课程/images/20220905222551.png" style="zoom:80%">

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 shellCode]# vim position.sh</span><br><span class="line">[root@xq100 shellCode]# chmod u+x position.sh </span><br><span class="line">[root@xq100 shellCode]# ./position.sh 100 200</span><br><span class="line">0=./position.sh 1=100 2=200</span><br><span class="line">命令行所有传入的参数=100 200</span><br><span class="line">100 200</span><br><span class="line">参数的个数=2</span><br></pre></td></tr></table></figure>

<h5 id="预定义变量"><a href="#预定义变量" class="headerlink" title="预定义变量"></a>预定义变量</h5><p>Shell 设计者事先已经定义好的变量，可以直接在 Shell 脚本中使用。</p>
<ul>
<li>基本语法<ul>
<li>$$：当前进程的进程号。</li>
<li>$!：后台运行的最后一个进程的进程号。</li>
<li>$?：最后一次执行的命令的返回状态。如果这个变量的值为 0，证明上一个命令正确执行；如果这个变量的值为非 0（具体是哪个数，由命令自己来决定），则证明上一个命令执行不正确。</li>
</ul>
</li>
<li>快速入门</li>
</ul>
<p>需求：在一个shell脚本里面简单使用预定义变量。</p>
<img src="E:/CtrlX/Desktop/笔记/01大学/正课课件/Linux课程笔记/笔记/linux课程/images/20220905223510.png" style="zoom:80%">

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 shellCode]# vim preVar.sh</span><br><span class="line">[root@xq100 shellCode]# chmod u+x preVar.sh </span><br><span class="line">[root@xq100 shellCode]# ./preVar.sh </span><br><span class="line">当前进程号=5682</span><br><span class="line">最后的的进程号=5683</span><br><span class="line">执行的值=0</span><br><span class="line">[root@xq100 shellCode]# A=</span><br><span class="line">B=2</span><br><span class="line">C=Mon Sep 5 22:34:41 CST 2022</span><br><span class="line">D=Mon Sep 5 22:34:41 CST 2022</span><br><span class="line">java_home=/usr/local/java/jdk1.8.0_161</span><br></pre></td></tr></table></figure>

<h4 id="shell中的运算符"><a href="#shell中的运算符" class="headerlink" title="shell中的运算符"></a>shell中的运算符</h4><p>运算符的功能：在脚本中实现各种运算操作</p>
<p>基本语法：</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">第一种写法：$((表达式))</span><br><span class="line">第二种写法：$[表达式]</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 shellCode]# vim oper.sh</span><br><span class="line">[root@xq100 shellCode]# chmod u+x oper.sh </span><br></pre></td></tr></table></figure>

<p><strong>案例1：计算表达式的值</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 shellCode]# ./oper.sh </span><br><span class="line">TOTAL=18</span><br></pre></td></tr></table></figure>

<img src="E:/CtrlX/Desktop/笔记/01大学/正课课件/Linux课程笔记/笔记/linux课程/images/20220906193152.png" style="zoom:80%">

<p>还有第二种写法(推荐)：</p>
<img src="E:/CtrlX/Desktop/笔记/01大学/正课课件/Linux课程笔记/笔记/linux课程/images/20220906193626.png" style="zoom:80%">

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 shellCode]# ./oper.sh </span><br><span class="line">TOTAL=18</span><br><span class="line">SUM=18</span><br></pre></td></tr></table></figure>

<p>还有第三种写法：</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">`expr m 运算符 n`</span><br><span class="line">expr与运算式之间要有空格</span><br><span class="line">m n必须是一个数字，并且数字和运算符之间必须要有空格。</span><br><span class="line">expr 做计算，只能实现两个操作数的计算</span><br></pre></td></tr></table></figure>



<img src="E:/CtrlX/Desktop/笔记/01大学/正课课件/Linux课程笔记/笔记/linux课程/images/20220906194626.png" style="zoom:80%">

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 shellCode]# vim oper.sh</span><br><span class="line">[root@xq100 shellCode]# ./oper.sh </span><br><span class="line">TOTAL=18</span><br><span class="line">SUM=18</span><br><span class="line">TEMP=2</span><br></pre></td></tr></table></figure>

<p>注意：在linux中加减乘除的运算符： +  加     - 减     <code>\*</code>乘      &#x2F; 除     % 取余数</p>
<p>这里我们重点演示乘以的使用：</p>
<img src="E:/CtrlX/Desktop/笔记/01大学/正课课件/Linux课程笔记/笔记/linux课程/images/20220906195442.png" style="zoom:80%">

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 shellCode]# ./oper.sh </span><br><span class="line">TOTAL=18</span><br><span class="line">SUM=18</span><br><span class="line">TEMP=2</span><br><span class="line">TEMP2=25</span><br></pre></td></tr></table></figure>

<p><strong>案例2：请求出命令行的两个参数的和  20  50</strong></p>
<img src="E:/CtrlX/Desktop/笔记/01大学/正课课件/Linux课程笔记/笔记/linux课程/images/20220906200014.png" style="zoom:80%">

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 shellCode]# ./oper.sh 20 50</span><br><span class="line">TOTAL=18</span><br><span class="line">SUM=18</span><br><span class="line">TEMP=2</span><br><span class="line">TEMP2=25</span><br><span class="line">NUM=70</span><br></pre></td></tr></table></figure>

<h4 id="shell中的条件判断"><a href="#shell中的条件判断" class="headerlink" title="shell中的条件判断"></a>shell中的条件判断</h4><h5 id="if判断"><a href="#if判断" class="headerlink" title="if判断"></a>if判断</h5><p>基本语法：[ condition ]    注意：condition前后要有空格。</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if [ condition ] then</span><br><span class="line">   满足if语句执行的代码</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>

<p>常用的判断条件：</p>
<p>(1) 字符串比较 &#x3D;</p>
<p>(2)两个整数比较   -lt(小于)   -gt(大于)  -le(小于等于)  -ge(大于等于)   -nt(不等于)</p>
<p>(3)按照文件权限进行判断</p>
<p>​     -r 有读的权限</p>
<p>​	 -w 有写的权限</p>
<p>​	 -x 有可执行的权限</p>
<p>(4)按照文件的类型进行判断</p>
<p>​	 -f  文件存在，并且是一个常规文件</p>
<p>​	 -e 文件存在</p>
<p>​	 -d 文件存在并且文件是一个目录</p>
<p><strong>应用案例：</strong></p>
<p>案例1：“hello”是否等于“hello”</p>
<p>案例2：23是否大于等于22</p>
<p>案例3：&#x2F;root&#x2F;shellCode&#x2F;a.txt是否存在</p>
<img src="E:/CtrlX/Desktop/笔记/01大学/正课课件/Linux课程笔记/笔记/linux课程/images/20220906202459.png" style="zoom:80%">

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 shellCode]# vim ifDemo.sh</span><br><span class="line">[root@xq100 shellCode]# chmod u+x ifDemo.sh </span><br><span class="line">[root@xq100 shellCode]# ./ifDemo.sh </span><br><span class="line">两个字符串的值相等</span><br><span class="line">[root@xq100 shellCode]# vim ifDemo.sh</span><br><span class="line">[root@xq100 shellCode]# ./ifDemo.sh </span><br><span class="line">两个字符串的值相等</span><br><span class="line">23大于22</span><br><span class="line">[root@xq100 shellCode]# vim ifDemo.sh</span><br><span class="line">[root@xq100 shellCode]# ./ifDemo.sh </span><br><span class="line">两个字符串的值相等</span><br><span class="line">23大于22</span><br><span class="line">[root@xq100 shellCode]# touch a.txt</span><br><span class="line">[root@xq100 shellCode]# ./ifDemo.sh </span><br><span class="line">两个字符串的值相等</span><br><span class="line">23大于22</span><br><span class="line">文件存在</span><br></pre></td></tr></table></figure>

<p>注意几个特殊写法：</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">if [ abc ]  表示条件为true</span><br><span class="line">if [ ] 表示条件为false</span><br></pre></td></tr></table></figure>

<img src="E:/CtrlX/Desktop/笔记/01大学/正课课件/Linux课程笔记/笔记/linux课程/images/20220906203141.png" style="zoom:80%">

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 shellCode]# ./ifDemo.sh </span><br><span class="line">条件为真</span><br></pre></td></tr></table></figure>

<h5 id="if-else判断"><a href="#if-else判断" class="headerlink" title="if - else判断"></a>if - else判断</h5><p>基本语法：</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">if [ 条件判断式 ]</span><br><span class="line">then</span><br><span class="line">代码</span><br><span class="line">elif [ 条件判断式 ]</span><br><span class="line">then</span><br><span class="line">代码</span><br><span class="line">......</span><br><span class="line">else</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>

<p><strong>应用案例：</strong></p>
<p>输入分数(数字)，判断是否及格。</p>
<img src="E:/CtrlX/Desktop/笔记/01大学/正课课件/Linux课程笔记/笔记/linux课程/images/20220906205942.png" style="zoom:80%">

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 shellCode]# vim ifCase.sh</span><br><span class="line">[root@xq100 shellCode]# chmod u+x ifCase.sh </span><br><span class="line">[root@xq100 shellCode]# ./ifCase.sh 89</span><br><span class="line">及格了</span><br></pre></td></tr></table></figure>

<p>也可以写多重if elseif 语句：</p>
<img src="E:/CtrlX/Desktop/笔记/01大学/正课课件/Linux课程笔记/笔记/linux课程/images/20220906211347.png" style="zoom:80%">

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 shellCode]# ./ifCase.sh 88</span><br><span class="line">优秀</span><br><span class="line">[root@xq100 shellCode]# ./ifCase.sh 77</span><br><span class="line">良好</span><br><span class="line">[root@xq100 shellCode]# ./ifCase.sh 66</span><br><span class="line">及格</span><br><span class="line">[root@xq100 shellCode]# ./ifCase.sh 55</span><br><span class="line">不及格</span><br></pre></td></tr></table></figure>

<h5 id="case语句"><a href="#case语句" class="headerlink" title="case语句"></a>case语句</h5><p>基本语法：</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">case $变量名 in</span><br><span class="line">    &quot;值1&quot;)</span><br><span class="line">    如果变量名等于值1，执行的代码;;</span><br><span class="line">    &quot;值2&quot;)</span><br><span class="line">    如果变量名等于值2，执行的代码;;</span><br><span class="line">    ... ...</span><br><span class="line">    *)</span><br><span class="line">    如果都不满足以上的条件，则执行此代码;;</span><br><span class="line"> esac</span><br></pre></td></tr></table></figure>

<p><strong>基本案例：</strong></p>
<img src="E:/CtrlX/Desktop/笔记/01大学/正课课件/Linux课程笔记/笔记/linux课程/images/20220906210906.png" style="zoom:80%">

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 shellCode]# vim caseDemo.sh</span><br><span class="line">[root@xq100 shellCode]# chmod u+x caseDemo.sh </span><br><span class="line">[root@xq100 shellCode]# ./caseDemo.sh 2</span><br><span class="line">Tuesday</span><br></pre></td></tr></table></figure>

<h4 id="shell中的循环"><a href="#shell中的循环" class="headerlink" title="shell中的循环"></a>shell中的循环</h4><h5 id="for循环"><a href="#for循环" class="headerlink" title="for循环"></a>for循环</h5><p>基本语法1：</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">for 变量 in 值1 值2 值3…</span><br><span class="line">do</span><br><span class="line">	满足循环条件需要执行的代码</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<p>案例：循环打印命令行输入的参数</p>
<img src="E:/CtrlX/Desktop/笔记/01大学/正课课件/Linux课程笔记/笔记/linux课程/images/20220906212946.png" style="zoom:80%">

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 shellCode]# vim testFor1.sh</span><br><span class="line">[root@xq100 shellCode]# chmod u+x testFor1.sh </span><br><span class="line">[root@xq100 shellCode]# ./testFor1.sh 100 200 300</span><br><span class="line">number is 100</span><br><span class="line">number is 200</span><br><span class="line">number is 300</span><br></pre></td></tr></table></figure>

<p>基本语法2：</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">for((初始值;循环控制条件;变量变化))</span><br><span class="line">do</span><br><span class="line">	满足循环条件需要执行的代码</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<p>案例：输出1-100的数字</p>
<img src="E:/CtrlX/Desktop/笔记/01大学/正课课件/Linux课程笔记/笔记/linux课程/images/20220906213456.png" style="zoom:80%">

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 shellCode]# vim testFor2.sh</span><br><span class="line">[root@xq100 shellCode]# chmod u+x testFor2.sh </span><br><span class="line">[root@xq100 shellCode]# ./testFor2.sh </span><br><span class="line">值是:1</span><br><span class="line">   *** ***</span><br><span class="line">值是:100</span><br></pre></td></tr></table></figure>

<p>案例：求1-100之间的和</p>
<img src="E:/CtrlX/Desktop/笔记/01大学/正课课件/Linux课程笔记/笔记/linux课程/images/20220906214358.png" style="zoom:80%">

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 shellCode]# ./testFor2.sh </span><br><span class="line">总和是：5050</span><br></pre></td></tr></table></figure>

<h5 id="2-1-5-2-while循环"><a href="#2-1-5-2-while循环" class="headerlink" title="2.1.5.2 while循环"></a>2.1.5.2 while循环</h5><p>基本语法：</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">while [ 条件判断式 ]</span><br><span class="line">do</span><br><span class="line">	代码</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<img src="E:/CtrlX/Desktop/笔记/01大学/正课课件/Linux课程笔记/笔记/linux课程/images/20220906214834.png" style="zoom:80%">

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 shellCode]# vim whileDemo.sh</span><br><span class="line">[root@xq100 shellCode]# chmod u+x whileDemo.sh </span><br><span class="line">[root@xq100 shellCode]# ./whileDemo.sh 100</span><br><span class="line">SUM=5050</span><br></pre></td></tr></table></figure>

<h4 id="read读取控制台输入"><a href="#read读取控制台输入" class="headerlink" title="read读取控制台输入"></a>read读取控制台输入</h4><p>基本语法：<code>read 选项 参数</code></p>
<table>
<thead>
<tr>
<th align="left">选项</th>
<th align="left">功能</th>
</tr>
</thead>
<tbody><tr>
<td align="left">-p</td>
<td align="left">指定读取值时的提示符</td>
</tr>
<tr>
<td align="left">-t</td>
<td align="left">指定读取值时等待的时间（秒），如果没有在指定的时间内输入，就不再等待了(放弃输入)</td>
</tr>
</tbody></table>
<img src="E:/CtrlX/Desktop/笔记/01大学/正课课件/Linux课程笔记/笔记/linux课程/images/20220906215424.png" style="zoom:80%">

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 shellCode]# vim testRead.sh</span><br><span class="line">[root@xq100 shellCode]# chmod u+x testRead.sh</span><br><span class="line">[root@xq100 shellCode]# ./testRead.sh </span><br><span class="line">请输入一个参数:12</span><br><span class="line">NUM1=12</span><br></pre></td></tr></table></figure>

<img src="E:/CtrlX/Desktop/笔记/01大学/正课课件/Linux课程笔记/笔记/linux课程/images/20220906215552.png" style="zoom:80%">

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 shellCode]# ./testRead.sh   # 如果用户10s内不输入，则放弃等待。</span><br><span class="line">请输入一个参数:NUM2=</span><br></pre></td></tr></table></figure>

<h4 id="shell函数"><a href="#shell函数" class="headerlink" title="shell函数"></a>shell函数</h4><h5 id="系统函数"><a href="#系统函数" class="headerlink" title="系统函数"></a>系统函数</h5><p>shell编程和其他编程一样，有系统函数，也可以自定义函数。系统函数我们主要介绍两个。</p>
<ul>
<li>basename 获取文件名</li>
</ul>
<p>去掉文件完整路径的多级路径 (和后缀名），返回文件名 。</p>
<p>基本语法：basename 文件的完整路径 [文件后缀]</p>
<p>应用实例：请返回&#x2F;home&#x2F;shellCode&#x2F;a.txt的文件名(a.txt)</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 shellCode]# basename /home/shellCode/a.txt</span><br><span class="line">a.txt</span><br></pre></td></tr></table></figure>

<ul>
<li>dirname 返回完整路径最前面部分</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 shellCode]# dirname /home/shellCode/a.txt</span><br><span class="line">/home/shellCode</span><br></pre></td></tr></table></figure>

<h5 id="自定义函数"><a href="#自定义函数" class="headerlink" title="自定义函数"></a>自定义函数</h5><p>需求：计算两个输入参数的和</p>
<img src="E:/CtrlX/Desktop/笔记/01大学/正课课件/Linux课程笔记/笔记/linux课程/images/20220906220930.png" style="zoom:80%">

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 shellCode]# vim testFun.sh</span><br><span class="line">[root@xq100 shellCode]# chmod u+x testFun.sh</span><br><span class="line">[root@xq100 shellCode]# ./testFun.sh </span><br><span class="line">input a number:10</span><br><span class="line">input a number again:20</span><br><span class="line">30</span><br></pre></td></tr></table></figure>

<h4 id="shell编程综合案例"><a href="#shell编程综合案例" class="headerlink" title="shell编程综合案例"></a>shell编程综合案例</h4><p>需求：</p>
<ul>
<li><p>每天凌晨2:30备份数据库day01到&#x2F;data&#x2F;backup&#x2F;db;</p>
</li>
<li><p>备份开始和备份结束的时候，要给出相应的提示信息；</p>
</li>
<li><p>备份后的文件要以备份时间为文件名，并打包成tar.gz的格式，比如：2021-09-15_230201.tar.gz;</p>
</li>
<li><p>在备份的同时，要检查是否有10天前备份的数据库文件，如果有就将其删除。</p>
</li>
</ul>
<p>思路分析：</p>
<img src="E:/CtrlX/Desktop/笔记/01大学/正课课件/Linux课程笔记/笔记/linux课程/images/20220907225718.png">

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 ~]# cd /usr/sbin  # 为什么要放在sbin目录，因为这个目录是root用户具备执行的权限。</span><br><span class="line">[root@xq100 sbin]# pwd</span><br><span class="line">/usr/sbin</span><br><span class="line">[root@xq100 sbin]# vim mysql_db_backup.sh</span><br></pre></td></tr></table></figure>

<p>在shell脚本里面输入以下内容：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">定义备份目录</span></span><br><span class="line">BACKUP=/data/backup/db</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">获取当前的时间</span></span><br><span class="line">DATETIME=$(date +%Y-%m-%d_%H%M%S)</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">验证日期是否定义正确</span></span><br><span class="line">echo $DATETIME</span><br></pre></td></tr></table></figure>

<p>我们输出一下时间，看看脚本编写是否有误：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 sbin]# chmod u+x mysql_db_backup.sh </span><br><span class="line">[root@xq100 sbin]# ./mysql_db_backup.sh </span><br><span class="line">2022-09-07_230715</span><br></pre></td></tr></table></figure>

<p>接下来我们继续编写脚本：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">数据库主机地址</span></span><br><span class="line">HOST=localhost</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">数据库用户名</span></span><br><span class="line">DB_USER=root</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">数据库密码</span></span><br><span class="line">DB_PW=Admin2022!</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">备份的数据库</span></span><br><span class="line">DATABASE=day01</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建备份目录,如果目录不存在，则创建</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">只有[]里面的表达式为<span class="literal">true</span> 才会执行 &amp;&amp; 右边的内容</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="variable">$&#123;&#125;</span> 用来取文件名或文件路径</span></span><br><span class="line">[ ! -d &quot;$&#123;BACKUP&#125;/$&#123;DATETIME&#125;&quot; ] &amp;&amp; mkdir -p &quot;$&#123;BACKUP&#125;/$&#123;DATETIME&#125;&quot;</span><br></pre></td></tr></table></figure>

<p>此时我们可以继续测试脚本是否正确，看看有没有为我们创建备份目录</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 sbin]# ./mysql_db_backup.sh </span><br></pre></td></tr></table></figure>

<p>我们在根目录去查看备份目录是否存在：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 2022-09-07_232210]# pwd</span><br><span class="line">/data/backup/db/2022-09-07_232210   # 我们发现备份目录以及自动创建完成</span><br></pre></td></tr></table></figure>

<p>我们继续编写shell脚本：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">备份数据库</span></span><br><span class="line">mysqldump -u$&#123;DB_USER&#125; -p$&#123;DB_PW&#125; --host=$&#123;HOST&#125; -q -R --databases $&#123;DATABASE&#125; | gzip &gt; $&#123;BACKUP&#125;/$&#123;DATETIME&#125;/$DATETIME.sql.gz</span><br></pre></td></tr></table></figure>

<p>现在我们执行脚本，来测试一下：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 sbin]# rm -rf /data  # 先把之前创建的data目录删除掉</span><br><span class="line">[root@xq100 sbin]# ./mysql_db_backup.sh </span><br><span class="line">2022-09-07_234027</span><br><span class="line">mysqldump: [Warning] Using a password on the command line interface can be insecure.</span><br><span class="line">[root@java2201 sbin]# cd /</span><br><span class="line">[root@xq100 /]# cd /data/backup/db/2022-09-07_234027/</span><br><span class="line">[root@xq100 2022-09-07_234027]# ll</span><br><span class="line">总用量 4</span><br><span class="line">-rw-r--r--. 1 root root 1272 9月   7 23:40 2022-09-07_234027.sql.gz  # 这就是我们打的压缩文件</span><br><span class="line">[root@xq100 2022-09-07_234027]# gunzip 2022-09-07_234027.sql.gz # 解压文件</span><br><span class="line">[root@xq100 2022-09-07_234027]# ll</span><br><span class="line">总用量 4</span><br><span class="line">-rw-r--r--. 1 root root 3549 9月   7 23:40 2022-09-07_234027.sql</span><br><span class="line">[root@xq100 2022-09-07_234027]# cat 2022-09-07_234027.sql  # 浏览文件 发现没问题</span><br></pre></td></tr></table></figure>

<p>我们继续编写shell脚本：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">将文件打包成tar.gz</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">切换到备份目录</span></span><br><span class="line">cd $&#123;BACKUP&#125;</span><br><span class="line">tar -zcvf $DATETIME.tar.gz $&#123;DATETIME&#125;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">删除对应的备份目录</span></span><br><span class="line">rm -rf $&#123;BACKUP&#125;/$&#123;DATETIME&#125;</span><br></pre></td></tr></table></figure>

<p>我们现在测试一下脚本，看看是否写正确：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 sbin]# rm -rf /data/  # 把原来的data目录删除</span><br><span class="line">[root@xq100 sbin]# ./mysql_db_backup.sh </span><br><span class="line">2022-09-07_235239</span><br><span class="line">mysqldump: [Warning] Using a password on the command line interface can be insecure.</span><br><span class="line">2022-09-07_235239/</span><br><span class="line">2022-09-07_235239/2022-09-07_235239.sql.gz</span><br><span class="line">[root@xq100 sbin]# cd /data/backup/db/</span><br><span class="line">[root@xq100 db]# ll</span><br><span class="line">总用量 4</span><br><span class="line">-rw-r--r--. 1 root root 1520 9月   7 23:52 2022-09-07_235239.tar.gz  # 我们发现没有问题</span><br></pre></td></tr></table></figure>

<p>我们继续编写shell脚本：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">删除10天前的备份文件</span></span><br><span class="line">find $&#123;BACKUP&#125; -atime +10 -name &quot;*.tar.gz&quot; -exec rm -rf &#123;&#125; \;</span><br><span class="line">echo &quot;数据库$&#123;DATABASE&#125;成功....&quot;</span><br></pre></td></tr></table></figure>

<p>接下来我们使用crontab -e指令编写定时任务：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 sbin]# crontab -e</span><br></pre></td></tr></table></figure>

<p>编写定时任务</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">30 2 * * * /usr/bin/mysql_db_backup.sh</span><br></pre></td></tr></table></figure>

<p>这样我们编写备份数据库的脚本就完成了。</p>
<p>最后脚本代码如下：</p>
<img src="E:/CtrlX/Desktop/笔记/01大学/正课课件/Linux课程笔记/笔记/linux课程/images/20220909152126.png">

<img src="E:/CtrlX/Desktop/笔记/01大学/正课课件/Linux课程笔记/笔记/linux课程/images/20220909152222.png">

<h3 id="linux日志管理"><a href="#linux日志管理" class="headerlink" title="linux日志管理"></a>linux日志管理</h3><h4 id="linux日志的基本介绍"><a href="#linux日志的基本介绍" class="headerlink" title="linux日志的基本介绍"></a>linux日志的基本介绍</h4><p>日志的基本介绍：</p>
<p>日志文件是重要的系统信息文件，其中记录了很多重要的系统事件，包括用户的登录信息、系统的启动信息、系统的安全信息、邮件相关信息、各种服务相关信息等。</p>
<p>日志对于安全来说也很重要，它记录了系统每天发生的各种事情，通过日志来检查错误发生的原因，或者受到攻击时攻击者留下的痕迹。</p>
<p>一句话理解日志：日志是用来记录重大事件的工具。</p>
<p>那么linux系统中的日志信息保存在哪里呢?绝大多数的日志文件保存在&#x2F;var&#x2F;log目录中。</p>
<img src="E:/CtrlX/Desktop/笔记/01大学/正课课件/Linux课程笔记/笔记/linux课程/images/20220909155359.png" style="zoom:80%">

<p>下面我们看看系统中的常用日志：</p>
<img src="E:/CtrlX/Desktop/笔记/01大学/正课课件/Linux课程笔记/笔记/linux课程/images/20220909155723.png">

<p>下面我们就来看看重要的日志文件：</p>
<p>我们使用lastlog来查看&#x2F;var&#x2F;log&#x2F;lastlog。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100  log]# lastlog</span><br><span class="line">用户名           端口     来自             最后登陆时间</span><br><span class="line">root             pts/0    desktop-eki0p48  五 9月  9 15:52:56 +0800 2022</span><br><span class="line">bin                                        **从未登录过**</span><br><span class="line">daemon                                     **从未登录过**</span><br><span class="line">adm                                        **从未登录过**</span><br><span class="line">lp                                         **从未登录过**</span><br><span class="line">... ...</span><br><span class="line">pulse                                      **从未登录过**</span><br><span class="line">gdm              :0                        五 9月  9 15:33:38 +0800 2022</span><br><span class="line">saned                                      **从未登录过**</span><br><span class="line">sshd                                       **从未登录过**</span><br><span class="line">wen              pts/1    192.168.10.1     二 8月 30 10:00:34 +0800 2022</span><br><span class="line">tom                                        **从未登录过**</span><br><span class="line">kobe                                       **从未登录过**</span><br><span class="line">zhangsan         pts/1                     三 8月 31 10:50:11 +0800 2022</span><br><span class="line">chengkun                                   **从未登录过**</span><br><span class="line">fox              pts/2                     三 8月 31 11:03:26 +0800 2022</span><br><span class="line">jack             pts/1    desktop-eki0p48  一 9月  5 17:06:10 +0800 2022</span><br><span class="line">jerry                                      **从未登录过**</span><br><span class="line">xh               pts/2                     三 8月 31 11:44:50 +0800 2022</span><br><span class="line">xm               pts/3                     三 8月 31 11:45:24 +0800 2022</span><br><span class="line">mysql                                      **从未登录过**</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="variable">@xq100</span>  log]# who</span><br><span class="line">root     pts<span class="operator">/</span><span class="number">0</span>        <span class="number">2022</span><span class="number">-09</span><span class="number">-09</span> <span class="number">15</span>:<span class="number">52</span> (desktop<span class="operator">-</span>eki0p48)</span><br></pre></td></tr></table></figure>

<p><strong>应用案例：使用root用户通过xshell7登录，第一次使用错误的密码，第二次使用正确的密码登录成功，查看日志文件&#x2F;var&#x2F;log&#x2F;secure里面有没有记录相关信息。</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 log]# cat secure</span><br><span class="line">[root@xq100 log]# echo &#x27;&#x27; &gt; secure   # 情况secure文件中的内容</span><br><span class="line">[root@xq100 log]# cat secure  # 发现没有任何文件</span><br><span class="line">      </span><br><span class="line">[root@xq100 log]#</span><br></pre></td></tr></table></figure>

<p>接下来我们连续两次输入错误密码，然后第三次输入正确的密码。</p>
<img src="E:/CtrlX/Desktop/笔记/01大学/正课课件/Linux课程笔记/笔记/linux课程/images/20220909161004.png">

<h4 id="linux日志管理服务"><a href="#linux日志管理服务" class="headerlink" title="linux日志管理服务"></a>linux日志管理服务</h4><p>centos7日志服务是rsyslogd,centos6日志服务是syslogd。rsyslogd日志服务功能更加强大。rsyslogd的使用、日志文件的格式和syslogd是兼容的。</p>
<p>现在，我们思考一个问题，就是在linux系统中是谁帮助我们将日志信息记录在不同的日志文件里面去的?我们通过一幅图就能理解linux进行日志管理的原理。</p>
<img src="E:/CtrlX/Desktop/笔记/01大学/正课课件/Linux课程笔记/笔记/linux课程/images/20220909162432.png">

<p><strong>所以linux日志服务帮助我们进行日志管理，是借助了&#x2F;etc&#x2F;rsyslog.conf配置文件来实现的。</strong></p>
<p>我们可以去查看这个日志文件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 log]# more /etc/rsyslog.conf</span><br></pre></td></tr></table></figure>

<ul>
<li>查询linux的rsyslogd服务是否启动     ps aux | grep “rsyslog” | grep -v “grep”</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="variable">@xq100</span> log]#  ps aux <span class="operator">|</span> grep &quot;rsyslog&quot; <span class="comment">-- 查看rsyslogd服务是否启动</span></span><br><span class="line">root       <span class="number">1336</span>  <span class="number">0.0</span>  <span class="number">0.3</span> <span class="number">222760</span>  <span class="number">5816</span> ?        Ssl  <span class="number">15</span>:<span class="number">29</span>   <span class="number">0</span>:<span class="number">00</span> <span class="operator">/</span>usr<span class="operator">/</span>sbin<span class="operator">/</span>rsyslogd <span class="operator">-</span>n</span><br><span class="line">root       <span class="number">4002</span>  <span class="number">0.0</span>  <span class="number">0.0</span> <span class="number">112716</span>   <span class="number">960</span> pts<span class="operator">/</span><span class="number">0</span>    R<span class="operator">+</span>   <span class="number">16</span>:<span class="number">28</span>   <span class="number">0</span>:<span class="number">00</span> grep <span class="comment">--color=auto rsyslog</span></span><br><span class="line">[root<span class="variable">@xq100</span> log]#  ps aux <span class="operator">|</span> grep &quot;rsyslog&quot; <span class="operator">|</span> grep <span class="operator">-</span>v &quot;grep&quot; <span class="comment">-- 反向过滤，将包含grep的指令去掉</span></span><br><span class="line">root       <span class="number">1336</span>  <span class="number">0.0</span>  <span class="number">0.3</span> <span class="number">222760</span>  <span class="number">5808</span> ?        Ssl  <span class="number">15</span>:<span class="number">29</span>   <span class="number">0</span>:<span class="number">00</span> <span class="operator">/</span>usr<span class="operator">/</span>sbin<span class="operator">/</span>rsyslogd <span class="operator">-</span>n</span><br></pre></td></tr></table></figure>

<ul>
<li>查询rsyslogd服务的启动状态     systemctl  list-unit-files | grep rsyslog</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 log]# systemctl  list-unit-files | grep rsyslog</span><br><span class="line">rsyslog.service </span><br></pre></td></tr></table></figure>

<h4 id="日志服务管理的配置文件"><a href="#日志服务管理的配置文件" class="headerlink" title="日志服务管理的配置文件"></a>日志服务管理的配置文件</h4><p>管理日志的配置文件&#x2F;etc&#x2F;rsyslog.conf。那么我们应该怎么去理解这个配置文件里面的内容？</p>
<p>日志文件的格式是<code>*.*</code>     存放的日志文件</p>
<p>我们可以查看这个日志的大致内容：</p>
<img src="E:/CtrlX/Desktop/笔记/01大学/正课课件/Linux课程笔记/笔记/linux课程/images/20220909164625.png" style="zoom:80%">

<p>那么这两个<code>*</code>是什么意思呢？</p>
<p>第一个<code>*</code>: 代表日志类型</p>
<p>日志类型可以分为：</p>
<table>
<thead>
<tr>
<th>日志类型</th>
<th>日志描述</th>
</tr>
</thead>
<tbody><tr>
<td>auth</td>
<td>pam产生的日志</td>
</tr>
<tr>
<td>authpriv</td>
<td>ssh ftp等登陆信息的验证信息</td>
</tr>
<tr>
<td>corn</td>
<td>时间任务相关的信息</td>
</tr>
<tr>
<td>kern</td>
<td>内核相关</td>
</tr>
<tr>
<td>lpr</td>
<td>打印相关的信息</td>
</tr>
<tr>
<td>mail</td>
<td>邮件相关的信息</td>
</tr>
<tr>
<td>mark(syslog)-rsyslog</td>
<td>服务内部信息</td>
</tr>
<tr>
<td>news</td>
<td>新闻组</td>
</tr>
<tr>
<td>user</td>
<td>用户程序产生的相关信息</td>
</tr>
<tr>
<td>local 1-7</td>
<td>自定义日志设备</td>
</tr>
</tbody></table>
<p>第二个<code>*</code>:代表日志级别</p>
<table>
<thead>
<tr>
<th>日志级别</th>
<th>日志级别的描述信息</th>
</tr>
</thead>
<tbody><tr>
<td>debug</td>
<td>有调试信息的，记录的日志信息最多</td>
</tr>
<tr>
<td>info</td>
<td>一般日志信息，最常用</td>
</tr>
<tr>
<td>notice</td>
<td>提醒信息，需要检查一下程序了，不理会可能会出现错误。</td>
</tr>
<tr>
<td>warning</td>
<td>警告信息,当出现警告时，你的程序可能已经出现了问题,但不影响程序正常运行,尽快进行处理，以免导致服务宕掉。</td>
</tr>
<tr>
<td>err</td>
<td>错误信息，出现这一项时，已经挑明服务出现了问题,服务都无法确认是否能正常运行。</td>
</tr>
<tr>
<td>crit</td>
<td>严重级别，阻止整个系统或程序不能正常工作的信息</td>
</tr>
<tr>
<td>alert</td>
<td>需要立即修改的信息</td>
</tr>
<tr>
<td>emerg</td>
<td>记录内核崩溃等信息</td>
</tr>
<tr>
<td>none</td>
<td>什么都不记录</td>
</tr>
</tbody></table>
<p>注意：从上到下，日志级别从低到高，记录的信息也越来越少。</p>
<p>由日志服务rsyslogd记录的日志文件，日志文件的格式包含以下4列：</p>
<ol>
<li><p>事件产生的时间</p>
</li>
<li><p>产生事件的服务器(主机名)</p>
</li>
<li><p>产生事件的服务名和程序名</p>
</li>
<li><p>事件的具体信息</p>
</li>
</ol>
<p>日志查看实例：查看一下&#x2F;var&#x2F;log&#x2F;secure日志，这个日志记录的是用户验证和授权方面的信息，来分析如何查看：</p>
<img src="E:/CtrlX/Desktop/笔记/01大学/正课课件/Linux课程笔记/笔记/linux课程/images/20220909171324.png">

<h4 id="自定义日志服务"><a href="#自定义日志服务" class="headerlink" title="自定义日志服务"></a>自定义日志服务</h4><p>自定义日志服务管理实例：</p>
<p>在&#x2F;etc&#x2F;rsyslog.conf中添加一个日志文件&#x2F;var&#x2F;log&#x2F;xq.log，当有事件发生时(比如sshd相关服务的事件)。该文件会接收到信息并保存。比如我们登录 重启linux系统的时候，看看对应的日志信息是否成功保存。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 log]# vim /etc/rsyslog.conf </span><br></pre></td></tr></table></figure>

<p>我们编辑&#x2F;etc&#x2F;rsyslog.conf文件，添加自定义日志信息：</p>
<img src="E:/CtrlX/Desktop/笔记/01大学/正课课件/Linux课程笔记/笔记/linux课程/images/20220909172041.png" style="zoom:80%">

<p>接下来，我们创建xq.log日志文件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 ~]# cd /var/log</span><br><span class="line">[root@xq100 log]# vim xq.log</span><br><span class="line">[root@xq100 log]# cat xq.log </span><br><span class="line">[root@xq100 log]# reboot </span><br></pre></td></tr></table></figure>

<p>我们查看日志xq.log文件：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 log]# cat xq.log | grep sshd</span><br><span class="line">Sep  9 17:25:24 xq100 sshd[1292]: Server listening on 0.0.0.0 port 22.</span><br><span class="line">Sep  9 17:25:24 xq100 sshd[1292]: Server listening on :: port 22.</span><br><span class="line">Sep  9 17:25:33 xq100 sshd[1682]: Accepted password for root from 192.168.10.1 port 49929 ssh2</span><br><span class="line">Sep  9 17:25:33 xq100 sshd[1682]: pam_unix(sshd:session): session opened for user root by (uid=0)</span><br></pre></td></tr></table></figure>

<p>我们发现，日志信息成功被记录了。</p>
<h4 id="日志轮替"><a href="#日志轮替" class="headerlink" title="日志轮替"></a>日志轮替</h4><p>日志轮替就是按照一定的规则，将一些不需要的旧的文件删掉。</p>
<p>日志轮替，我们使用了&#x2F;etc&#x2F;logrotate.conf这个配置文件进行管理的。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 logrotate.d]# cat /etc/logrotate.conf</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">see <span class="string">&quot;man logrotate&quot;</span> <span class="keyword">for</span> details</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">rotate <span class="built_in">log</span> files weekly</span></span><br><span class="line">weekly</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">keep 4 weeks worth of backlogs</span></span><br><span class="line">rotate 4</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">create new (empty) <span class="built_in">log</span> files after rotating old ones</span></span><br><span class="line">create</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">use <span class="built_in">date</span> as a suffix of the rotated file</span></span><br><span class="line">dateext</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">uncomment this <span class="keyword">if</span> you want your <span class="built_in">log</span> files compressed</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">compress</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">RPM packages drop <span class="built_in">log</span> rotation information into this directory</span></span><br><span class="line">include /etc/logrotate.d</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">no packages own wtmp and btmp -- we<span class="string">&#x27;ll rotate them here</span></span></span><br><span class="line">/var/log/wtmp &#123;</span><br><span class="line">    monthly</span><br><span class="line">    create 0664 root utmp</span><br><span class="line">	minsize 1M</span><br><span class="line">    rotate 1</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/var/log/btmp &#123;</span><br><span class="line">    missingok</span><br><span class="line">    monthly</span><br><span class="line">    create 0600 root utmp</span><br><span class="line">    rotate 1</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="string">system-specific logs may be also be configured here.</span></span></span><br></pre></td></tr></table></figure>

<p>这里有几个重要的默认参数：</p>
<ul>
<li>weekly：表示每周轮替一次</li>
<li>rotate 4：表示同一个日志文件最多保存四个版本 多了会删除</li>
<li>create：产生轮替之后生成一个新的空白的文件放在其后</li>
<li>dateext：日志轮替文件名字的命名方式<ul>
<li>如果配置文件中有dateext参数：日志会用日期作为日志文件的后缀，例如“message-20220801”。</li>
<li>如果没用dateext：日志需要进行改名，当第一次日志轮替时，当前的“secure”改名为“secure.1”，然后新建“secure”日志用来保存新的日志。第二次日志轮替时，当前的“secure.1”会自动更名为“secure.2”，“secure”更名为“secure.1”，新建“secure”以保存新的日志。以此类推。</li>
<li><strong>include &#x2F;etc&#x2F;logrotate.d：可以将自定义的日志轮替规则写到这个文件里去。</strong></li>
</ul>
</li>
</ul>
<p>我们也可以自定义日志轮替规则。</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">日志文件地址 &#123;</span><br><span class="line">	参数</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>参数：</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">daily：轮替周期 每天</span><br><span class="line">weekly：轮替周期 每周</span><br><span class="line">monthly：轮替周期 每月</span><br><span class="line">rotate [num]：保存日志文件的个数</span><br><span class="line">compress：轮替时对旧日志进行压缩</span><br><span class="line">create mode owner group：建立新日志的同时指定权限 所有者 所属组</span><br><span class="line">mail address：日志轮替时输出内容通过邮件发送到指定的邮件地址</span><br><span class="line">missingok：如果日志不存在则忽略日志的警告信息</span><br><span class="line">notifempty：如果日志为空文件则不进行日志轮替</span><br><span class="line">minsize [size]：日志轮替的最小值 即超过该大小才会轮替 否则到达轮替周期也不会轮替</span><br><span class="line">size [size[：日志达到指定大小进行轮替 而不是按照轮替的时间周期</span><br><span class="line">dateext：使用日期作为日志轮替文件的后缀</span><br><span class="line">sharedscripts：在此关键字之后的脚本只执行一次</span><br><span class="line">prerotate/endscripts：在日志轮替之前执行脚本命令</span><br><span class="line">postrotate/endscripts：在日志轮替之后执行脚本命令</span><br></pre></td></tr></table></figure>

<p>我们查看可以自定义的日志轮替文件：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 logrotate.d]# cd /etc/logrotate.d</span><br><span class="line">[root@xq100 logrotate.d]# ll</span><br><span class="line">total 60</span><br><span class="line">-rw-r--r--. 1 root root  91 Aug  6  2019 bootlog</span><br><span class="line">-rw-r--r--. 1 root root 160 Sep 19  2018 chrony</span><br><span class="line">-rw-r--r--. 1 root root  71 Aug  6  2019 cups</span><br><span class="line">-rw-r--r--. 1 root root 758 Aug  8  2019 glusterfs</span><br><span class="line">-rw-r--r--. 1 root root 172 Sep 30  2016 iscsiuiolog</span><br><span class="line">-rw-r--r--. 1 root root 165 Aug  9  2019 libvirtd</span><br><span class="line">-rw-r--r--. 1 root root 142 Aug  9  2019 libvirtd.qemu</span><br><span class="line">-rw-r--r--. 1 root root 106 Apr 11  2018 numad</span><br><span class="line">-rw-r--r--. 1 root root 136 Jun 10  2014 ppp</span><br><span class="line">-rw-r--r--. 1 root root 408 Aug  3  2017 psacct</span><br><span class="line">-rw-r--r--. 1 root root 115 Aug  9  2019 samba</span><br><span class="line">-rw-r--r--. 1 root root 237 Aug 13  2019 sssd</span><br><span class="line">-rw-r--r--. 1 root root 224 Aug  6  2019 syslog</span><br><span class="line">-rw-r--r--. 1 root root 100 Oct 31  2018 wpa_supplicant</span><br><span class="line">-rw-r--r--. 1 root root 103 Aug  8  2019 yum</span><br><span class="line">[root@xq100 logrotate.d]# cat bootlog </span><br><span class="line">/var/log/boot.log</span><br><span class="line">&#123;</span><br><span class="line">    missingok   # 如果日志不存在则忽略该日志的警告信息</span><br><span class="line">    daily  # 每天轮替一次</span><br><span class="line">    copytruncate  # 先把原始文件拷贝一份重命名，然后把原始文件清空</span><br><span class="line">    rotate 7  # 仅保留7个日志备份</span><br><span class="line">    notifempty  # 如果日志为空文件则不进行日志轮替</span><br><span class="line">&#125;</span><br><span class="line">[root@xq100 logrotate.d]#</span><br></pre></td></tr></table></figure>

<p><strong>应用实例：将我们自定义的日志文件加入日志轮替。</strong></p>
<p>第一种方法：直接在&#x2F;etc&#x2F;logrotate.conf配置文件中写入对该日志的轮替策略。</p>
<p>第二种方法：在&#x2F;etc&#x2F;logrotate.d目录下新建该日志的轮替文件。在该轮替文件中定义轮替策略，因为该目录中的文件都会被包含到主配置文件logrotate.conf中。</p>
<p>我们推荐使用第二种方法，因为系统中需要轮替的日志文件非常多，为了可读性方便，建立单独定义轮替规则。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 logrotate.d]# cd /etc/logrotate.d</span><br><span class="line">[root@xq100 logrotate.d]# vim xqlog</span><br></pre></td></tr></table></figure>

<p>定义轮替规则：</p>
<img src="E:/CtrlX/Desktop/笔记/01大学/正课课件/Linux课程笔记/笔记/linux课程/images/20220909180837.png" style="zoom:80%">

<p>注意：logrotate.conf只是定义了日志轮替的规则，那么日志轮替(在指定的时间备份日志)的这个动作，依赖于系统定时任务。可以在 &#x2F;etc&#x2F;cron.daily&#x2F; 中发现一个可执行文件logrotate。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@xq100 logrotate.d]# cd /etc/cron.daily/</span><br><span class="line">[root@xq100 cron.daily]# ll</span><br><span class="line">total 12</span><br><span class="line">-rwx------. 1 root root 219 Oct 31  2018 logrotate  --  依赖于这个文件帮助我们执行日志备份操作</span><br><span class="line">-rwxr-xr-x. 1 root root 618 Oct 30  2018 man-db.cron</span><br><span class="line">-rwx------. 1 root root 208 Apr 11  2018 mlocate</span><br></pre></td></tr></table></figure>

<h4 id="内存日志"><a href="#内存日志" class="headerlink" title="内存日志"></a>内存日志</h4><p>在linux中，有一部分日志信息是没有写到日志文件里面去的，而是写在内存中的。这些日志的特点是日志信息都在随时发生变化。比如linux内核的日志信息。内存日志还有一个特点是linux系统在重新启动的时候，内存日志就会被清空。</p>
<p>操作内存日志的常用指令如下：</p>
<ul>
<li>journalctl查看所有的内存日志</li>
<li>journalctl -n 3查看最新3条</li>
<li>journalctl –since 15:00 –until 15:10查看区间时间内的日志 可加日期</li>
<li>journalctl -p err查看报错日志</li>
<li>journalctl -o verbose日志详细内容</li>
</ul>
<h1 id="Linux关键知识点总结"><a href="#Linux关键知识点总结" class="headerlink" title="Linux关键知识点总结"></a>Linux关键知识点总结</h1><p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/hexoBlogCtrlCherry/1.42w4gyy1v1s0.webp" alt="1"></p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/hexoBlogCtrlCherry/2.12olca15r6m8.webp" alt="2"></p>
<p><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/hexoBlogCtrlCherry/3.6g3rq93f8k40.webp" alt="3"></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="http://ctrlx.life">CtrlX</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://ctrlx.life/post/ea10355e.html">http://ctrlx.life/post/ea10355e.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://ctrlx.life" target="_blank">CtrlCherry</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%90%88%E9%9B%86/">合集</a><a class="post-meta__tags" href="/tags/Linux/">Linux</a></div><div class="post_share"><div class="social-share" data-image="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/hexoBlogCtrlCherry/jy8.53nku5qlm5o0.webp" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> 打赏</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/wechat.png" target="_blank"><img class="post-qr-code-img" src="/img/wechat.png" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="/img/alipay.png" target="_blank"><img class="post-qr-code-img" src="/img/alipay.png" alt="支付寶"/></a><div class="post-qr-code-desc">支付寶</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/post/8343ef68.html"><img class="prev-cover" src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/hexoBlogCtrlCherry/jy10.26cbjslfx9mo.webp" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">C语言函数的栈帧详解</div></div></a></div><div class="next-post pull-right"><a href="/post/a1d1d3e4.html"><img class="next-cover" src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/BG/image.2o9njislmhw0.webp" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">高等数学笔记合集</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/post/fe9385a0.html" title="01-C语言进阶篇与常见面试题笔记"><img class="cover" src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/hexoBlogCtrlCherry/jy13.3npug80s4ii0.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-09-28</div><div class="title">01-C语言进阶篇与常见面试题笔记</div></div></a></div><div><a href="/post/b1068ff7.html" title="英语语法体系笔记合集"><img class="cover" src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/BG/image.smn0b66nh1c.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-10-08</div><div class="title">英语语法体系笔记合集</div></div></a></div><div><a href="/post/cec14348.html" title="MySQL学习笔记合集"><img class="cover" src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/BG/image.5y9vswjd3mo0.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-10-09</div><div class="title">MySQL学习笔记合集</div></div></a></div><div><a href="/post/78ae65ae.html" title="C++提高编程笔记合集"><img class="cover" src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/hexoBlogCtrlCherry/jy8.53nku5qlm5o0.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-10-04</div><div class="title">C++提高编程笔记合集</div></div></a></div><div><a href="/post/1d02ebea.html" title="C++核心编程笔记合集"><img class="cover" src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/hexoBlogCtrlCherry/jy8.53nku5qlm5o0.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-08-31</div><div class="title">C++核心编程笔记合集</div></div></a></div><div><a href="/post/868c7499.html" title="C Primer Plus代码实践笔记"><img class="cover" src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/BG/image.2cm00h39pc00.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-10-30</div><div class="title">C Primer Plus代码实践笔记</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/favicon.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">CtrlX</div><div class="author-info__description">Inevitable、Optional</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">106</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">18</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">20</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://code.ctrlx.life/"><i class="fa-solid fa-code"></i><span>Code index</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/hexoBlogCtrlCherry/Screenshot_2022-07-30-09-45-30-782_com.3xz33a701f40.webp" target="_blank" title=""><i class="fa-brands fa-weixin"></i></a><a class="social-icon" href="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/hexoBlogCtrlCherry/Screenshot_2022-07-30-09-46-06-610_com.641chq4g7ps0.webp" target="_blank" title=""><i class="fa-brands fa-qq"></i></a><a class="social-icon" href="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/hexoBlogCtrlCherry/Screenshot_2022-07-30-09-39-29-222_com.5q7wnairykc0.webp" target="_blank" title=""><i class="fa-brands fa-instagram"></i></a><a class="social-icon" href="https://steamcommunity.com/profiles/76561199113999370/" target="_blank" title=""><i class="fa-brands fa-steam"></i></a><a class="social-icon" href="https://twitter.com/GitCtrlX?t=h1TjUUcsWmdL0EnxVaALxg&amp;s=09" target="_blank" title=""><i class="fa-brands fa-twitter"></i></a><a class="social-icon" href="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/hexoBlogCtrlCherry/Screenshot_2022-07-30-09-52-36-955_org.4e0vey1njrm0.webp" target="_blank" title=""><i class="fa-brands fa-telegram"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">18：00-次日6：00开启夜间模式 <p align="center">为何中意我这种无赖，是话你太蠢还是太伟大</p></div></div><div class="xpand" style="height:10px;"></div><canvas class="illo" width="800" height="800" style="max-width: 200px; max-height: 200px; touch-action: none; width: 640px; height: 640px;"></canvas><script src="https://fastly.jsdelivr.net/gh/xiaopengand/blogCdn@latest/xzxr/twopeople1.js"></script><script src="https://fastly.jsdelivr.net/gh/xiaopengand/blogCdn@latest/xzxr/zdog.dist.js"></script><script id="rendered-js" src="https://fastly.jsdelivr.net/gh/xiaopengand/blogCdn@latest/xzxr/twopeople.js"></script><style>.card-widget.card-announcement {
margin: 0;
align-items: center;
justify-content: center;
text-align: center;
}
canvas {
display: block;
margin: 0 auto;
cursor: move;
}</style><div class="card-widget"><div class="item-headline"><i class="fa-solid fa-broom-ball"></i><span>这是个牌子</span></div><div class="item-content"><marquee><b>People who can't give up nothing can't change anything.</b></marquee></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Linux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F"><span class="toc-number">1.</span> <span class="toc-text">Linux操作系统</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#linux%E5%9F%BA%E7%A1%80%E7%AF%87"><span class="toc-number">1.1.</span> <span class="toc-text">linux基础篇</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#linux%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E8%BF%B0"><span class="toc-number">1.1.1.</span> <span class="toc-text">linux的基本概述</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#linux%E7%9A%84%E7%94%B1%E6%9D%A5"><span class="toc-number">1.1.1.1.</span> <span class="toc-text">linux的由来</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#linux%E4%B8%8Eunix%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="toc-number">1.1.1.2.</span> <span class="toc-text">linux与unix的关系</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#unix"><span class="toc-number">1.1.1.2.1.</span> <span class="toc-text">unix</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#linux"><span class="toc-number">1.1.1.2.2.</span> <span class="toc-text">linux</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#unix%E4%B8%8Elinux%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">1.1.1.2.3.</span> <span class="toc-text">unix与linux的区别</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#linux%E7%9A%84%E5%AE%89%E8%A3%85"><span class="toc-number">1.1.2.</span> <span class="toc-text">linux的安装</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8B%E8%BD%BD%E5%B9%B6%E5%AE%89%E8%A3%85vmware"><span class="toc-number">1.1.2.1.</span> <span class="toc-text">下载并安装vmware</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%8B%E8%BD%BDvmware"><span class="toc-number">1.1.2.1.1.</span> <span class="toc-text">下载vmware</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%89%E8%A3%85vmware"><span class="toc-number">1.1.2.1.2.</span> <span class="toc-text">安装vmware</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9F%90%E4%BA%9B%E7%94%B5%E8%84%91%E5%87%BA%E7%8E%B0%E5%AE%89%E8%A3%85%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%A4%B1%E8%B4%A5%E7%9A%84%E6%83%85%E5%86%B5"><span class="toc-number">1.1.2.1.3.</span> <span class="toc-text">某些电脑出现安装虚拟机失败的情况</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%89%E8%A3%85centos7"><span class="toc-number">1.1.2.2.</span> <span class="toc-text">安装centos7</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%8B%E8%BD%BDcentos7%E9%95%9C%E5%83%8F"><span class="toc-number">1.1.2.2.1.</span> <span class="toc-text">下载centos7镜像</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%89%E8%A3%85centos7-1"><span class="toc-number">1.1.2.2.2.</span> <span class="toc-text">安装centos7</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#linux%E7%9A%84%E5%9F%BA%E6%9C%AC%E5%B8%B8%E8%AF%86"><span class="toc-number">1.1.3.</span> <span class="toc-text">linux的基本常识</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#linux%E7%BD%91%E7%BB%9C%E8%BF%9E%E6%8E%A5%E4%B8%89%E7%A7%8D%E6%96%B9%E5%BC%8F"><span class="toc-number">1.1.3.1.</span> <span class="toc-text">linux网络连接三种方式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%9A%84%E5%85%8B%E9%9A%86"><span class="toc-number">1.1.3.2.</span> <span class="toc-text">虚拟机的克隆</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%9A%84%E5%BF%AB%E7%85%A7"><span class="toc-number">1.1.3.3.</span> <span class="toc-text">虚拟机的快照</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%9A%84%E8%BF%81%E7%A7%BB%E5%92%8C%E5%88%A0%E9%99%A4"><span class="toc-number">1.1.3.4.</span> <span class="toc-text">虚拟机的迁移和删除</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#linux%E7%9A%84%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84"><span class="toc-number">1.1.4.</span> <span class="toc-text">linux的目录结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#linux%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84%E7%AE%80%E4%BB%8B"><span class="toc-number">1.1.4.1.</span> <span class="toc-text">linux目录结构简介</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#linux%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84%E8%AF%A6%E8%A7%A3"><span class="toc-number">1.1.4.2.</span> <span class="toc-text">linux目录结构详解</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#linux%E5%9F%BA%E6%9C%AC%E5%AE%9E%E6%93%8D"><span class="toc-number">1.1.5.</span> <span class="toc-text">linux基本实操</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#linux%E8%BF%9C%E7%A8%8B%E7%99%BB%E5%BD%95"><span class="toc-number">1.1.5.1.</span> <span class="toc-text">linux远程登录</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#linux-vi-x2F-vim%E7%BC%96%E8%BE%91%E5%99%A8"><span class="toc-number">1.1.5.2.</span> <span class="toc-text">linux vi&#x2F;vim编辑器</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#vi-x2F-vim%E7%9A%84%E4%B8%89%E7%A7%8D%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.1.5.2.1.</span> <span class="toc-text">vi&#x2F;vim的三种模式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8vim%E5%B7%A5%E5%85%B7"><span class="toc-number">1.1.5.2.2.</span> <span class="toc-text">使用vim工具</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#vim%E7%BC%96%E8%BE%91%E5%99%A8%E5%BF%AB%E6%8D%B7%E9%94%AE%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">1.1.5.2.3.</span> <span class="toc-text">vim编辑器快捷键的使用</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#linux%E5%85%B3%E6%9C%BA%E9%87%8D%E5%90%AF"><span class="toc-number">1.1.5.3.</span> <span class="toc-text">linux关机重启</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E7%99%BB%E5%BD%95%E5%92%8C%E6%B3%A8%E9%94%80"><span class="toc-number">1.1.5.4.</span> <span class="toc-text">用户登录和注销</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#linux%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86"><span class="toc-number">1.1.6.</span> <span class="toc-text">linux用户管理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E7%94%A8%E6%88%B7"><span class="toc-number">1.1.6.1.</span> <span class="toc-text">添加用户</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%99%E7%94%A8%E6%88%B7%E6%B7%BB%E5%8A%A0%E5%AF%86%E7%A0%81"><span class="toc-number">1.1.6.2.</span> <span class="toc-text">给用户添加密码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E7%94%A8%E6%88%B7"><span class="toc-number">1.1.6.3.</span> <span class="toc-text">删除用户</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF"><span class="toc-number">1.1.6.4.</span> <span class="toc-text">查询用户信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E7%BB%84"><span class="toc-number">1.1.6.5.</span> <span class="toc-text">用户组</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#linux%E8%BF%90%E8%A1%8C%E7%BA%A7%E5%88%AB"><span class="toc-number">1.1.7.</span> <span class="toc-text">linux运行级别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E6%89%BE%E5%9B%9Eroot%E5%AF%86%E7%A0%81"><span class="toc-number">1.1.8.</span> <span class="toc-text">如何找回root密码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#linux%E5%B8%AE%E5%8A%A9%E6%8C%87%E4%BB%A4"><span class="toc-number">1.1.9.</span> <span class="toc-text">linux帮助指令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="toc-number">1.1.10.</span> <span class="toc-text">linux常用命令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#linux%E6%96%87%E4%BB%B6-%E7%9B%AE%E5%BD%95-%E7%9B%B8%E5%85%B3%E7%9A%84%E6%8C%87%E4%BB%A4"><span class="toc-number">1.1.10.1.</span> <span class="toc-text">linux文件(目录)相关的指令</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%87%E4%BB%B6-%E7%9B%AE%E5%BD%95-%E6%93%8D%E4%BD%9C"><span class="toc-number">1.1.10.1.1.</span> <span class="toc-text">文件(目录)操作</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E6%93%8D%E4%BD%9C"><span class="toc-number">1.1.10.1.2.</span> <span class="toc-text">查看操作</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#linux%E6%97%B6%E9%97%B4%E6%8C%87%E4%BB%A4"><span class="toc-number">1.1.10.2.</span> <span class="toc-text">linux时间指令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%90%9C%E7%B4%A2%E6%9F%A5%E6%89%BE"><span class="toc-number">1.1.10.3.</span> <span class="toc-text">搜索查找</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8E%8B%E7%BC%A9%E5%92%8C%E8%A7%A3%E5%8E%8B"><span class="toc-number">1.1.10.4.</span> <span class="toc-text">压缩和解压</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#linux%E7%BB%84%E7%AE%A1%E7%90%86%E5%92%8C%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86"><span class="toc-number">1.1.11.</span> <span class="toc-text">linux组管理和权限管理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#linux%E7%BB%84%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.1.11.1.</span> <span class="toc-text">linux组介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Linux%E6%9D%83%E9%99%90%E7%9A%84%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.1.11.2.</span> <span class="toc-text">Linux权限的介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#linux%E6%9D%83%E9%99%90%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E8%BF%B0"><span class="toc-number">1.1.11.2.1.</span> <span class="toc-text">linux权限的基本概述</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E5%8F%8A%E7%9B%AE%E5%BD%95%E7%9A%84%E6%A1%88%E4%BE%8B"><span class="toc-number">1.1.11.2.2.</span> <span class="toc-text">文件及目录的案例</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9D%83%E9%99%90%E7%9A%84%E4%BF%AE%E6%94%B9"><span class="toc-number">1.1.11.2.3.</span> <span class="toc-text">权限的修改</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86%E7%9A%84%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5"><span class="toc-number">1.1.11.2.4.</span> <span class="toc-text">权限管理的最佳实践</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#linux%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1%E8%B0%83%E5%BA%A6"><span class="toc-number">1.1.12.</span> <span class="toc-text">linux定时任务调度</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#crond%E4%BB%BB%E5%8A%A1%E8%B0%83%E5%BA%A6%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8"><span class="toc-number">1.1.12.1.</span> <span class="toc-text">crond任务调度快速入门</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#crond%E4%BB%BB%E5%8A%A1%E8%B0%83%E5%BA%A6%E7%9A%84%E6%97%B6%E9%97%B4%E8%A7%84%E5%88%99"><span class="toc-number">1.1.12.2.</span> <span class="toc-text">crond任务调度的时间规则</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#crond%E4%BB%BB%E5%8A%A1%E8%B0%83%E5%BA%A6%E5%AE%9E%E4%BE%8B"><span class="toc-number">1.1.12.3.</span> <span class="toc-text">crond任务调度实例</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#at%E4%BB%BB%E5%8A%A1%E8%B0%83%E5%BA%A6%E6%9C%BA%E5%88%B6%E7%9A%84%E7%AE%80%E5%8D%95%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.1.12.4.</span> <span class="toc-text">at任务调度机制的简单介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#at%E4%BB%BB%E5%8A%A1%E8%B0%83%E5%BA%A6%E5%AE%9E%E4%BE%8B"><span class="toc-number">1.1.12.5.</span> <span class="toc-text">at任务调度实例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#linux%E7%A3%81%E7%9B%98%E5%88%86%E5%8C%BA"><span class="toc-number">1.1.13.</span> <span class="toc-text">linux磁盘分区</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#linux%E7%A3%81%E7%9B%98%E5%88%86%E5%8C%BA%E6%9C%BA%E5%88%B6"><span class="toc-number">1.1.13.1.</span> <span class="toc-text">linux磁盘分区机制</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%A3%81%E7%9B%98%E5%88%86%E5%8C%BA%E5%92%8Clinux%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="toc-number">1.1.13.1.1.</span> <span class="toc-text">磁盘分区和linux文件系统的关系</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#linux%E7%A1%AC%E7%9B%98%E6%A0%87%E8%AF%86"><span class="toc-number">1.1.13.1.2.</span> <span class="toc-text">linux硬盘标识</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A3%81%E7%9B%98%E6%8C%82%E8%BD%BD%E7%9A%84%E6%A1%88%E4%BE%8B"><span class="toc-number">1.1.13.2.</span> <span class="toc-text">磁盘挂载的案例</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A3%81%E7%9B%98%E6%83%85%E5%86%B5%E6%9F%A5%E8%AF%A2%E6%8C%87%E4%BB%A4"><span class="toc-number">1.1.13.3.</span> <span class="toc-text">磁盘情况查询指令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A3%81%E7%9B%98%E6%93%8D%E4%BD%9C%E5%AE%9E%E7%94%A8%E6%8C%87%E4%BB%A4"><span class="toc-number">1.1.13.4.</span> <span class="toc-text">磁盘操作实用指令</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Linux-NAT%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE"><span class="toc-number">1.1.14.</span> <span class="toc-text">Linux NAT网络配置</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#linux-NAT%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86"><span class="toc-number">1.1.14.1.</span> <span class="toc-text">linux NAT网络原理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-14-2-linux%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E7%9A%84%E6%8C%87%E4%BB%A4"><span class="toc-number">1.1.14.2.</span> <span class="toc-text">1.14.2 linux网络配置的指令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-14-3-linux%E7%BD%91%E7%BB%9C%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%EF%BC%88%E5%9B%BA%E5%AE%9Aip%E7%9A%84%E6%96%B9%E5%BC%8F%EF%BC%89"><span class="toc-number">1.1.14.3.</span> <span class="toc-text">1.14.3 linux网络环境配置（固定ip的方式）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E4%B8%BB%E6%9C%BA%E5%90%8D%E5%92%8Chost%E6%98%A0%E5%B0%84"><span class="toc-number">1.1.14.4.</span> <span class="toc-text">设置主机名和host映射</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#linux%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86"><span class="toc-number">1.1.15.</span> <span class="toc-text">linux进程管理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.1.15.1.</span> <span class="toc-text">进程的基本介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E7%B3%BB%E7%BB%9F%E8%BF%90%E8%A1%8C%E7%9A%84%E8%BF%9B%E7%A8%8B"><span class="toc-number">1.1.15.2.</span> <span class="toc-text">查看系统运行的进程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E7%9A%84%E5%BA%94%E7%94%A8%E5%AE%9E%E4%BE%8B"><span class="toc-number">1.1.15.3.</span> <span class="toc-text">进程的应用实例</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%88%E6%AD%A2%E8%BF%9B%E7%A8%8B"><span class="toc-number">1.1.15.4.</span> <span class="toc-text">终止进程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E8%BF%9B%E7%A8%8B%E6%A0%91"><span class="toc-number">1.1.15.5.</span> <span class="toc-text">查看进程树</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#linux%E6%9C%8D%E5%8A%A1%E7%AE%A1%E7%90%86"><span class="toc-number">1.1.16.</span> <span class="toc-text">linux服务管理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#service%E7%AE%A1%E7%90%86%E6%8C%87%E4%BB%A4"><span class="toc-number">1.1.16.1.</span> <span class="toc-text">service管理指令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#chkconfig%E6%8C%87%E4%BB%A4"><span class="toc-number">1.1.16.2.</span> <span class="toc-text">chkconfig指令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#systemctl%E6%9C%8D%E5%8A%A1%E7%AE%A1%E7%90%86%E6%8C%87%E4%BB%A4"><span class="toc-number">1.1.16.3.</span> <span class="toc-text">systemctl服务管理指令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#firewall%E9%98%B2%E7%81%AB%E5%A2%99%E6%8C%87%E4%BB%A4"><span class="toc-number">1.1.16.4.</span> <span class="toc-text">firewall防火墙指令</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E7%9B%91%E6%8E%A7"><span class="toc-number">1.1.17.</span> <span class="toc-text">动态监控</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#top%E6%8C%87%E4%BB%A4%E8%AF%A6%E8%A7%A3"><span class="toc-number">1.1.17.1.</span> <span class="toc-text">top指令详解</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#top%E6%8C%87%E4%BB%A4%E7%9A%84%E4%BA%A4%E4%BA%92%E6%93%8D%E4%BD%9C"><span class="toc-number">1.1.17.2.</span> <span class="toc-text">top指令的交互操作</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9B%91%E6%8E%A7%E7%BD%91%E7%BB%9C%E7%8A%B6%E6%80%81"><span class="toc-number">1.1.17.3.</span> <span class="toc-text">监控网络状态</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#rpm%E4%B8%8Eyum"><span class="toc-number">1.1.18.</span> <span class="toc-text">rpm与yum</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#rpm"><span class="toc-number">1.1.18.1.</span> <span class="toc-text">rpm</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#yum"><span class="toc-number">1.1.18.2.</span> <span class="toc-text">yum</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E7%9A%84%E5%AE%89%E8%A3%85"><span class="toc-number">1.1.19.</span> <span class="toc-text">常用软件的安装</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%89%E8%A3%85JDK8"><span class="toc-number">1.1.19.1.</span> <span class="toc-text">安装JDK8</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%89%E8%A3%85mysql5-7"><span class="toc-number">1.1.19.2.</span> <span class="toc-text">安装mysql5.7</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#mysql%E7%9A%84%E5%AE%89%E8%A3%85"><span class="toc-number">1.1.19.2.1.</span> <span class="toc-text">mysql的安装</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E4%BF%AE%E6%94%B9root%E5%AF%86%E7%A0%81"><span class="toc-number">1.1.19.2.2.</span> <span class="toc-text">如何修改root密码</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%89%E8%A3%85tomcat"><span class="toc-number">1.1.19.3.</span> <span class="toc-text">安装tomcat</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#linux%E8%BF%9B%E9%98%B6%E7%AF%87"><span class="toc-number">1.2.</span> <span class="toc-text">linux进阶篇</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#shell%E7%BC%96%E7%A8%8B"><span class="toc-number">1.2.1.</span> <span class="toc-text">shell编程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E4%B8%AAshell%E7%A8%8B%E5%BA%8F"><span class="toc-number">1.2.1.1.</span> <span class="toc-text">第一个shell程序</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#shell%E7%9A%84%E5%8F%98%E9%87%8F"><span class="toc-number">1.2.1.2.</span> <span class="toc-text">shell的变量</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89%E7%94%A8%E6%88%B7%E5%8F%98%E9%87%8F"><span class="toc-number">1.2.1.2.1.</span> <span class="toc-text">定义用户变量</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="toc-number">1.2.1.2.2.</span> <span class="toc-text">设置环境变量</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E4%BD%8D%E7%BD%AE%E5%8F%82%E6%95%B0%E5%8F%98%E9%87%8F"><span class="toc-number">1.2.1.2.3.</span> <span class="toc-text">设置位置参数变量</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%A2%84%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F"><span class="toc-number">1.2.1.2.4.</span> <span class="toc-text">预定义变量</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#shell%E4%B8%AD%E7%9A%84%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.2.1.3.</span> <span class="toc-text">shell中的运算符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#shell%E4%B8%AD%E7%9A%84%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD"><span class="toc-number">1.2.1.4.</span> <span class="toc-text">shell中的条件判断</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#if%E5%88%A4%E6%96%AD"><span class="toc-number">1.2.1.4.1.</span> <span class="toc-text">if判断</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#if-else%E5%88%A4%E6%96%AD"><span class="toc-number">1.2.1.4.2.</span> <span class="toc-text">if - else判断</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#case%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.2.1.4.3.</span> <span class="toc-text">case语句</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#shell%E4%B8%AD%E7%9A%84%E5%BE%AA%E7%8E%AF"><span class="toc-number">1.2.1.5.</span> <span class="toc-text">shell中的循环</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#for%E5%BE%AA%E7%8E%AF"><span class="toc-number">1.2.1.5.1.</span> <span class="toc-text">for循环</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-1-5-2-while%E5%BE%AA%E7%8E%AF"><span class="toc-number">1.2.1.5.2.</span> <span class="toc-text">2.1.5.2 while循环</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#read%E8%AF%BB%E5%8F%96%E6%8E%A7%E5%88%B6%E5%8F%B0%E8%BE%93%E5%85%A5"><span class="toc-number">1.2.1.6.</span> <span class="toc-text">read读取控制台输入</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#shell%E5%87%BD%E6%95%B0"><span class="toc-number">1.2.1.7.</span> <span class="toc-text">shell函数</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E5%87%BD%E6%95%B0"><span class="toc-number">1.2.1.7.1.</span> <span class="toc-text">系统函数</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%87%BD%E6%95%B0"><span class="toc-number">1.2.1.7.2.</span> <span class="toc-text">自定义函数</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#shell%E7%BC%96%E7%A8%8B%E7%BB%BC%E5%90%88%E6%A1%88%E4%BE%8B"><span class="toc-number">1.2.1.8.</span> <span class="toc-text">shell编程综合案例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#linux%E6%97%A5%E5%BF%97%E7%AE%A1%E7%90%86"><span class="toc-number">1.2.2.</span> <span class="toc-text">linux日志管理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#linux%E6%97%A5%E5%BF%97%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.2.2.1.</span> <span class="toc-text">linux日志的基本介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#linux%E6%97%A5%E5%BF%97%E7%AE%A1%E7%90%86%E6%9C%8D%E5%8A%A1"><span class="toc-number">1.2.2.2.</span> <span class="toc-text">linux日志管理服务</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%A5%E5%BF%97%E6%9C%8D%E5%8A%A1%E7%AE%A1%E7%90%86%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">1.2.2.3.</span> <span class="toc-text">日志服务管理的配置文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E6%97%A5%E5%BF%97%E6%9C%8D%E5%8A%A1"><span class="toc-number">1.2.2.4.</span> <span class="toc-text">自定义日志服务</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%A5%E5%BF%97%E8%BD%AE%E6%9B%BF"><span class="toc-number">1.2.2.5.</span> <span class="toc-text">日志轮替</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%86%85%E5%AD%98%E6%97%A5%E5%BF%97"><span class="toc-number">1.2.2.6.</span> <span class="toc-text">内存日志</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Linux%E5%85%B3%E9%94%AE%E7%9F%A5%E8%AF%86%E7%82%B9%E6%80%BB%E7%BB%93"><span class="toc-number">2.</span> <span class="toc-text">Linux关键知识点总结</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/post/bc0a8365.html" title="CMake学习笔记"><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/hexoBlogCtrlCherry/jy8.53nku5qlm5o0.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="CMake学习笔记"/></a><div class="content"><a class="title" href="/post/bc0a8365.html" title="CMake学习笔记">CMake学习笔记</a><time datetime="2023-01-06T12:30:50.000Z" title="发表于 2023-01-06 20:30:50">2023-01-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/297a89d9.html" title="Python学习笔记"><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/BG/image.1ieyh98xguio.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Python学习笔记"/></a><div class="content"><a class="title" href="/post/297a89d9.html" title="Python学习笔记">Python学习笔记</a><time datetime="2022-12-06T02:57:13.000Z" title="发表于 2022-12-06 10:57:13">2022-12-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/74a5716f.html" title="计算机网络笔记合集"><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/BG/image.426faxi87uw0.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="计算机网络笔记合集"/></a><div class="content"><a class="title" href="/post/74a5716f.html" title="计算机网络笔记合集">计算机网络笔记合集</a><time datetime="2022-12-04T02:57:57.000Z" title="发表于 2022-12-04 10:57:57">2022-12-04</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/17aafb82.html" title="Java与CPP的部分语法对比"><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/BG/image.2o9njislmhw0.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java与CPP的部分语法对比"/></a><div class="content"><a class="title" href="/post/17aafb82.html" title="Java与CPP的部分语法对比">Java与CPP的部分语法对比</a><time datetime="2022-11-28T09:43:59.000Z" title="发表于 2022-11-28 17:43:59">2022-11-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/81d713b6.html" title="Java/C++强制类型转化 | 自增自减运算符 对比"><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/BG/image.25awkajrwnxc.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java/C++强制类型转化 | 自增自减运算符 对比"/></a><div class="content"><a class="title" href="/post/81d713b6.html" title="Java/C++强制类型转化 | 自增自减运算符 对比">Java/C++强制类型转化 | 自增自减运算符 对比</a><time datetime="2022-11-27T08:02:27.000Z" title="发表于 2022-11-27 16:02:27">2022-11-27</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://cdn.staticaly.com/gh/1438802682/image-hosting@master/hexoBlogCtrlCherry/jy8.53nku5qlm5o0.webp')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By CtrlX</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="chat_btn" type="button" title="聊天"><i class="fas fa-sms"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script src="/js/search/local-search.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><script>(()=>{
  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: 'https://twikoo.ctrlx.life',
      region: '',
      onCommentLoaded: function () {
        btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      }
    }, null))
  }

  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://twikoo.ctrlx.life',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(function (res) {
      countELement.innerText = res[0].count
    }).catch(function (err) {
      console.error(err);
    });
  }

  const runFn = () => {
    init()
    
  }

  const loadTwikoo = () => {
    if (typeof twikoo === 'object') {
      setTimeout(runFn,0)
      return
    } 
    getScript('https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js').then(runFn)
  }

  if ('Twikoo' === 'Twikoo' || !false) {
    if (false) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = () => {
      loadTwikoo()
    }
  }
})()</script></div><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[图片]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[链接]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[代码]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const getComment = () => {
    const runTwikoo = () => {
      twikoo.getRecentComments({
        envId: 'https://twikoo.ctrlx.life',
        region: '',
        pageSize: 6,
        includeReply: true
      }).then(function (res) {
        const twikooArray = res.map(e => {
          return {
            'content': changeContent(e.comment),
            'avatar': e.avatar,
            'nick': e.nick,
            'url': e.url + '#' + e.id,
            'date': new Date(e.created).toISOString()
          }
        })

        saveToLocal.set('twikoo-newest-comments', JSON.stringify(twikooArray), 10/(60*24))
        generateHtml(twikooArray)
      }).catch(function (err) {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.innerHTML= "无法获取评论，请确认相关配置是否正确"
      })
    }

    if (typeof twikoo === 'object') {
      runTwikoo()
    } else {
      getScript('https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js').then(runTwikoo)
    }
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'></a>`
        }
        
        result += `<div class='content'>
        <a class='comment' href='${array[i].url}' title='${array[i].content}'>${array[i].content}</a>
        <div class='name'><span>${array[i].nick} / </span><time datetime="${array[i].date}">${btf.diffDate(array[i].date, true)}</time></div>
        </div></div>`
      }
    } else {
      result += '没有评论'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom.innerHTML= result
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('twikoo-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><div class="aplayer no-destroy" data-id="5183531430" data-server="netease" data-type="playlist" data-fixed="true" data-mini="true" data-listFolded="false" data-order="random" data-preload="none" data-autoplay="false" muted></div><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/fireworks.min.js"></script><script id="canvas_nest" defer="defer" color="255,192,203" opacity="0.9" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script src="//code.tidio.co/nwxefknyxvcions2yjh87dvfbm4i2qza.js" async="async"></script><script>function onTidioChatApiReady() {
  window.tidioChatApi.hide();
  window.tidioChatApi.on("close", function() {
    window.tidioChatApi.hide();
  });
}
if (window.tidioChatApi) {
  window.tidioChatApi.on("ready", onTidioChatApiReady);
} else {
  document.addEventListener("tidioChat-ready", onTidioChatApiReady);
}

var chatBtnFn = () => {
  document.getElementById("chat_btn").addEventListener("click", function(){
    window.tidioChatApi.show();
    window.tidioChatApi.open();
  });
}
chatBtnFn()
</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  typeof preloader === 'object' && preloader.initLoading()
  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><!-- hexo injector body_end start --> <script data-pjax>if(document.getElementById('recent-posts') && (location.pathname ==='/'|| '/' ==='all')){
    var parent = document.getElementById('recent-posts');
    var child = '<div class="recent-post-item" style="width:100%;height: auto"><div id="catalog_magnet"><div class="magnet_item"><a class="magnet_link" href="http://ctrlx.life/categories/Programming/CPP/DQuestion/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">💡 Daily Code<br>(3)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="http://ctrlx.life/categories/Programming/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">👩‍💻 Programming<br>(82)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="http://ctrlx.life/categories/Programming/CPP/Project/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">📒 CPP Project<br>(11)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="http://ctrlx.life/categories/Algorithm/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">🐱‍👓 Algorithm<br>(5)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><a class="magnet_link_more"  href="http://ctrlx.life/categories" style="flex:1;text-align: center;margin-bottom: 10px;">查看更多...</a></div></div>';
    console.log('已挂载magnet')
    parent.insertAdjacentHTML("afterbegin",child)}
     </script><style>#catalog_magnet{flex-wrap: wrap;display: flex;width:100%;justify-content:space-between;padding: 10px 10px 0 10px;align-content: flex-start;}.magnet_item{flex-basis: calc(25% - 5px);background: #f2f2f2;margin-bottom: 10px;border-radius: 8px;transition: all 0.2s ease-in-out;}.magnet_item:hover{background: #b30070}.magnet_link_more{color:#555}.magnet_link{color:black}.magnet_link:hover{color:white}@media screen and (max-width: 600px) {.magnet_item {flex-basis: 100%;}}.magnet_link_context{display:flex;padding: 10px;font-size:16px;transition: all 0.2s ease-in-out;}.magnet_link_context:hover{padding: 10px 20px;}</style>
    <style></style> <script data-pjax>if(document.getElementById('recent-posts') && location.pathname =='/'){
    
    var parent = document.getElementById('recent-posts');
    var child = '<div class="recent-post-item" style="height: auto;width: 100%"><div class="blog-slider swiper-container-fade swiper-container-horizontal" id="swiper_container"><div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms"><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms"><div class="blog-slider__img"><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/BG/image.69f0xe5xpzg0.webp" alt="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/BG/image.69f0xe5xpzg0.webp"/></div><div class="blog-slider__content"><span class="blog-slider__code">2022-07-30</span><a class="blog-slider__title" href="post/7af7302a.html">关于解决Hexo上传时出现errorSpawn错误的详细说明</a><div class="blog-slider__text">暴力解决errorSpawn！</div><a class="blog-slider__button" href="post/7af7302a.html">详情</a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms"><div class="blog-slider__img"><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/BG/image.426faxi87uw0.webp" alt="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/BG/image.426faxi87uw0.webp"/></div><div class="blog-slider__content"><span class="blog-slider__code">2022-09-25</span><a class="blog-slider__title" href="post/f254dc1d.html">C/CPP 指针变量 | 数组指针 | 指针数组 | 野指针 | 空指针</a><div class="blog-slider__text">C语言指针问题！</div><a class="blog-slider__button" href="post/f254dc1d.html">详情</a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms"><div class="blog-slider__img"><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/BG/image.65267p6y15c0.webp" alt="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/BG/image.65267p6y15c0.webp"/></div><div class="blog-slider__content"><span class="blog-slider__code">2022-10-01</span><a class="blog-slider__title" href="post/c9703b4.html">C/CPP数组的深入理解 | 指针与数组 | 一二三维数组</a><div class="blog-slider__text">二维数组的行地址、列地址，与元素的存储详细分析！</div><a class="blog-slider__button" href="post/c9703b4.html">详情</a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms"><div class="blog-slider__img"><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/BG/image.1uj92a8f4nvk.webp" alt="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/BG/image.1uj92a8f4nvk.webp"/></div><div class="blog-slider__content"><span class="blog-slider__code">2022-10-01</span><a class="blog-slider__title" href="post/107469e8.html">C/CPP结构中的字符数组和字符指针</a><div class="blog-slider__text">char[] 与 char*！</div><a class="blog-slider__button" href="post/107469e8.html">详情</a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms"><div class="blog-slider__img"><img src="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/BG/image.2ejm4a942h7o.webp" alt="https://cdn.staticaly.com/gh/1438802682/image-hosting@master/BG/image.2ejm4a942h7o.webp"/></div><div class="blog-slider__content"><span class="blog-slider__code">2022-07-31</span><a class="blog-slider__title" href="post/3613e636.html">C++内存分区模型分析与实例以及扩展</a><div class="blog-slider__text">C++ 内存分区知识！</div><a class="blog-slider__button" href="post/3613e636.html">详情</a></div></div></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div></div></div>';
    console.log('已挂载swiper')
    parent.insertAdjacentHTML("afterbegin",child)}
     </script>
<script data-pjax src="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-swiper/swiper/swiper.min.js"></script>
<script data-pjax src="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-swiper@0.18/swiper/swiperindex.js"></script>
<style></style>
  <script data-pjax src="https://cdn.jsdelivr.net/gh/Zfour/hexo-github-calendar@1.21/hexo_githubcalendar.js"></script>
  <script data-pjax>
        function GithubCalendarConfig(){
            var git_githubapiurl ="https://gitcalendar.zfe.space/api?1438802682";
            var git_color =['#ebedf0', '#fdcdec', '#fc9bd9', '#fa6ac5', '#f838b2', '#f5089f', '#c4067e', '#92055e', '#540336', '#48022f', '#30021f'];
            var git_user ="1438802682";
            var parent_div_git = document.getElementById('recent-posts');
            var git_div_html = '<div class="recent-post-item" style="width:100%;height:auto;padding:10px;"><div id="github_loading" style="width:10%;height:100%;margin:0 auto;display: block"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"  viewBox="0 0 50 50" style="enable-background:new 0 0 50 50" xml:space="preserve"><path fill="#d0d0d0" d="M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z" transform="rotate(275.098 25 25)"><animateTransform attributeType="xml" attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.6s" repeatCount="indefinite"></animateTransform></path></svg></div><div id="github_container"></div></div>';
            if(parent_div_git && location.pathname =='/'){
                console.log('已挂载github calendar')
                // parent_div_git.innerHTML=git_div_html+parent_div_git.innerHTML // 无报错，但不影响使用(支持pjax跳转)
                parent_div_git.insertAdjacentHTML("afterbegin",git_div_html) // 有报错，但不影响使用(支持pjax跳转)
            };
            GithubCalendar(git_githubapiurl,git_color,git_user)
        }
        if(document.getElementById('recent-posts')){
            GithubCalendarConfig()
        }
    </script>
    <style>#github_container{min-height:280px}@media screen and (max-width:650px) {#github_container{background-image:;min-height:0px}}</style>
    <style></style><script data-pjax>function history_calendar_injector_config(){
                var parent_div_git = document.getElementsByClassName('sticky_layout')[0];
                var item_html = '<div class="card-widget card-history"><div class="card-content"><div class="item-headline"><i class="fas fa-clock fa-spin"></i><span>那年今日</span></div><div id="history-baidu" style="height: 100px;overflow: hidden"><div class="history_swiper-container" id="history-container" style="width: 100%;height: 100%"><div class="swiper-wrapper" id="history_container_wrapper" style="height:20px"></div></div></div></div>';
                console.log('已挂载history_calendar')
                // parent_div_git.innerHTML=item_html+parent_div_git.innerHTML // 无报错，但不影响使用(支持pjax跳转)
                parent_div_git.insertAdjacentHTML("afterbegin",item_html) // 有报错，但不影响使用(支持pjax跳转)
            }if( document.getElementsByClassName('sticky_layout')[0] && (location.pathname ==='/'|| '/' ==='all')){

            history_calendar_injector_config()
        } </script><script data-pjax src="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-card-history/baiduhistory/js/main.js"></script><script data-pjax>
  function butterfly_clock_injector_config(){
    var parent_div_git = document.getElementsByClassName('sticky_layout')[0];
    var item_html = '<div class="card-widget card-clock"><div class="card-glass"><div class="card-background"><div class="card-content"><div id="hexo_electric_clock"><img class="entered loading" id="card-clock-loading" src="https://npm.elemecdn.com/hexo-butterfly-clock/lib/loading.gif" style="height: 120px; width: 100%;" data-ll-status="loading"/></div></div></div></div></div>';
    console.log('已挂载butterfly_clock')
    parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  var elist = 'null'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_clock_injector_config();
  }
  else if (epage === cpage){
    butterfly_clock_injector_config();
  }
  </script><script src="https://pv.sohu.com/cityjson?ie=utf-8"></script><script data-pjax src="https://npm.elemecdn.com/hexo-butterfly-clock/lib/clock.min.js"></script><!-- hexo injector body_end end --><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/assets/haruto.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"react":{"opacity":0.7},"log":false});</script></body></html>